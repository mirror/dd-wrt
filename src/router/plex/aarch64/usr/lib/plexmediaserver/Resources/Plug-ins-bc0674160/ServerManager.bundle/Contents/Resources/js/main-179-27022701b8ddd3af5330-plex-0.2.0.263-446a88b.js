/*! For license information please see main-179-27022701b8ddd3af5330-plex-0.2.0.263-446a88b.js.LICENSE.txt */
(self.webpackChunkserver_manager=self.webpackChunkserver_manager||[]).push([[179],{78388:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg viewBox='0 0 100 100' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='stroke-miterlimit:1.41421%3bclip-rule:evenodd%3bfill-rule:evenodd%3bstroke-linejoin:round'%3e %3ccircle id='0' cx='50' cy='50' r='50' style='fill:url(%233)'/%3e %3ccircle id='1' cx='50' cy='50' r='47' style='fill:url(%234)'/%3e %3cpath id='2' d='m32.9 18.8l18.161 0 20.039 31.25-20.039 31.25-18.161 0 20.039-31.25-20.039-31.25' style='fill:url(%235)'/%3e %3cdefs%3e %3clinearGradient id='3' x1='100' x2='0' gradientUnits='userSpaceOnUse'%3e %3cstop offset='0%25' style='stop-color:%23f9be03'/%3e %3cstop offset='100%25' style='stop-color:%23cc7b19'/%3e %3c/linearGradient%3e %3clinearGradient id='4' x1='97' x2='3' gradientUnits='userSpaceOnUse'%3e %3cstop offset='0%25' style='stop-color:%23282828'/%3e %3cstop offset='100%25' style='stop-color:%231f1f1f'/%3e %3c/linearGradient%3e %3cradialGradient id='5' cx='67' cy='49.9' r='57.8123' gradientUnits='userSpaceOnUse' xlink:href='%233'/%3e %3c/defs%3e %3c/svg%3e"},218:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg width='548' height='360' viewBox='0 0 548 360' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3eGroup%3c/title%3e%3cdefs%3e%3cpath id='a' d='M196 173v13H81v-14'/%3e%3cmask id='j' x='0' y='0' width='115' height='14' fill='white'%3e%3cuse xlink:href='%23a'/%3e%3c/mask%3e%3cpath d='M6.522 173C2.92 173 0 170.631 0 167.71V5.29C0 2.37 2.92 0 6.522 0h262.956C273.08 0 276 2.369 276 5.29v162.42c0 2.921-2.92 5.29-6.522 5.29H6.522z' id='b'/%3e%3cmask id='k' x='0' y='0' width='276' height='173' fill='white'%3e%3cuse xlink:href='%23b'/%3e%3c/mask%3e%3cpath id='c' d='M13 160.185h249.91V13H13z'/%3e%3cmask id='l' x='0' y='0' width='249.911' height='147.185' fill='white'%3e%3cuse xlink:href='%23c'/%3e%3c/mask%3e%3crect id='d' width='192' height='140' rx='6'/%3e%3cmask id='m' x='0' y='0' width='192' height='140' fill='white'%3e%3cuse xlink:href='%23d'/%3e%3c/mask%3e%3cpath id='e' d='M20 11h152v118H20z'/%3e%3cmask id='n' x='0' y='0' width='152' height='118' fill='white'%3e%3cuse xlink:href='%23e'/%3e%3c/mask%3e%3ccircle id='f' cx='12' cy='70' r='6'/%3e%3cmask id='o' x='0' y='0' width='12' height='12' fill='white'%3e%3cuse xlink:href='%23f'/%3e%3c/mask%3e%3cpath id='g' d='M0 18h72v84H0z'/%3e%3cmask id='p' x='0' y='0' width='72' height='84' fill='white'%3e%3cuse xlink:href='%23g'/%3e%3c/mask%3e%3ccircle id='h' cx='36' cy='109' r='5'/%3e%3cmask id='q' x='0' y='0' width='10' height='10' fill='white'%3e%3cuse xlink:href='%23h'/%3e%3c/mask%3e%3crect id='i' width='72' height='120' rx='8.4'/%3e%3cmask id='r' x='0' y='0' width='72' height='120' fill='white'%3e%3cuse xlink:href='%23i'/%3e%3c/mask%3e%3c/defs%3e%3cg fill='none' fill-rule='evenodd'%3e%3cg transform='translate(272 87)'%3e%3cuse stroke='%23BBB' mask='url(%23j)' stroke-width='6' xlink:href='%23a'/%3e%3cuse stroke='%23BBB' mask='url(%23k)' stroke-width='6' xlink:href='%23b'/%3e%3cuse stroke='%23BBB' mask='url(%23l)' stroke-width='4' xlink:href='%23c'/%3e%3cpath fill='%23F8AD18' d='M137.042 120.75H117l22.19-34.375L117 52h20.042l22.19 34.375z'/%3e%3c/g%3e%3cg transform='translate(0 220)'%3e%3cuse stroke='%23BBB' mask='url(%23m)' stroke-width='6' xlink:href='%23d'/%3e%3cuse stroke='%23BBB' mask='url(%23n)' stroke-width='4' xlink:href='%23e'/%3e%3cuse stroke='%23BBB' mask='url(%23o)' stroke-width='4' xlink:href='%23f'/%3e%3ccircle fill='%23BBB' cx='180' cy='70' r='2'/%3e%3cpath fill='%23F8AD18' d='M94.58 102H76l20.645-30.968L76 38h18.58l20.646 33.032z'/%3e%3c/g%3e%3cg transform='translate(60)'%3e%3crect width='72' height='120' rx='8.4'/%3e%3cuse stroke='%23BBB' mask='url(%23p)' stroke-width='4' xlink:href='%23g'/%3e%3cuse stroke='%23BBB' mask='url(%23q)' stroke-width='4' xlink:href='%23h'/%3e%3crect fill='%23BBB' x='31' y='10' width='10.8' height='2.4' rx='1.2'/%3e%3cuse stroke='%23BBB' mask='url(%23r)' stroke-width='6' xlink:href='%23i'/%3e%3cpath d='M35.032 79H24l12.258-18.387L24 41h11.032L47.29 60.613z' fill='%23F8AD18'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e"},39842:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg width='810' height='230' viewBox='0 0 810 230' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3ePMS %e2%86%92 Computer%3c/title%3e%3cdefs%3e%3cpath d='M159.595 207.477c-.494-2.47-2.65-9.732-3.347-21.444H99.36c-.698 11.712-2.853 18.974-3.346 21.444-.976 4.88-4.79 8.829-12.04 11.059-5.912 1.819-5.158 10.693 1.674 10.693h84.314c6.831 0 7.587-8.873 1.673-10.693-7.25-2.23-11.064-6.178-12.04-11.059z' id='a'/%3e%3cmask id='d' x='0' y='0' width='95.633' height='43.196' fill='white'%3e%3cuse xlink:href='%23a'/%3e%3c/mask%3e%3cpath d='M256 147.5v31.564c0 5.527-4.47 10.008-9.996 10.008H9.996c-5.52 0-9.996-4.476-9.996-10.008V10.003C0 4.48 4.47 0 9.996 0h236.008C251.524 0 256 4.485 256 10.003V147.5z' id='b'/%3e%3cmask id='e' x='0' y='0' width='256' height='189.072' fill='white'%3e%3cuse xlink:href='%23b'/%3e%3c/mask%3e%3ccircle id='c' cx='110' cy='110' r='110'/%3e%3cmask id='f' x='0' y='0' width='220' height='220' fill='white'%3e%3cuse xlink:href='%23c'/%3e%3c/mask%3e%3c/defs%3e%3cg fill='none' fill-rule='evenodd'%3e%3cg transform='translate(553)' stroke='%23BBB'%3e%3cuse mask='url(%23d)' stroke-width='6' xlink:href='%23a'/%3e%3cuse mask='url(%23e)' stroke-width='6' xlink:href='%23b'/%3e%3cpath d='M1.5 147.5h253.198' stroke-width='3' stroke-linecap='square'/%3e%3c/g%3e%3cg transform='translate(0 5)'%3e%3cuse stroke='%23F8AD18' mask='url(%23f)' stroke-width='8' fill='%231F1F1F' xlink:href='%23c'/%3e%3cpath fill='%23F8AD18' d='M112.134 179.667H72.11l44.31-69.056-44.31-69.055h40.023l44.31 69.055z'/%3e%3c/g%3e%3cg fill='%23BBB'%3e%3cpath d='M504.5 115l-14 13.5v-27zM479 118a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e"},9905:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg width='715' height='149' viewBox='0 0 715 149' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3eMEDIA ICONS%3c/title%3e%3cdefs%3e%3cpath d='M57.897 0H10.008C4.482 0 0 4.481 0 10.008v5.505L57.897 0zm56.776 0h3.89c5.527 0 10.008 4.482 10.008 10.008v41.86L114.673 0zm13.898 114.168v4.395c0 5.527-4.481 10.008-10.008 10.008H74.818l53.753-14.403zM16.02 128.571h-6.01C4.48 128.571 0 124.09 0 118.563V68.789l16.019 59.782z' id='a'/%3e%3cmask id='j' x='-2' y='-2' width='132.571' height='132.571'%3e%3cpath fill='white' d='M-2-2h132.571v132.571H-2z'/%3e%3cuse xlink:href='%23a'/%3e%3c/mask%3e%3crect id='b' width='128.571' height='128.571' rx='10'/%3e%3cmask id='k' x='0' y='0' width='128.571' height='128.571' fill='white'%3e%3cuse xlink:href='%23b'/%3e%3c/mask%3e%3cpath d='M39.782 26.592V83.99c-3.279-1.034-7.234-1.16-11.267-.103-8.767 2.297-14.488 9.26-12.77 15.535 1.718 6.276 10.226 9.505 18.995 7.197 8.101-2.116 14.71-8.217 14.15-14.076l.041-41.718 40.386-5.385v33.165c-3.28-1.034-7.235-1.16-11.268-.102-8.766 2.296-14.488 9.259-12.77 15.535s10.226 9.504 18.995 7.196c8.101-2.116 14.711-8.217 14.151-14.075 0-14.795.04-65.95.04-65.95l-58.683 5.384z' id='c'/%3e%3cmask id='l' x='0' y='0' width='83.025' height='86.156' fill='white'%3e%3cuse xlink:href='%23c'/%3e%3c/mask%3e%3cpath d='M66.113 9.595l-40.705-3.56a8.845 8.845 0 0 0-9.586 8.04l-.39 4.457 50.68-8.937zm55.734 4.877l5.475.479c4.868.425 8.47 4.717 8.044 9.583l-3.895 44.518-9.624-54.58zm4.201 116.56l-.47 5.383a8.845 8.845 0 0 1-9.586 8.04l-44.16-3.863 54.216-9.56zm-104.59 5.153l-7.38-.645c-4.868-.426-8.47-4.718-8.044-9.584l4.517-51.625 10.906 61.854z' id='d'/%3e%3cmask id='m' x='-2' y='-2' width='133.4' height='142.49'%3e%3cpath fill='white' d='M4 4h133.4v142.49H4z'/%3e%3cuse xlink:href='%23d'/%3e%3c/mask%3e%3cpath d='M.607 9.015A8.845 8.845 0 0 1 9.455.169H111.76c4.887 0 8.848 3.961 8.848 8.846v112.308a8.845 8.845 0 0 1-8.848 8.846H9.455c-4.886 0-8.848-3.962-8.848-8.846V9.015z' id='e'/%3e%3cmask id='n' x='0' y='0' width='120' height='130' fill='white'%3e%3cuse xlink:href='%23e'/%3e%3c/mask%3e%3cpath id='f' d='M14.636 14.197h90.647v82.014H14.636z'/%3e%3cmask id='o' x='0' y='0' width='90.647' height='82.014' fill='white'%3e%3cuse xlink:href='%23f'/%3e%3c/mask%3e%3cpath id='g' d='M14.636 65.996l30.216-23.741 23.74 26.978 14.03-10.791 22.661 20.504v17.266H14.636z'/%3e%3cmask id='p' x='0' y='0' width='90.647' height='53.957' fill='white'%3e%3cuse xlink:href='%23g'/%3e%3c/mask%3e%3cpath d='M63.972 8.681L22.12 5.019a5 5 0 0 0-5.42 4.539l-.663 7.575 47.935-8.452zm47.885 4.19l10.872.95a5.004 5.004 0 0 1 4.549 5.411l-4.742 54.2-10.679-60.562zm5.391 120.998l-.651 7.447a5 5 0 0 1-5.42 4.539l-41.374-3.62 47.445-8.366zm-96.042 4.114l-10.638-.93a5.004 5.004 0 0 1-4.549-5.411l4.666-53.327 10.52 59.668z' id='h'/%3e%3cmask id='q' x='-2' y='-2' width='125.297' height='144.874'%3e%3cpath fill='white' d='M4 3h125.297v144.874H4z'/%3e%3cuse xlink:href='%23h'/%3e%3c/mask%3e%3cpath d='M11 13.994A5 5 0 0 1 16.003 9h100.994A5.004 5.004 0 0 1 122 13.994v122.55a5.001 5.001 0 0 1-5 4.993H16c-2.761 0-5-2.244-5-4.993V13.994z' id='i'/%3e%3cmask id='r' x='0' y='0' width='111' height='132.537' fill='white'%3e%3cuse xlink:href='%23i'/%3e%3c/mask%3e%3c/defs%3e%3cg fill='none' fill-rule='evenodd'%3e%3cg stroke='%23D8FF95' stroke-width='4'%3e%3cuse mask='url(%23j)' xlink:href='%23a' transform='rotate(5 241.396 6673.607)'/%3e%3cg transform='rotate(-10 410.15 -3228.07)'%3e%3cuse mask='url(%23k)' xlink:href='%23b'/%3e%3cuse mask='url(%23l)' xlink:href='%23c'/%3e%3c/g%3e%3c/g%3e%3cg transform='translate(279 -1)' stroke='%23FFA0DE' stroke-width='4'%3e%3cuse mask='url(%23m)' xlink:href='%23d'/%3e%3cg transform='rotate(-10 122.65 7.135)'%3e%3cuse mask='url(%23n)' xlink:href='%23e'/%3e%3cuse mask='url(%23o)' xlink:href='%23f'/%3e%3cuse mask='url(%23p)' xlink:href='%23g'/%3e%3c/g%3e%3c/g%3e%3cg stroke='%23A4E2FF' transform='translate(-1 -1)'%3e%3cuse mask='url(%23q)' stroke-width='4' xlink:href='%23h'/%3e%3cuse mask='url(%23r)' stroke-width='4' transform='rotate(-10 66.5 75.269)' xlink:href='%23i'/%3e%3cpath stroke-width='2' d='M11.823 31.053l9.79-1.727 1.725 9.79-9.789 1.726zM15.994 54.71l9.79-1.725 1.726 9.789-9.79 1.726zM20.166 78.368l9.79-1.727 1.725 9.79-9.789 1.725zM24.337 102.026l9.79-1.726 1.726 9.789-9.79 1.726zM28.51 125.682l9.788-1.726 1.726 9.79-9.789 1.725zM93.4 16.669l9.79-1.726 1.725 9.789-9.788 1.726zM97.573 40.326l9.789-1.726 1.726 9.79-9.79 1.725zM101.743 63.984l9.79-1.726 1.726 9.788-9.79 1.727zM105.914 87.64l9.79-1.725 1.725 9.789-9.789 1.726zM110.086 111.299l9.79-1.727 1.726 9.79-9.79 1.726zM31.716 32.659l52.21-9.206 7.191 40.788-52.21 9.206zM41.497 88.132l52.21-9.206 7.191 40.788-52.21 9.206z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e"},57849:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg width='945' height='360' viewBox='0 0 945 360' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3ePLAY MEDIA ICONS%3c/title%3e%3cdefs%3e%3cpath id='a' d='M196 172v14H81v-14'/%3e%3cmask id='m' x='0' y='0' width='115' height='14' fill='white'%3e%3cuse xlink:href='%23a'/%3e%3c/mask%3e%3cpath d='M6.522 173C2.92 173 0 170.631 0 167.71V5.29C0 2.37 2.92 0 6.522 0h262.956C273.08 0 276 2.369 276 5.29v162.42c0 2.921-2.92 5.29-6.522 5.29H6.522z' id='b'/%3e%3cmask id='n' x='0' y='0' width='276' height='173' fill='white'%3e%3cuse xlink:href='%23b'/%3e%3c/mask%3e%3cpath id='c' d='M13 160.185h249.91V13H13z'/%3e%3cmask id='o' x='0' y='0' width='249.911' height='147.185' fill='white'%3e%3cuse xlink:href='%23c'/%3e%3c/mask%3e%3crect id='d' width='192' height='140' rx='6'/%3e%3cmask id='p' x='0' y='0' width='192' height='140' fill='white'%3e%3cuse xlink:href='%23d'/%3e%3c/mask%3e%3cpath id='e' d='M20 11h152v118H20z'/%3e%3cmask id='q' x='0' y='0' width='152' height='118' fill='white'%3e%3cuse xlink:href='%23e'/%3e%3c/mask%3e%3ccircle id='f' cx='12' cy='70' r='6'/%3e%3cmask id='r' x='0' y='0' width='12' height='12' fill='white'%3e%3cuse xlink:href='%23f'/%3e%3c/mask%3e%3cpath id='g' d='M0 18h72v84H0z'/%3e%3cmask id='s' x='0' y='0' width='72' height='84' fill='white'%3e%3cuse xlink:href='%23g'/%3e%3c/mask%3e%3ccircle id='h' cx='36' cy='109' r='5'/%3e%3cmask id='t' x='0' y='0' width='10' height='10' fill='white'%3e%3cuse xlink:href='%23h'/%3e%3c/mask%3e%3crect id='i' width='72' height='120' rx='8.4'/%3e%3cmask id='u' x='0' y='0' width='72' height='120' fill='white'%3e%3cuse xlink:href='%23i'/%3e%3c/mask%3e%3cpath d='M159.595 207.477c-.494-2.47-2.65-9.732-3.347-21.444H99.36c-.698 11.712-2.853 18.974-3.346 21.444-.976 4.88-4.79 8.829-12.04 11.059-5.912 1.819-5.158 10.693 1.674 10.693h84.314c6.831 0 7.587-8.873 1.673-10.693-7.25-2.23-11.064-6.178-12.04-11.059z' id='j'/%3e%3cmask id='v' x='0' y='0' width='95.633' height='43.196' fill='white'%3e%3cuse xlink:href='%23j'/%3e%3c/mask%3e%3cpath d='M256 147.5v31.564c0 5.527-4.47 10.008-9.996 10.008H9.996c-5.52 0-9.996-4.476-9.996-10.008V10.003C0 4.48 4.47 0 9.996 0h236.008C251.524 0 256 4.485 256 10.003V147.5z' id='k'/%3e%3cmask id='w' x='0' y='0' width='256' height='189.072' fill='white'%3e%3cuse xlink:href='%23k'/%3e%3c/mask%3e%3ccircle id='l' cx='55' cy='55' r='55'/%3e%3cmask id='x' x='0' y='0' width='110' height='110' fill='white'%3e%3cuse xlink:href='%23l'/%3e%3c/mask%3e%3c/defs%3e%3cg fill='none' fill-rule='evenodd'%3e%3cg transform='translate(669 87)'%3e%3cuse stroke='%23BBB' mask='url(%23m)' stroke-width='6' xlink:href='%23a'/%3e%3cuse stroke='%23BBB' mask='url(%23n)' stroke-width='6' xlink:href='%23b'/%3e%3cuse stroke='%23BBB' mask='url(%23o)' stroke-width='4' xlink:href='%23c'/%3e%3cpath fill='%23F8AD18' d='M137.042 120.75H117l22.19-34.375L117 52h20.042l22.19 34.375z'/%3e%3c/g%3e%3cg transform='translate(397 220)'%3e%3cuse stroke='%23BBB' mask='url(%23p)' stroke-width='6' xlink:href='%23d'/%3e%3cuse stroke='%23BBB' mask='url(%23q)' stroke-width='4' xlink:href='%23e'/%3e%3cuse stroke='%23BBB' mask='url(%23r)' stroke-width='4' xlink:href='%23f'/%3e%3ccircle fill='%23BBB' cx='180' cy='70' r='2'/%3e%3cpath fill='%23F8AD18' d='M94.58 102H76l20.645-30.968L76 38h18.58l20.646 33.032z'/%3e%3c/g%3e%3cg transform='translate(457)'%3e%3crect width='72' height='120' rx='8.4'/%3e%3cuse stroke='%23BBB' mask='url(%23s)' stroke-width='4' xlink:href='%23g'/%3e%3cuse stroke='%23BBB' mask='url(%23t)' stroke-width='4' xlink:href='%23h'/%3e%3crect fill='%23BBB' x='31' y='10' width='10.8' height='2.4' rx='1.2'/%3e%3cuse stroke='%23BBB' mask='url(%23u)' stroke-width='6' xlink:href='%23i'/%3e%3cpath d='M35.032 79H24l12.258-18.387L24 41h11.032L47.29 60.613z' fill='%23F8AD18'/%3e%3c/g%3e%3cg stroke='%23BBB' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='M330.598 183.254C341.355 172.41 348 157.481 348 141c0-16.723-6.841-31.848-17.878-42.728'/%3e%3cpath d='M319.988 172.65C328.033 164.52 333 153.34 333 141c0-12.523-5.115-23.851-13.37-32.01M309.502 161.92A29.902 29.902 0 0 0 318 141c0-8.376-3.433-15.951-8.969-21.394'/%3e%3c/g%3e%3cg transform='translate(0 65)'%3e%3cuse stroke='%23BBB' mask='url(%23v)' stroke-width='6' xlink:href='%23j'/%3e%3cuse stroke='%23BBB' mask='url(%23w)' stroke-width='6' xlink:href='%23k'/%3e%3cpath d='M1.5 147.5h253.198' stroke='%23BBB' stroke-width='3' stroke-linecap='square'/%3e%3cg transform='translate(73 21)'%3e%3cuse stroke='%23F8AD18' mask='url(%23x)' stroke-width='6' fill='%231F1F1F' xlink:href='%23l'/%3e%3cpath fill='%23F8AD18' d='M56.382 89.375H36.339L58.53 55 36.34 20.625h20.043L78.572 55z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e"},53117:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M12.708 14.667a5.34 5.34 0 0 1-5.333-5.333 5.339 5.339 0 0 1 5.333-5.333 5.339 5.339 0 0 1 5.333 5.333 5.339 5.339 0 0 1-5.333 5.333zm0-9.334c-2.205 0-4 1.795-4 4s1.795 4 4 4 4-1.795 4-4-1.795-4-4-4zM20.041 16c.37 0 .667.299.667.667 0 4.737-1.695 8.492-4.667 10.377v8.289a.667.667 0 0 1-.667.667h-5.333a.667.667 0 0 1-.667-.667v-8.289c-2.972-1.884-4.667-5.638-4.667-10.377 0-.368.299-.667.667-.667h14.667zm-7.28 1.333h-.108l-.589 7.081.643.643.643-.643-.589-7.081zm2.284 8.754l-.001-.001c2.612-1.485 4.166-4.654 4.317-8.753h-5.264l.608 7.279a.668.668 0 0 1-.193.527l-1.333 1.333a.669.669 0 0 1-.472.195.654.654 0 0 1-.469-.196l-1.333-1.333a.67.67 0 0 1-.193-.527l.607-7.277H6.055c.151 4.1 1.705 7.268 4.316 8.753.208.119.337.34.337.58v8h4v-8c0-.24.129-.461.337-.58zM35.333 5.333c.368 0 .667.299.667.667v18.667a.667.667 0 0 1-.667.667H22.666a.667.667 0 0 1 0-1.334h12V6.667H21.333a.667.667 0 0 1 0-1.334h14zM23.017 20.541v-.002a.666.666 0 0 1-.392-.856l2.5-6.717a.67.67 0 0 1 .385-.392.68.68 0 0 1 .548.031l3.389 1.772 1.752-5.257a.666.666 0 1 1 1.264.423l-2 6a.67.67 0 0 1-.383.408.674.674 0 0 1-.557-.028l-3.413-1.785-2.236 6.011a.669.669 0 0 1-.857.392z' fill='%23CC7B19' fill-rule='nonzero'/%3e %3c/svg%3e"},85828:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3e %3cg fill='%23CC7B19' transform='translate(3 4)'%3e %3cpath d='M25%2c16 C20.588%2c16 17%2c19.588 17%2c24 C17%2c28.412 20.588%2c32 25%2c32 C29.412%2c32 33%2c28.412 33%2c24 C33%2c19.588 29.412%2c16 25%2c16 Z M25%2c30.667 C21.324%2c30.667 18.333%2c27.676 18.333%2c24 C18.333%2c20.324 21.324%2c17.333 25%2c17.333 C28.676%2c17.333 31.667%2c20.324 31.667%2c24 C31.667%2c27.676 28.676%2c30.667 25%2c30.667 Z'/%3e %3cpath d='M25%2c20 C22.795%2c20 21%2c21.795 21%2c24 C21%2c26.205 22.795%2c28 25%2c28 C27.205%2c28 29%2c26.205 29%2c24 C29%2c21.795 27.205%2c20 25%2c20 Z M25%2c26.667 C23.529%2c26.667 22.333%2c25.471 22.333%2c24 C22.333%2c22.529 23.529%2c21.333 25%2c21.333 C26.471%2c21.333 27.667%2c22.529 27.667%2c24 C27.667%2c25.471 26.471%2c26.667 25%2c26.667 Z'/%3e %3cpath d='M32.333 9.333L1.666 9.333C1.298 9.333.999 9.632.999 10L.999 26.801C.999 28.197 2.158 29.333 3.583 29.333L14.332 29.333 14.332 28 3.583 28C2.892 28 2.332 27.463 2.332 26.801L2.332 10.666 31.665 10.666 31.665 15.993 32.998 15.993 32.998 10C32.998 9.632 32.699 9.333 32.331 9.333L32.333 9.333zM31 0L3 0C1.897 0 1 .897 1 2.001L1 7.333C1 7.701 1.299 8 1.667 8L32.334 8C32.702 8 33.001 7.701 33.001 7.333L33.001 2.001C33.001.897 32.104 4.4408921e-16 31.001 4.4408921e-16L31 0zM31.62 1.772L26.725 6.667 23.277 6.667 28.61 1.334 30.999 1.334C31.286 1.334 31.526 1.518 31.619 1.773L31.62 1.772zM12.611 1.333L16.059 1.333 10.726 6.666 7.278 6.666 12.611 1.333zM5.392 6.667L2.611 6.667 7.944 1.334 10.725 1.334 5.392 6.667zM17.944 1.333L21.392 1.333 16.059 6.666 12.611 6.666 17.944 1.333zM23.277 1.333L26.725 1.333 21.392 6.666 17.944 6.666 23.277 1.333zM3 1.333L6.059 1.333 2.334 5.058 2.334 2.001C2.334 1.633 2.633 1.333 3.001 1.333L3 1.333zM28.611 6.667L31.667 3.611 31.667 6.667 28.611 6.667z'/%3e %3c/g%3e %3c/svg%3e"},92740:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3e %3cg fill='%23CC7B19' transform='translate(10 4)'%3e %3cpath d='M15.951%2c16.444 C15.85%2c16.193 15.608%2c16.029 15.339%2c16.028 L12.667%2c16.005 L12.667%2c10 C12.667%2c9.632 12.368%2c9.333 12%2c9.333 L8%2c9.333 C7.632%2c9.333 7.333%2c9.632 7.333%2c10 L7.333%2c16 L4.61%2c16 C4.341%2c16 4.097%2c16.163 3.994%2c16.412 C3.89%2c16.661 3.947%2c16.948 4.138%2c17.139 L9.471%2c22.472 C9.602%2c22.601 9.772%2c22.667 9.943%2c22.667 C10.111%2c22.667 10.28%2c22.603 10.411%2c22.475 L15.8%2c17.17 C15.992%2c16.981 16.052%2c16.695 15.949%2c16.445 L15.951%2c16.444 Z M9.948%2c21.061 L6.22%2c17.333 L8%2c17.333 C8.368%2c17.333 8.667%2c17.034 8.667%2c16.666 L8.667%2c10.666 L11.334%2c10.666 L11.334%2c16.666 C11.334%2c17.031 11.629%2c17.33 11.995%2c17.333 L13.719%2c17.348 L9.948%2c21.061 Z'/%3e %3cpath d='M16%2c7.88860905e-31 L4%2c7.88860905e-31 C2.163%2c7.88860905e-31 0.667%2c1.495 0.667%2c3.333 L0.667%2c28.666 C0.667%2c30.505 2.163%2c31.999 4%2c31.999 L16%2c31.999 C17.837%2c31.999 19.333%2c30.504 19.333%2c28.666 L19.333%2c3.333 C19.333%2c1.494 17.837%2c-1.77635684e-15 16%2c7.88860905e-31 Z M2%2c6.667 L18%2c6.667 L18%2c25.334 L2%2c25.334 L2%2c6.667 Z M4%2c1.333 L16%2c1.333 C17.103%2c1.333 18%2c2.23 18%2c3.333 L18%2c5.333 L2%2c5.333 L2%2c3.333 C2%2c2.23 2.897%2c1.333 4%2c1.333 Z M16%2c30.667 L4%2c30.667 C2.897%2c30.667 2%2c29.77 2%2c28.667 L2%2c26.667 L18%2c26.667 L18%2c28.667 C18%2c29.77 17.103%2c30.667 16%2c30.667 Z'/%3e %3cpath d='M6.667 4L13.334 4C13.702 4 14.001 3.701 14.001 3.333 14.001 2.965 13.702 2.666 13.334 2.666L6.667 2.666C6.299 2.666 6 2.965 6 3.333 6 3.701 6.299 4 6.667 4zM11.333 28.667C11.333 29.403 10.736 30 10 30 9.264 30 8.667 29.403 8.667 28.667 8.667 27.931 9.264 27.334 10 27.334 10.736 27.334 11.333 27.931 11.333 28.667z'/%3e %3c/g%3e %3c/svg%3e"},16752:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3e %3cg fill='%23CC7B19' transform='translate(4 4)'%3e %3cpath d='M12.532 15.272C11.232 16.572 11.232 18.688 12.532 19.987 13.163 20.616 13.999 20.962 14.889 20.962 15.779 20.962 16.616 20.615 17.246 19.987 18.546 18.687 18.546 16.571 17.246 15.272 15.985 14.015 13.793 14.015 12.531 15.272L12.532 15.272zM16.304 19.044C15.549 19.799 14.231 19.799 13.476 19.044 12.696 18.264 12.696 16.995 13.476 16.215 13.853 15.838 14.356 15.631 14.891 15.631 15.426 15.631 15.927 15.838 16.306 16.215 17.083 16.995 17.083 18.264 16.305 19.044L16.304 19.044zM5.932 22.815C5.672 22.555 5.249 22.555 4.989 22.815 4.729 23.075 4.729 23.498 4.989 23.758L8.76 27.529C8.891 27.66 9.061 27.724 9.232 27.724 9.403 27.724 9.573 27.659 9.704 27.529 9.964 27.269 9.964 26.846 9.704 26.586L5.932 22.815z'/%3e %3cpath d='M31.461%2c5.333 L32.322%2c4.472 C32.582%2c4.212 32.582%2c3.789 32.322%2c3.529 L28.989%2c0.196 C28.729%2c-0.064 28.306%2c-0.064 28.046%2c0.196 L27.185%2c1.057 L26.324%2c0.196 C26.064%2c-0.064 25.641%2c-0.064 25.381%2c0.196 C25.121%2c0.456 25.121%2c0.879 25.381%2c1.139 L26.242%2c2 L25.185%2c3.057 L24.324%2c2.196 C24.064%2c1.936 23.641%2c1.936 23.381%2c2.196 C23.121%2c2.456 23.121%2c2.879 23.381%2c3.139 L24.242%2c4 L22.714%2c5.528 C22.454%2c5.788 22.454%2c6.211 22.714%2c6.471 L22.909%2c6.667 L18.428%2c11.148 C17.304%2c10.475 16.088%2c10.121 14.88%2c10.121 C12.105%2c10.121 9.903%2c11.912 9.307%2c14.554 C5.694%2c14.01 2.802%2c15.493 1.576%2c18.449 C0.253%2c21.642 1.247%2c25.669 4.048%2c28.47 C5.985%2c30.407 8.54%2c31.518 11.057%2c31.518 C13.325%2c31.518 15.354%2c30.617 16.625%2c29.046 C17.5%2c27.963 18.402%2c26.095 17.962%2c23.209 C19.718%2c22.808 21.155%2c21.668 21.883%2c20.064 C22.72%2c18.219 22.523%2c16.023 21.37%2c14.092 L25.851%2c9.611 L26.046%2c9.806 C26.306%2c10.066 26.729%2c10.066 26.989%2c9.806 L28.517%2c8.278 L29.378%2c9.139 C29.51%2c9.268 29.681%2c9.334 29.851%2c9.334 C30.021%2c9.334 30.192%2c9.269 30.323%2c9.139 C30.583%2c8.879 30.583%2c8.456 30.323%2c8.196 L29.46%2c7.333 L30.517%2c6.276 L31.378%2c7.137 C31.509%2c7.268 31.679%2c7.333 31.85%2c7.333 C32.021%2c7.333 32.191%2c7.268 32.322%2c7.138 C32.582%2c6.878 32.582%2c6.455 32.322%2c6.195 L31.459%2c5.332 L31.461%2c5.333 Z M26.519%2c8.391 L26.324%2c8.196 C26.064%2c7.936 25.641%2c7.936 25.381%2c8.196 L20.048%2c13.529 C19.82%2c13.757 19.788%2c14.116 19.972%2c14.381 C21.119%2c16.029 21.38%2c17.949 20.669%2c19.514 C20.033%2c20.917 18.736%2c21.823 17.11%2c22.005 C16.923%2c22.026 16.753%2c22.125 16.643%2c22.278 C16.532%2c22.43 16.492%2c22.623 16.532%2c22.806 C17.001%2c24.994 16.673%2c26.862 15.587%2c28.209 C14.571%2c29.466 12.92%2c30.186 11.056%2c30.186 C8.889%2c30.186 6.677%2c29.217 4.989%2c27.529 C2.565%2c25.105 1.688%2c21.662 2.806%2c18.961 C3.645%2c16.936 5.482%2c15.776 7.846%2c15.776 C8.435%2c15.776 9.063%2c15.847 9.71%2c15.985 C9.894%2c16.02 10.087%2c15.985 10.239%2c15.873 C10.391%2c15.764 10.491%2c15.594 10.512%2c15.406 C10.771%2c13.081 12.565%2c11.455 14.877%2c11.455 C15.982%2c11.455 17.108%2c11.832 18.134%2c12.546 C18.398%2c12.731 18.757%2c12.698 18.986%2c12.47 L24.319%2c7.137 C24.579%2c6.877 24.579%2c6.454 24.319%2c6.194 L24.124%2c5.999 L28.515%2c1.608 L30.906%2c3.999 L26.515%2c8.39 L26.519%2c8.391 Z'/%3e %3c/g%3e %3c/svg%3e"},47958:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M35.333 26.667h-.667V26a4.672 4.672 0 0 0-4.667-4.667A4.672 4.672 0 0 0 25.332 26v.667h-.667a.667.667 0 0 0-.667.667v8c0 .368.299.667.667.667h10.667a.667.667 0 0 0 .667-.667v-8a.667.667 0 0 0-.667-.667h.001zM26.667 26A3.338 3.338 0 0 1 30 22.667 3.338 3.338 0 0 1 33.333 26v.667h-6.667V26h.001zm8 8.667h-9.333V28h9.333v6.667zM30 29.333h.002c.734 0 1.333.598 1.333 1.333 0 .487-.276.896-.667 1.128v.872a.667.667 0 0 1-1.334 0v-.872c-.391-.232-.667-.641-.667-1.128 0-.734.598-1.333 1.333-1.333zm-5.349-16.666h.002c0 3.028-1.321 5.693-3.317 7.244v3.423h-1.333v-2.609a6.323 6.323 0 0 1-2.683.609 6.317 6.317 0 0 1-2.651-.595v2.595a.669.669 0 0 1-.443.628l-6.68 2.385a3.34 3.34 0 0 0-2.211 3.139v2.515h15.333v1.333h-16a.667.667 0 0 1-.667-.667v-3.181a4.676 4.676 0 0 1 3.096-4.395l6.237-2.228v-2.931c-2.013-1.546-3.349-4.222-3.349-7.265C9.985 7.888 13.274 4 17.318 4c4.044 0 7.333 3.888 7.333 8.667zm-7.334-7.334l-.001.001c-2.835 0-5.21 2.416-5.835 5.651a4.68 4.68 0 0 0 1.835.349c1.745 0 3.815-1.035 4.428-2.215a.665.665 0 0 1 .579-.359.625.625 0 0 1 .592.336c1.139 1.992 2.338 2.624 4.275 2.249l.024-.001c-.512-3.414-2.958-6.011-5.897-6.011zm-6 7.334c0 4.044 2.692 7.333 6 7.333s6-3.289 6-7.332a6.504 6.504 0 0 1-1.113.113c-1.592 0-2.844-.702-3.907-2.181-1.139 1.196-3.147 2.067-4.98 2.067-.714 0-1.36-.11-1.987-.321-.004.108-.013.213-.013.321z' fill='%23CC7B19' fill-rule='nonzero'/%3e %3c/svg%3e"},90136:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M9.497 7.438a.688.688 0 1 1-1.375 0 .688.688 0 0 1 1.375 0zm2.75 0a.688.688 0 1 1-1.375 0 .688.688 0 0 1 1.375 0zm2.75 0a.688.688 0 1 1-1.375 0 .688.688 0 0 1 1.375 0zm2.063 18.56v-.001a.688.688 0 1 1 0 1.375H7.438A3.44 3.44 0 0 1 4 23.936v-16.5A3.44 3.44 0 0 1 7.437 4h21.998a3.44 3.44 0 0 1 3.437 3.437v11a.688.688 0 1 1-1.376 0v-7.562H5.374v13.062c0 1.137.924 2.062 2.062 2.062h9.624zM7.435 5.377a2.064 2.064 0 0 0-2.063 2.062V9.5h26.123V7.438a2.064 2.064 0 0 0-2.062-2.062H7.435zM36.654 30.15l.002-.002a.685.685 0 0 1 .252.938l-2.062 3.572a.677.677 0 0 1-.417.32.701.701 0 0 1-.523-.07l-1.092-.632c-.41.3-.852.554-1.317.76v1.274c0 .38-.308.687-.688.687h-4.124a.688.688 0 0 1-.688-.687v-1.268a7.311 7.311 0 0 1-1.337-.762l-1.108.635a.69.69 0 0 1-.937-.252l-2.063-3.572a.688.688 0 0 1 .252-.94l1.094-.634a6.328 6.328 0 0 1 .001-1.535l-1.094-.632a.687.687 0 0 1-.25-.94l2.063-3.572a.69.69 0 0 1 .937-.252l1.105.635c.418-.3.866-.555 1.336-.762v-1.274c0-.38.308-.687.688-.687h4.124c.38 0 .688.308.688.687v1.274c.464.206.905.46 1.316.759l1.089-.632a.679.679 0 0 1 .523-.07.69.69 0 0 1 .417.32l2.063 3.572c.19.33.077.75-.252.94l-1.096.634c.059.51.06 1.024 0 1.534l1.098.634zm-2.656 3.226l1.373-2.379-.907-.524a.687.687 0 0 1-.331-.72c.062-.336.094-.673.094-1.003a5.5 5.5 0 0 0-.095-1.002.685.685 0 0 1 .33-.721l.907-.524-1.374-2.38-.895.521a.69.69 0 0 1-.792-.073 5.847 5.847 0 0 0-1.74-1.004.687.687 0 0 1-.446-.644v-1.048h-2.75v1.048a.696.696 0 0 1-.447.648c-.666.247-1.29.603-1.756 1.003a.687.687 0 0 1-.789.074l-.912-.525-1.377 2.383.904.524c.25.146.383.433.331.719a5.452 5.452 0 0 0-.098 1.002c0 .336.033.672.096 1.002a.687.687 0 0 1-.333.72l-.904.523 1.376 2.383.916-.525a.686.686 0 0 1 .789.075c.466.4 1.09.755 1.754 1.003.27.1.449.357.448.644v1.048h2.75v-1.048c0-.287.18-.544.45-.644a5.744 5.744 0 0 0 1.737-1.004.69.69 0 0 1 .792-.073l.899.52zm-5.272-8.064a3.44 3.44 0 0 1 3.437 3.437 3.44 3.44 0 0 1-3.437 3.437 3.44 3.44 0 0 1-3.437-3.437 3.44 3.44 0 0 1 3.437-3.437zm0 5.5a2.064 2.064 0 0 0 2.063-2.063 2.064 2.064 0 0 0-2.063-2.062 2.064 2.064 0 0 0-2.062 2.062c0 1.137.925 2.062 2.062 2.062z' fill='%23CC7B19' fill-rule='nonzero'/%3e %3c/svg%3e"},64511:(e,t,n)=>{var i,r,s;s="object"==typeof self&&self.self==self&&self||"object"==typeof n.g&&n.g.global==n.g&&n.g,i=[n(13469),n(19755),t],void 0===(r=function(e,t,n){s.Backbone=function(e,t,n,i){var r=e.Backbone,s=Array.prototype.slice;t.VERSION="1.2.3",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,i){n.each(t,(function(t,r){n[r]&&(e.prototype[r]=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,r){return n[t](this[i],a(e,this),r)};case 4:return function(e,r,s){return n[t](this[i],a(e,this),r,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}}(t,r,i))}))},a=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,u=function(e,t,i,r,s){var o,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in s&&void 0===s.context&&(s.context=r);for(o=n.keys(i);a<o.length;a++)t=u(e,t,o[a],i[o[a]],s)}else if(i&&d.test(i))for(o=i.split(d);a<o.length;a++)t=e(t,o[a],r,s);else t=e(t,i,r,s);return t};c.on=function(e,t,n){return h(this,e,t,n)};var h=function(e,t,n,i,r){return e._events=u(p,e._events||{},t,n,{context:i,ctx:e,listening:r}),r&&((e._listeners||(e._listeners={}))[r.id]=r),e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[r];if(!o){var a=this._listenId||(this._listenId=n.uniqueId("l"));o=s[r]={obj:e,objId:r,id:a,listeningTo:s,count:0}}return h(e,t,i,this,o),this};var p=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),s=i.context,o=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:s,ctx:s||o,listening:a})}return e};c.off=function(e,t,n){return this._events?(this._events=u(g,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var s=e?[e._listenId]:n.keys(r),o=0;o<s.length;o++){var a=r[s[o]];if(!a)break;a.obj.off(t,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var g=function(e,t,i,r){if(e){var s,o=0,a=r.context,l=r.listeners;if(t||i||a){for(var c=t?[t]:n.keys(e);o<c.length;o++){var d=e[t=c[o]];if(!d)break;for(var u=[],h=0;h<d.length;h++){var p=d[h];i&&i!==p.callback&&i!==p.callback._callback||a&&a!==p.context?u.push(p):(s=p.listening)&&0==--s.count&&(delete l[s.id],delete s.listeningTo[s.objId])}u.length?e[t]=u:delete e[t]}return n.size(e)?e:void 0}for(var g=n.keys(l);o<g.length;o++)delete l[(s=l[g[o]]).id],delete s.listeningTo[s.objId]}};c.once=function(e,t,i){var r=u(m,{},e,t,n.bind(this.off,this));return this.on(r,void 0,i)},c.listenToOnce=function(e,t,i){var r=u(m,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,r)};var m=function(e,t,i,r){if(i){var s=e[t]=n.once((function(){r(t,s),i.apply(this,arguments)}));s._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return u(f,this._events,e,void 0,n),this};var f=function(e,t,n,i){if(e){var r=e[t],s=e.all;r&&s&&(s=s.slice()),r&&v(r,i),s&&v(s,[t].concat(i))}return e},v=function(e,t){var n,i=-1,r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var y=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var s=i.unset,o=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var h in r)t=r[h],n.isEqual(c[h],t)||a.push(h),n.isEqual(u[h],t)?delete d[h]:d[h]=t,s?delete c[h]:c[h]=t;if(this.id=this.get(this.idAttribute),!o){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],i)}if(l)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var s=e[r];n.isEqual(t[r],s)||(i[r]=s)}return!!n.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(n){var r=e.parse?t.parse(n,e):n;if(!t.set(r,e))return!1;i&&i.call(e.context,t,n,e),t.trigger("sync",t,n,e)},L(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t;var s=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!s){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var o=this,a=i.success,l=this.attributes;i.success=function(e){o.attributes=l;var t=i.parse?o.parse(e,i):e;if(s&&(t=n.extend({},r,t)),t&&!o.set(t,i))return!1;a&&a.call(i.context,o,e,i),o.trigger("sync",o,e,i)},L(this,i),r&&s&&(this.attributes=n.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var d=this.sync(c,this,i);return this.attributes=l,d},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){r&&s(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(L(this,e),o=this.sync("delete",this,e)),r||s(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||V();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}}),o(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},Z={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},w=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var i=Array(e.length-n),r=t.length,s=0;s<i.length;s++)i[s]=e[s+n];for(s=0;s<r;s++)e[s+n]=t[s];for(s=0;s<i.length;s++)e[s+r+n]=i[s]};n.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,S))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:n.clone(e);var r=this._removeModels(e,t);return!t.silent&&r&&this.trigger("update",this,t),i?r[0]:r},set:function(e,t){if(null!=e){(t=n.defaults({},t,Z)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:e.slice();var r=t.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var s,o=[],a=[],l=[],c={},d=t.add,u=t.merge,h=t.remove,p=!1,g=this.comparator&&null==r&&!1!==t.sort,m=n.isString(this.comparator)?this.comparator:null,f=0;f<e.length;f++){s=e[f];var v=this.get(s);if(v){if(u&&s!==v){var y=this._isModel(s)?s.attributes:s;t.parse&&(y=v.parse(y,t)),v.set(y,t),g&&!p&&(p=v.hasChanged(m))}c[v.cid]||(c[v.cid]=!0,o.push(v)),e[f]=v}else d&&(s=e[f]=this._prepareModel(s,t))&&(a.push(s),this._addReference(s,t),c[s.cid]=!0,o.push(s))}if(h){for(f=0;f<this.length;f++)c[(s=this.models[f]).cid]||l.push(s);l.length&&this._removeModels(l,t)}var b=!1,S=!g&&d&&h;if(o.length&&S?(b=this.length!=o.length||n.some(this.models,(function(e,t){return e!==o[t]})),this.models.length=0,w(this.models,o,0),this.length=this.models.length):a.length&&(g&&(p=!0),w(this.models,a,null==r?this.length:r),this.length=this.models.length),p&&this.sort({silent:!0}),!t.silent){for(f=0;f<a.length;f++)null!=r&&(t.index=r+f),(s=a[f]).trigger("add",s,this,t);(p||b)&&this.trigger("sort",this,t),(a.length||l.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},L(this,e),this.sync("read",this,e)},create:function(e,t){var i=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;i||this.add(e,t);var r=this,s=t.success;return t.success=function(e,t,n){i&&r.add(e,n),s&&s.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,t.silent||(t.index=s,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof y},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}}}),o(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var P=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(P.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var r=t.match(C);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){var s=A[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||V()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,l&&l.call(r.context,e,t,n)};var c=r.xhr=t.ajax(n.extend(o,r));return i.trigger("request",i,c,r),c};var A={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,T=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(E.prototype,c,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var s=this;return t.history.route(e,(function(n){var o=s._extractParameters(e,n);!1!==s.execute(r,o,i)&&(s.trigger.apply(s,["route:"+i].concat(o)),s.trigger("route",i,o),t.history.trigger("route",s,i,o))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(I,"(?:$1)?").replace(k,(function(e,t){return t?e:"([^/?]+)"})).replace(T,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,(function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null}))}});var M=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,_=/#.*$/;M.started=!1,n.extend(M.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(R,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");if(M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(D,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!M.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+e;e=e.replace(_,"");var r=this.decodeFragment(e);if(this.fragment!==r){if(this.fragment=r,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;t.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new M;y.extend=b.extend=E.extend=P.extend=M.extend=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};var V=function(){throw new Error('A "url" property or function must be specified')},L=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}(s,n,e,t)}.apply(t,i))||(e.exports=r)},65789:function(e,t,n){var i,r,s,o;i=n(13469),r=n(64511),e.exports=(s=i,(o=r).ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,(function(e,t){if(e===n)return delete this._indexByCustom[t],!0}),this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,(function(i){t.isFunction(i[e])&&i[e].apply(i,n||[])}))},_updateLength:function(){this.length=t.size(this._views)}}),t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){n.prototype[e]=function(){var n=[t.values(this._views)].concat(t.toArray(arguments));return t[e].apply(t,n)}})),n}(0,s),o.ChildViewContainer)},70800:function(e,t,n){var i,r,s;r=n(13469),s=n(64511),n(41856),n(65789),e.exports=(function(e,t,n){"use strict";var i={};t.Marionette=i,i.$=t.$;var r=Array.prototype.slice;function s(e,t){var n=new Error(e);throw n.name=t||"Error",n}i.extend=t.Model.extend,i.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]},i.normalizeMethods=function(e){var t,i={};return n.each(e,(function(e,r){t=e,n.isFunction(t)||(t=this[t]),t&&(i[r]=t)}),this),i},i.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,n){return n.toUpperCase()}return function(i){var r=this["on"+i.replace(e,t)];if(n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n.isFunction(r))return r.apply(this,n.tail(arguments))}}(),i.MonitorDOMRefresh=function(e){function t(t){t._isShown&&t._isRendered&&function(t){return e.contains(t.el)}(t)&&n.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",(function(){!function(e){e._isShown=!0,t(e)}(e)})),e.listenTo(e,"render",(function(){!function(e){e._isRendered=!0,t(e)}(e)}))}}(document.documentElement),function(e){function t(e,t,i,r){var o=r.split(/\s+/);n.each(o,(function(n){var r=e[n];r||s("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,i,r)}))}function i(e,t,n,i){e.listenTo(t,n,i)}function r(e,t,i,r){var s=r.split(/\s+/);n.each(s,(function(n){var r=e[n];e.stopListening(t,i,r)}))}function o(e,t,n,i){e.stopListening(t,n,i)}function a(e,t,i,r,s){t&&i&&(n.isFunction(i)&&(i=i.call(e)),n.each(i,(function(i,o){n.isFunction(i)?r(e,t,o,i):s(e,t,o,i)})))}e.bindEntityEvents=function(e,n,r){a(e,n,r,i,t)},e.unbindEntityEvents=function(e,t,n){a(e,t,n,o,r)}}(i),i.Callbacks=function(){this._deferred=i.$.Deferred(),this._callbacks=[]},n.extend(i.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done((function(n,i){t&&(n=t),e.call(n,i)}))},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=i.$.Deferred(),this._callbacks=[],n.each(e,(function(e){this.add(e.cb,e.ctx)}),this)}}),i.Controller=function(e){this.triggerMethod=i.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},i.Controller.extend=i.extend,n.extend(i.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),i.Region=function(e){if(this.options=e||{},this.el=i.getOption(this,"el"),this.el||s("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(i.Region,{buildRegion:function(e,t){var i,r,o=n.isString(e),a=n.isString(e.selector),l=n.isUndefined(e.regionType),c=n.isFunction(e);c||o||a||s("Region must be specified as a Region type, a selector string or an object with selector property"),o&&(i=e),e.selector&&(i=e.selector,delete e.selector),c&&(r=e),!c&&l&&(r=t),e.regionType&&(r=e.regionType,delete e.regionType),(o||c)&&(e={}),e.el=i;var d=new r(e);return e.parentEl&&(d.getEl=function(t){var i=e.parentEl;return n.isFunction(i)&&(i=i()),i.find(t)}),d}}),n.extend(i.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),r=e!==this.currentView;r&&this.close(),e.render(),(r||t)&&this.open(e),this.currentView=e,i.triggerMethod.call(this,"show",e),i.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return i.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),i.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),i.Region.extend=i.extend,i.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var i={};return n.each(e,(function(e,r){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(r,e);i[r]=s}),this),i},addRegion:function(t,i){var r,s=n.isObject(i),o=n.isString(i),a=!!i.selector;return r=o||s&&a||n.isFunction(i)?e.Region.buildRegion(i,e.Region):i,this._store(t,r),this.triggerMethod("region:add",t,r),r},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,(function(e,t){this._remove(t,e)}),this)},closeRegions:function(){n.each(this._regions,(function(e,t){e.close()}),this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){t.prototype[e]=function(){var t=[n.values(this._regions)].concat(n.toArray(arguments));return n[e].apply(n,t)}})),t}(i),i.TemplateCache=function(e){this.templateId=e},n.extend(i.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new i.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=r.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(i.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=i.$(e).html();return t&&0!==t.length||s("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),i.Renderer={render:function(e,t){return e||s("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError"),("function"==typeof e?e:i.TemplateCache.get(e))(t)}},i.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),i.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:i.triggerMethod,normalizeMethods:i.normalizeMethods,getTemplate:function(){return i.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=i.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=this;if(void 0!==e)return n.each(n.keys(e),(function(i){var r=/@ui.[a-zA-Z_$0-9]*/g;i.match(r)&&(e[i.replace(r,(function(e){return n.result(t,"ui")[e.slice(4)]}))]=e[i],delete e[i])})),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,(function(t,i){var r=n.isObject(t),s=r?t.event:t;e[i]=function(e){if(e){var n=e.preventDefault,i=e.stopPropagation,o=r?t.preventDefault:n,a=r?t.stopPropagation:i;o&&n&&n.apply(e),a&&i&&i.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(s,l)}}),this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),i.bindEntityEvents(this,this.model,i.getOption(this,"modelEvents")),i.bindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var i={},r=this.configureTriggers();n.extend(i,e,r),t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),i.unbindEntityEvents(this,this.model,i.getOption(this,"modelEvents")),i.unbindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),(function(t){var n=e[t];this.ui[t]=this.$(n)}),this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,(function(e,t){delete this.ui[t]}),this),this.ui=this._uiBindings,delete this._uiBindings)}}),i.ItemView=i.View.extend({constructor:function(){i.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=i.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),i.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),i.CollectionView=i.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),i.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,(function(e){i.triggerMethod.call(e,"show")})),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,n){this.closeEmptyView();var i=this.getItemView(e),r=this.collection.indexOf(e);this.addItemView(e,i,r)},onShowCalled:function(){this.children.each((function(e){i.triggerMethod.call(e,"show")}))},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each((function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)}),this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return i.getOption(this,"emptyView")},getItemView:function(e){var t=i.getOption(this,"itemView");return t||s("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,r){var s=i.getOption(this,"itemViewOptions");n.isFunction(s)&&(s=s.call(this,e,r));var o=this.buildItemView(e,t,s);return this.addChildViewEventForwarding(o),this.triggerMethod("before:item:added",o),this.children.add(o),this.renderItemView(o,r),this._isShown&&!this.isBuffering&&i.triggerMethod.call(o,"show"),this.triggerMethod("after:item:added",o),o},addChildViewEventForwarding:function(e){var t=i.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",(function(){var s=r.call(arguments),o=s[0],a=this.normalizeMethods(this.getItemEvents());s[0]=t+":"+o,s.splice(1,0,e),void 0!==a&&n.isFunction(a[o])&&a[o].apply(this,s),i.triggerMethod.apply(this,s)}),this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,i){return new t(n.extend({model:e},i))},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),i.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each((function(e){this.removeChildView(e)}),this),this.checkEmpty()}}),i.CompositeView=i.CollectionView.extend({constructor:function(){i.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",(function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))}))},getItemView:function(e){var t=i.getOption(this,"itemView")||this.constructor;return t||s("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),i.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return i.Renderer.render(t,e)},appendBuffer:function(e,t){this.getItemViewContainer(e).append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,r=i.getOption(e,"itemViewContainer");if(r){var o=n.isFunction(r)?r.call(this):r;(t=e.$(o)).length<=0&&s("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),i.Layout=i.ItemView.extend({regionType:i.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),i.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),i.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),i.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:i.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each((function(e){e.reset()}))},_initRegionManager:function(){this.regionManager=new i.RegionManager,this.listenTo(this.regionManager,"region:add",(function(e,t){this[e]=t,this.trigger("region:add",e,t)})),this.listenTo(this.regionManager,"region:remove",(function(e,t){delete this[e],this.trigger("region:remove",e,t)}))}}),i.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=i.getOption(this,"appRoutes"),r=this._getController();this.processAppRoutes(r,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(t){var i=n.keys(t).reverse();n.each(i,(function(n){this._addAppRoute(e,n,t[n])}),this)}},_getController:function(){return i.getOption(this,"controller")},_addAppRoute:function(e,t,i){var r=e[i];r||s("Method '"+i+"' was not found on the controller"),this.route(t,i,n.bind(r,e))}}),i.Application=function(e){this._initRegionManager(),this._initCallbacks=new i.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=i.triggerMethod},n.extend(i.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=i.Module.getClass(t),s=r.call(arguments);return s.unshift(this),n.create.apply(n,s)},_initRegionManager:function(){this._regionManager=new i.RegionManager,this.listenTo(this._regionManager,"region:add",(function(e,t){this[e]=t})),this.listenTo(this._regionManager,"region:remove",(function(e,t){delete this[e]}))}}),i.Application.extend=i.extend,i.Module=function(e,t,r){this.moduleName=e,this.options=n.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=i.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},i.Module.extend=i.extend,n.extend(i.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,(function(t){t.startWithParent&&t.start(e)})),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,i.triggerMethod.call(this,"before:stop"),n.each(this.submodules,(function(e){e.stop()})),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),i.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,r){if(e){var s=n.flatten([this,this.app,t,i,i.$,n,r]);e.apply(this,s)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new i.Callbacks,this._finalizerCallbacks=new i.Callbacks}}),n.extend(i.Module,{create:function(e,t,i){var s=e,o=r.call(arguments);o.splice(0,3);var a=(t=t.split(".")).length,l=[];return l[a-1]=i,n.each(t,(function(t,n){var r=s;s=this._getModule(r,t,e,i),this._addModuleDefinition(r,s,l[n],o)}),this),s},_getModule:function(e,t,i,r,s){var o=n.extend({},r),a=this.getClass(r),l=e[t];return l||(l=new a(t,i,o),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=i.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,r,s){var o,a;!n.isFunction(r)||r.prototype instanceof i.Module?n.isObject(r)?(o=r.define,a=!!n.isUndefined(r.startWithParent)||r.startWithParent):a=!0:(o=r,a=!0),o&&t.addDefinition(o,s),t.startWithParent=t.startWithParent&&a,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer((function(e){t.startWithParent&&t.start(e)})))}})}(0,i=s,r),i.Marionette)},50207:function(e,t,n){e.exports=function(e,t){function n(n){return{underscore:e,"./backbone-1.2.3+19b88d2+57e89d8":t}[n]}return function(e){function t(e){var n=t.cache[e];if(!n){var i={};n=t.cache[e]={id:e,exports:i},t.modules[e].call(i,n,i)}return n.exports}return t.cache=[],t.modules=[function(e,i){var r=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),o=t(2),a=t(5),l=t(4),c=t(1),d=t(7);function u(e,t){this._superset=e,this._filtered=new o(e,t),this._sorted=new a(this._filtered,t),this._paginated=new l(this._sorted,t),c(this._paginated,this),d.call(this,this._filtered,p),d.call(this,this._sorted,g),d.call(this,this._paginated,m),this.initialize(t)}var h={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},p=["filtered:add","filtered:remove","filtered:reset"],g=["sorted:add","sorted:remove"],m=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];r.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters"],(function(e){h[e]=function(){var t=o.prototype[e].apply(this._filtered,arguments);return t===this._filtered?this:t}})),r.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage"],(function(e){h[e]=function(){var t=l.prototype[e].apply(this._paginated,arguments);return t===this._paginated?this:t}})),r.each(["setSort","reverseSort","removeSort"],(function(e){h[e]=function(){var t=a.prototype[e].apply(this._sorted,arguments);return t===this._sorted?this:t}})),r.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],(function(e){h[e]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+e+"called on read-only proxy")}})),r.extend(u.prototype,h,s.Events),(u=s.Collection.extend(u.prototype)).FilteredCollection=o,u.SortedCollection=a,u.PaginatedCollection=l,e.exports=u},function(e,t){var i=n("underscore"),r=n("./backbone-1.2.3+19b88d2+57e89d8"),s=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],o=["add","remove","reset","sort","destroy","sync","request","error"];e.exports=function(e,t){function n(){t.length=e.length}var a={};return i.each(i.functions(r.Collection.prototype),(function(t){i.contains(s,t)||(a[t]=function(){return e[t].apply(e,arguments)})})),i.extend(t,r.Events,a),t.listenTo(e,"all",n),t.listenTo(e,"all",(function(n){var r=i.toArray(arguments),s="change"===n||"change:"===n.slice(0,7);"reset"===n&&(t.models=e.models),i.contains(o,n)?(i.contains(["add","remove","destroy"],n)?r[2]=t:i.contains(["reset","sort"],n)&&(r[1]=t),t.trigger.apply(this,r)):s&&t.contains(r[1])&&t.trigger.apply(this,r)})),t.models=e.models,n(),t}},function(e,i){var r=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),o=t(1),a=t(3);function l(){this._filterResultCache={}}function c(e){for(var t in this._filterResultCache)this._filterResultCache.hasOwnProperty(t)&&delete this._filterResultCache[t][e]}function d(e,t){this._filters[e]&&c.call(this,e),this._filters[e]=t,this.trigger("filtered:add",e)}function u(e){delete this._filters[e],c.call(this,e),this.trigger("filtered:remove",e)}function h(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var n in this._filters)if(this._filters.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=this._filters[n].fn(e)),!t[n]))return!1;return!0}function p(e){e||(e={});var t=[];this._superset&&(t=this._superset.filter(r.bind(h,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length}function g(){p.call(this,{reset:!0})}function m(){var e=!(!this._superset||!this._superset.comparator);p.call(this,{reset:e})}function f(e){if(this._filterResultCache[e.cid]={},h.call(this,e)){if(!this._collection.get(e.cid)){for(var t=null,n=this.superset().indexOf(e)-1;n>=0;n-=1)if(this.contains(this.superset().at(n))){t=this.indexOf(this.superset().at(n))+1;break}t=t||0,this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length}function v(e){this._filterResultCache[e.cid]={},h.call(this,e)||this._collection.get(e.cid)&&this._collection.remove(e)}function y(e,t,n){"change:"===e.slice(0,7)&&v.call(this,arguments[1])}function b(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length}function Z(e){this._superset=e,this._collection=new s.Collection(e.toArray()),o(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset",g),this.listenTo(this._superset,"sort",m),this.listenTo(this._superset,"add change",f),this.listenTo(this._superset,"remove",b),this.listenTo(this._superset,"all",y)}var S={defaultFilterName:"__default",filterBy:function(e,t){return t||(t=e,e=this.defaultFilterName),d.call(this,e,a(t)),p.call(this),this},removeFilter:function(e){return e||(e=this.defaultFilterName),u.call(this,e),p.call(this),this},resetFilters:function(){return this._filters={},l.call(this),this.trigger("filtered:reset"),p.call(this),this},superset:function(){return this._superset},refilter:function(e){return"object"==typeof e&&e.cid?f.call(this,e):(l.call(this),p.call(this)),this},getFilters:function(){return r.keys(this._filters)},hasFilter:function(e){return r.contains(this.getFilters(),e)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};r.extend(Z.prototype,S,s.Events),e.exports=Z},function(e,t){var i=n("underscore");function r(e,t){return i.isArray(t)||(t=null),{fn:e,keys:t}}e.exports=function(e,t){return i.isFunction(e)?r(e,t):i.isObject(e)?function(e){var t=i.keys(e),n=i.map(t,(function(t){var n=e[t];return i.isFunction(n)?function(e,t){return function(n){return t(n.get(e))}}(t,n):function(e,t){return function(n){return n.get(e)===t}}(t,n)}));return r((function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}),t)}(e):void 0}},function(e,i){var r=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),o=t(1);function a(){var e=this.getPage()*this.getPerPage();return[e,e+this.getPerPage()]}function l(){var e=a.call(this);this._collection.reset(this.superset().slice(e[0],e[1]))}function c(){this._totalPages;var e=this.superset().length,t=this.getPerPage(),n=e%t==0?e/t:Math.floor(e/t)+1,i=this._totalPages!==n;if(this._totalPages=n,i&&this.trigger("paginated:change:numPages",{numPages:n}),this.getPage()>=n)return this.setPage(n-1),!0}function d(){c.call(this)||l.call(this)}function u(e,t){for(var n=r.max([e.length,t.length]),i=0,s=0;i<n;i+=1,s+=1)if(e[i]!==t[s])if(t[i-1]===e[i])s-=1;else{if(t[i+1]!==e[i])return e[i];s+=1}}function h(e,t,n){if(!c.call(this)){var i=a.call(this),r=i[0],s=i[1],o=u(this.superset().slice(r,s),this._collection.toArray()),l=u(this._collection.toArray(),this.superset().slice(r,s));l&&this._collection.remove(l),o&&this._collection.add(o,{at:this.superset().indexOf(o)-r})}}function p(e,t){this._superset=e,this._collection=new s.Collection(e.toArray()),this._page=0,this.setPerPage(t&&t.perPage?t.perPage:null),o(this._collection,this),this.listenTo(this._superset,"add remove",h),this.listenTo(this._superset,"reset sort",d)}var g={removePagination:function(){return this.setPerPage(null),this},setPerPage:function(e){return this._perPage=e,d.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:e,numPages:this.getNumPages()}),this},setPage:function(e){var t=this.getNumPages()-1;return e=(e=(e=e>0?e:0)<t?e:t)<0?0:e,this._page=e,l.call(this),this.trigger("paginated:change:page",{page:e}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(e){return this.setPage(this.getPage()+e),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this.trigger("paginated:destroy")}};r.extend(p.prototype,g,s.Events),e.exports=p},function(e,i){var r=n("underscore"),s=n("./backbone-1.2.3+19b88d2+57e89d8"),o=t(1),a=t(6);function l(e){return r.isFunction(e)?e:function(t){return t.get(e)}}function c(e){return this._comparator?this._reverse?a(this._collection.toArray(),e,l(this._comparator)):r.sortedIndex(this._collection.toArray(),e,l(this._comparator)):this._superset.indexOf(e)}function d(e){var t=c.call(this,e);this._collection.add(e,{at:t})}function u(e){this.contains(e)&&this._collection.remove(e)}function h(e){this.contains(e)&&this._collection.indexOf(e)!==c.call(this,e)&&(this._collection.remove(e),d.call(this,e))}function p(){if(this._comparator){var e=this._superset.sortBy(this._comparator);this._collection.reset(this._reverse?e.reverse():e)}else this._collection.reset(this._superset.toArray())}function g(e){this._superset=e,this._reverse=!1,this._comparator=null,this._collection=new s.Collection(e.toArray()),o(this._collection,this),this.listenTo(this._superset,"add",d),this.listenTo(this._superset,"remove",u),this.listenTo(this._superset,"change",h),this.listenTo(this._superset,"reset",p)}var m={setSort:function(e,t){return this._reverse="desc"===t,this._comparator=e,p.call(this),e?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,p.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};r.extend(g.prototype,m,s.Events),e.exports=g},function(e,t){var i=n("underscore");e.exports=function(e,t,n,r){for(var s=(n=null==n?i.identity:function(e){return i.isFunction(e)?e:function(t){return t[e]}}(n)).call(r,t),o=0,a=e.length;o<a;){var l=o+a>>>1;n.call(r,e[l])<s?a=l:o=l+1}return o}},function(e,t){var i=n("underscore");e.exports=function(e,t){i.each(t,(function(t){this.listenTo(e,t,(function(){var e=i.toArray(arguments);e.unshift(t),this.trigger.apply(this,e)}))}),this)}}],t(0)}()}(n(13469),n(64511))},41856:function(e,t,n){var i,r;i=n(13469),r=n(64511),e.exports=function(e,t){"use strict";return t.Wreqr=function(e,t,n){var i,r={};return r.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,(function(e,n){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(n,e,i)}),this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),r.CommandStorage=(i=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)},n.extend(i.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),i),r.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,i){var r=this.storage.getCommands(e);n.each(r.instances,(function(e){t.apply(i,e)})),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,i=e.storageType||this.storageType;t=n.isFunction(i)?new i:i,this.storage=t}})}(r),r.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(r),r.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),r}(t,t.Marionette,e),t.Wreqr}(i,r)},32688:(e,t,n)=>{!function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout((function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');e.length&&"radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each((function(){var i=e(this),r=i.data("bs.button"),s="object"==typeof n&&n;r||i.data("bs.button",r=new t(this,s)),"toggle"==n?r.toggle():n&&r.setState(n)}))},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()}))}(n(19755))},13513:(e,t,n)=>{!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one(e.support.transition.end,(function(){n.$element.focus().trigger(r)})).emulateTransitionEnd(300):n.$element.focus().trigger(r)})))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){delete this.backdropMouseDownTarget,this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("mousedown.dismiss.modal",e.proxy((function(e){this.backdropMouseDownTarget=e.target}),this)),this.$element.on("mouseup.dismiss.modal",e.proxy((function(e){e.target===this.backdropMouseDownTarget&&(delete this.backdropMouseDownTarget,e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)))}),this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,i){return this.each((function(){var r=e(this),s=r.data("bs.modal"),o=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);s||r.data("bs.modal",s=new t(this,o)),"string"==typeof n?s[n](i):o.show&&s.show(i)}))},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(s,this).one("hide",(function(){n.is(":visible")&&n.focus()}))})),e(document).on("show.bs.modal",".modal",(function(){e(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){e(document.body).removeClass("modal-open")}))}(n(19755))},68553:(e,t,n)=>{!function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i);for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focus",l="hover"==o?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,(function(e,i){n[e]!=i&&(t[e]=i)})),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,s=r.test(i);s&&(i=i.replace(r,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var o=this.getPosition(),a=n[0].offsetWidth,l=n[0].offsetHeight;if(s){var c=this.$element.parent(),d=i,u=document.documentElement.scrollTop||document.body.scrollTop,h="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),g="body"==this.options.container?0:c.offset().left;i="bottom"==i&&o.top+o.height+l-u>p?"top":"top"==i&&o.top-u-l<0?"bottom":"right"==i&&o.right+a>h?"left":"left"==i&&o.left-a<g?"right":i,n.removeClass(d).addClass(i)}var m=this.getCalculatedOffset(i,o,a,l);this.applyPlacement(m,i),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,i=this.tip(),r=i[0].offsetWidth,s=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top=e.top+o,e.left=e.left+a,i.offset(e).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==t&&c!=s&&(n=!0,e.top=e.top+s-c),/bottom|top/.test(t)){var d=0;e.left<0&&(d=-2*e.left,e.left=0,i.offset(e),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(d-r+l,l,"left")}else this.replaceArrow(c-s,c,"top");n&&i.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,n=this.tip(),i=e.Event("hide.bs."+this.type);function r(){"in"!=t.hoverState&&n.detach()}if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,r).emulateTransitionEnd(150):r(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each((function(){var i=e(this),r=i.data("bs.tooltip"),s="object"==typeof n&&n;r||i.data("bs.tooltip",r=new t(this,s)),"string"==typeof n&&r[n]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(n(19755))},51724:(e,t,n)=>{!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;return e(this).one(e.support.transition.end,(function(){n=!0})),setTimeout((function(){n||e(i).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}()}))}(n(19755))},43296:()=>{!function(){"use strict";var e="undefined"==typeof window,t=!e&&"scrollBehavior"in document.documentElement.style,n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function r(){return null!=document.scrollingElement?document.scrollingElement:document.documentElement}var s=new RegExp("scroll-behavior:\\s*([^;]*)");function o(e,t){var n="scroll-behavior:"+t,i=e.getAttribute("style");if(null!=i&&""!==i){var r=a(e);if(null!=r){var s="scroll-behavior:"+r;i=(i=i.replace(s+";","")).replace(s,"")}e.setAttribute("style",i.endsWith(";")?""+i+n:";"+i+n)}else e.setAttribute("style",n)}function a(e){var t=e.getAttribute("style");if(null!=t&&t.includes("scroll-behavior")){var n=t.match(s);if(null!=n){var r=i(n,2)[1];if(null!=r&&""!==r)return r}}}function l(e,t){if(null!=t&&"smooth"===t.behavior)return"smooth";var n,i="style"in e?e:r();if("style"in i){var s=i.style.scrollBehavior;null!=s&&""!==s&&(n=s)}if(null==n){var o=i.getAttribute("scroll-behavior");null!=o&&""!==o&&(n=o)}if(null==n&&(n=a(i)),null==n){var l=getComputedStyle(i).getPropertyValue("scrollBehavior");null!=l&&""!==l&&(n=l)}return n}function c(e){return.5*(1-Math.cos(Math.PI*e))}var d={reset:function(){}},u="undefined"==typeof WeakMap?void 0:new WeakMap;var h=e?void 0:Element.prototype.scroll,p=e?void 0:window.scroll,g=e?void 0:Element.prototype.scrollBy,m=e?void 0:window.scrollBy,f=e?void 0:Element.prototype.scrollTo,v=e?void 0:window.scrollTo;function y(e,t){this.__adjustingScrollPosition=!0,this.scrollLeft=e,this.scrollTop=t,delete this.__adjustingScrollPosition}function b(e,t){return y.call(this,e,t)}function Z(e,t){this.__adjustingScrollPosition=!0,this.scrollLeft+=e,this.scrollTop+=t,delete this.__adjustingScrollPosition}function S(e,t){switch(e){case"scroll":return t instanceof Element?null!=h?h:y:p;case"scrollBy":return t instanceof Element?null!=g?g:Z:m;case"scrollTo":return t instanceof Element?null!=f?f:b:v}}function w(e){return null==e?0:"number"==typeof e?e:"string"==typeof e?parseFloat(e):0}function P(e){return null!=e&&"object"==typeof e}function C(e,i,s,h){!function(e,n,i){var s=l(n,e);null==s||"auto"===s?S(i,n).call(n,e.left,e.top):function(e){var n=e.startTime,i=e.startX,s=e.startY,l=e.endX,h=e.endY,p=e.method,g=e.scroller,m=0,f=l-i,v=h-s,y=Math.max(Math.abs(f/1e3*15e3),Math.abs(v/1e3*15e3)),b=function(e){if(t||null==u)return d;var n,i,s,l,c,h=r(),p=u.get(e);if(null!=p)n=p.cachedScrollSnapValue,i=p.cachedScrollBehaviorStyleAttributeValue,s=p.secondaryScroller,l=p.secondaryScrollerCachedScrollSnapValue,c=p.secondaryScrollerCachedScrollBehaviorStyleAttributeValue,p.release();else{n=""===e.style.scrollSnapType?null:e.style.scrollSnapType,i=a(e),s=e===h&&h!==document.body?document.body:void 0,l=null==s?void 0:""===s.style.scrollSnapType?null:s.style.scrollSnapType,c=null==s?void 0:a(s);var g=getComputedStyle(e).getPropertyValue("scroll-snap-type"),m=null==s?void 0:getComputedStyle(s).getPropertyValue("scroll-snap-type");if("none"===g&&"none"===m)return d}e.style.scrollSnapType="none",void 0!==s&&(s.style.scrollSnapType="none"),void 0!==i&&o(e,i),void 0!==s&&void 0!==c&&o(s,c);var f=!1,v=e===h?window:e;function y(){v.removeEventListener("scroll",b),null!=u&&u.delete(e),f=!0}function b(){e.style.scrollSnapType=n,null!=s&&void 0!==l&&(s.style.scrollSnapType=l),void 0!==i&&o(e,i),void 0!==s&&void 0!==c&&o(s,c),y()}return u.set(e,{release:y,cachedScrollSnapValue:n,cachedScrollBehaviorStyleAttributeValue:i,secondaryScroller:s,secondaryScrollerCachedScrollSnapValue:l,secondaryScrollerCachedScrollBehaviorStyleAttributeValue:c}),{reset:function(){setTimeout((function(){f||v.addEventListener("scroll",b)}))}}}(g);requestAnimationFrame((function e(t){m+=t-n;var r=Math.max(0,Math.min(1,0===y?0:m/y)),o=Math.floor(i+f*c(r)),a=Math.floor(s+v*c(r));p(o,a),o!==l||a!==h?requestAnimationFrame(e):null!=b&&(b.reset(),b=void 0)}))}(function(e,t,n,i){var s="performance"in window?performance.now():Date.now();if(e instanceof Element)return{startTime:s,startX:o=e.scrollLeft,startY:a=e.scrollTop,endX:Math.floor("scrollBy"===i?o+t:t),endY:Math.floor("scrollBy"===i?a+n:n),method:S("scrollTo",e).bind(e),scroller:e};var o,a,l=window.scrollX,c=window.pageXOffset,d=window.scrollY,u=window.pageYOffset;return{startTime:s,startX:o=null==l||0===l?c:l,startY:a=null==d||0===d?u:d,endX:Math.floor("scrollBy"===i?o+t:t),endY:Math.floor("scrollBy"===i?a+n:n),method:S("scrollTo",window).bind(window),scroller:r()}}(n,e.left,e.top,i))}(function(e,t){if(void 0===t&&!P(e))throw new TypeError("Failed to execute 'scroll' on 'Element': parameter 1 ('options') is not an object.");return P(e)?n(n({},x(e.left,e.top)),{behavior:null==e.behavior?"auto":e.behavior}):n(n({},x(e,t)),{behavior:"auto"})}(s,h),e,i)}function x(e,t){return{left:w(e),top:w(t)}}function A(e){return"nodeType"in e&&1===e.nodeType?e.parentNode:"ShadowRoot"in window&&e instanceof window.ShadowRoot?e.host:e===document?window:e instanceof Node?e.parentNode:null}function E(e){return"visible"!==e&&"clip"!==e}function I(e){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var t=getComputedStyle(e,null);return E(t.overflowY)||E(t.overflowX)}return!1}function k(e){for(var t=e,n=r();null!=t;){var i=l(t);if(null!=i&&(t===n||I(t)))return[t,i];t=A(t)}for(t=e;null!=t;){if(t===n||I(t))return[t,"auto"];t=A(t)}return[n,"auto"]}function T(e){if(void 0===e&&(e=location),"origin"in e&&null!=e.origin)return e.origin;var t=null!=e.port&&e.port.length>0?":"+e.port:"";return("http:"===e.protocol&&":80"===t||"https:"===e.protocol&&":443"===t)&&(t=""),e.protocol+"//"+e.hostname+t}var O=/^#\d/;var M=e?void 0:Element.prototype.scrollIntoView;function R(e,t,n,i,r,s,o,a){return s<e&&o>t||s>e&&o<t?0:s<=e&&a<=n||o>=t&&a>=n?s-e-i:o>t&&a<n||s<e&&a>n?o-t+r:0}function D(e,t,n){var i=n.block,s=n.inline,o=r(),a=null!=window.visualViewport?visualViewport.width:innerWidth,l=null!=window.visualViewport?visualViewport.height:innerHeight,c=null!=window.scrollX?window.scrollX:window.pageXOffset,d=null!=window.scrollY?window.scrollY:window.pageYOffset,u=e.getBoundingClientRect(),h=u.height,p=u.width,g=u.top,m=u.right,f=u.bottom,v=u.left,y="start"===i||"nearest"===i?g:"end"===i?f:g+h/2,b="center"===s?v+p/2:"end"===s?m:v,Z=t.getBoundingClientRect(),S=Z.height,w=Z.width,P=Z.top,C=Z.right,x=Z.bottom,A=Z.left,E=getComputedStyle(t),I=parseInt(E.borderLeftWidth,10),k=parseInt(E.borderTopWidth,10),T=parseInt(E.borderRightWidth,10),O=parseInt(E.borderBottomWidth,10),M=0,D=0,_="offsetWidth"in t?t.offsetWidth-t.clientWidth-I-T:0,V="offsetHeight"in t?t.offsetHeight-t.clientHeight-k-O:0;if(o===t)M="start"===i?y:"end"===i?y-l:"nearest"===i?R(d,d+l,l,k,O,d+y,d+y+h,h):y-l/2,D="start"===s?b:"center"===s?b-a/2:"end"===s?b-a:R(c,c+a,a,I,T,c+b,c+b+p,p),M=Math.max(0,M+d),D=Math.max(0,D+c);else{M="start"===i?y-P-k:"end"===i?y-x+O+V:"nearest"===i?R(P,x,S,k,O+V,y,y+h,h):y-(P+S/2)+V/2,D="start"===s?b-A-I:"center"===s?b-(A+w/2)+_/2:"end"===s?b-C+T+_:R(A,C,w,I,T+_,b,b+p,p);var L=t.scrollLeft,j=t.scrollTop;M=Math.max(0,Math.min(j+M,t.scrollHeight-S+V)),D=Math.max(0,Math.min(L+D,t.scrollWidth-w+_))}return{top:M,left:D}}var _=e?void 0:Object.getOwnPropertyDescriptor(Element.prototype,"scrollTop").set,V=e?void 0:Object.getOwnPropertyDescriptor(Element.prototype,"scrollLeft").set,L=!e&&"scroll"in Element.prototype&&"scrollTo"in Element.prototype&&"scrollBy"in Element.prototype&&"scrollIntoView"in Element.prototype;e||t&&L||(Element.prototype.scroll=function(e,t){C(this,"scroll",e,t)},Element.prototype.scrollBy=function(e,t){C(this,"scrollBy",e,t)},Element.prototype.scrollTo=function(e,t){C(this,"scrollTo",e,t)},Element.prototype.scrollIntoView=function(e){var t=null==e||!0===e?{block:"start",inline:"nearest"}:!1===e?{block:"end",inline:"nearest"}:e,r=i(k(this),2),s=r[0],o=r[1],a=null!=t.behavior?t.behavior:o;if("smooth"===a)s.scrollTo(n({behavior:a},D(this,s,t)));else if(null!=M)M.call(this,t);else{var l=D(this,s,t),c=l.top,d=l.left;S("scrollTo",this).call(this,d,c)}},null!=HTMLElement.prototype.scrollIntoView&&HTMLElement.prototype.scrollIntoView!==Element.prototype.scrollIntoView&&(HTMLElement.prototype.scrollIntoView=Element.prototype.scrollIntoView),Object.defineProperty(Element.prototype,"scrollLeft",{set:function(e){return this.__adjustingScrollPosition?V.call(this,e):(C(this,"scrollTo",e,this.scrollTop),e)}}),Object.defineProperty(Element.prototype,"scrollTop",{set:function(e){return this.__adjustingScrollPosition?_.call(this,e):(C(this,"scrollTo",this.scrollLeft,e),e)}}),window.scroll=function(e,t){C(this,"scroll",e,t)},window.scrollBy=function(e,t){C(this,"scrollBy",e,t)},window.scrollTo=function(e,t){C(this,"scrollTo",e,t)},window.addEventListener("click",(function(e){if(e.isTrusted&&e.target instanceof HTMLAnchorElement){var t=e.target,n=t.pathname,r=t.search,s=t.hash;if(T(e.target)===T(location)&&n===location.pathname&&r===location.search&&null!=s&&!(s.length<1)){var o=function(e){for(var t=e;null!=t;){if("ShadowRoot"in window&&t instanceof window.ShadowRoot)return t;var n=A(t);if(n===t)return document;t=n}return document}(e.target),a=null;try{a=null!=s.match(O)?o.getElementById(s.slice(1)):o.querySelector(s)}catch(e){}if(null!=a){var l=i(k(a),2)[1];"smooth"===l&&(e.preventDefault(),a.scrollIntoView({behavior:l}))}}}})))}()},88548:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(55327),l=n(51401);const c=a.Z.extend({mixins:l.Z,initialize(e={}){e.interface&&(this.interface=e.interface),e.props&&(this.props=e.props),o().each(this.interface,(e=>{this[e]=o().bind(this._proxy,this,e)}))},_proxy(e,...t){return this.getInstance()[e](...t)},register(e,t={}){this.hasInstance()&&!t.ignorePrevious&&(this._previousInstance=this.getInstance()),this._instance=e,t.silent||this.trigger("change:instance",e)},registerOnce(e){if(!this.hasInstance()){const t=e();this.register(t.instance||t,t.options||void 0)}},restorePrevious(){this._previousInstance&&this.register(this._previousInstance)},registered(){const e=r().Deferred();return this.hasInstance()?e.resolve(this.getInstance()):this.listenToOnce(this,"change:instance",e.resolve),e.promise()},getInstance(){if(this.hasInstance())return this._instance;throw new Error("Nothing has been registered to this adapter.")},hasInstance(){return null!=this._instance},prop(e){if(o().contains(this.props,e))return this.getInstance()[e];throw new Error("The "+e+" property has not been defined for this adapter")}})},28941:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>l,X_:()=>c,s4:()=>d,DB:()=>u});var i=n(19755),r=n.n(i);n(13469),n(14710);const s={},o={};function a(e,t,n){s[e]=function(e,t){if(!t)return e;const n={};return t.forEach((t=>{n[t]=(...n)=>e[t](...n)})),n}(t,n);const i=o[e];i&&(delete o[e],i.resolve(s[e]))}function l(e){for(const t in e){const n=e[t];let i,r;Array.isArray(n)?(i=n[0],r=n[1]):i=n,a(t,i,r)}}function c(e){return d(e)?r().Deferred().resolve(s[e]).promise():(o[e]||(o[e]=r().Deferred()),o[e].promise())}function d(e){return s.hasOwnProperty(e)}function u(e){return s[e]}},98984:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(88548).Z)({props:["X-Plex-Client-Identifier","X-Plex-Device","X-Plex-Device-Name","X-Plex-Device-Screen-Resolution","X-Plex-Device-Vendor","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"]})},28163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(88548).Z)({interface:["getLanguages","load","t","tEscape"]})},42839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={allowFlash:!0,allowHttpsMediaServerConnections:!0,allowIPv6ServerConnections:!0,allowMediaServerRelayConnections:!0,allowMultipleWebSocketConnections:!0,shouldCreateFlexModels:!0,shouldCreateStateTree:!0,shouldRequestHTMLFromCloudProvider:!0,allowCloudPubSub:!0,allowLoopbackDiscovery:"http:"===window.location.protocol,allowSSO:!1,bufferingDetectionLimit:500,allowSyncSettings:!0,allowSync:!0,allowDirectDownload:!0,allowSyncDownload:!1}},81494:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(14710),o=n(86076);const a={_map:{},register(e,t){(0,s.Z)(r().isFunction(t),`The "${e}" command must be a function`),this._map[e]=t},registerAll(e){r().each(e,((e,t)=>{"__esModule"!==t&&this.register(t,e)}))},hasRegistered(e){return this._map.hasOwnProperty(e)},reset(){this._map={}},execute(e,...t){const n=this._map[e];if((0,s.Z)(n,`The "${e}" command has not been registered`),n)return(0,o.Z)("[Commands] Executing",e),n(...t)}}},94566:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>y});var i=n(13469),r=n.n(i),s=n(64511),o=n.n(s);const a={bindToModel:function(){this.bindings&&r().each(r().keys(this.bindings),(function(e){const t=this.bindings[e];let n;if(n=t.model?this[t.model]:this[this.bindingsModel]||this.model,!n)return;const i=t.modelListeners||[t.modelAttribute];r().each(i,(function(i){const s={obj:n,name:"change:"+i,callback:r().bind(this.renderBinding,this,e,t,n)};this._bindingListeners||(this._bindingListeners=[]),this._bindingListeners.push(s),this.listenTo(s.obj,s.name,s.callback)}),this),this.renderBinding(e,t,n)}),this)},unbindFromModel:function(){this.bindings&&(r().each(this._bindingListeners,(function(e){this.stopListening(e.obj,e.name,e.callback)}),this),this._bindingListeners=null)},renderBinding:function(e,t,n){const i=this.$(e),s=t.formatter,o=!!t.isHtml,a=t.autohide,l=t.hiddenClass||"hidden";let c=n.get(t.modelAttribute);if(s&&(c=s.call(this,c,i)),a){const e=r().isFunction(a)?a.call(this,c):c;i.toggleClass(l,!e)}t.manual||(!o&&r().isString(c)&&(c=r().escape(c)),i.html(c))}};var l=n(55327),c=(n(22977),n(71065)),d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e){const t={},n=r().result(e,"responseType");return n&&n.accept&&(t.Accept=n.accept),t}const f=o().noConflict(),v=f.sync;f.sync=function(e,t,n){var i=n,{url:s,data:o,headers:a}=i,l=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&h)for(var i of h(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(i,["url","data","headers"]);const d=function(e,t){return t.server?t.server:e.getXHROptions?e:e.provider?e.provider:e.server?e.server:e}(t,l),f=s||r().result(t,"syncUrl")||r().result(t,"url"),y=r().isObject(o)?c.Z.stringifyParams(o):o,b=!!y&&y.indexOf("checkFiles=1")>-1;let Z=((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e})({data:y,dataType:"text",processData:!1,headers:r().extend(m(t),a),timeout:b?6e4:3e4},l);return r().isFunction(d.getXHROptions)?Z=d.getXHROptions(f,Z):Z.url=f,v(e,t,Z)},f.wrapError=function(e,t){const n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}},r().extend(f.View.prototype,a),[f.Model,f.Collection,f.Router,f.View,f.History].forEach((e=>{e.extend=l.Z.extend}));const y=f},57076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(13469),r=n.n(i),s=n(94566),o=n(19755),a=n.n(o);a().fn.isDisabled=function(){return this.hasClass("disabled")||this.hasClass("active")||this.hasClass("hidden")},a().fn.selectText=function(){const e=this[0];let t;if(document.body.createTextRange)t=document.body.createTextRange(),t.moveToElementText(e),t.select();else if(window.getSelection){const n=window.getSelection();t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t)}},a().fn.triggerReflow=function(){const e=this[0];return e&&e.offsetHeight,this};var l=n(14710),c=n(86076),d=n(70800),u=n.n(d);u().isNodeAttached=function(e){return s.ZP.$.contains(document.documentElement,e)};const h=r().clone(u().View.prototype),p=r().clone(u().CollectionView.prototype),g=r().clone(u().Region.prototype),m=r().clone(u().Region),f=r().clone(u().Layout.prototype),v={constructor:function(){this.wrapAfterRender(),h.constructor.apply(this,arguments),this.listenViewEvents()},listenViewEvents:function(){this.stopListeningViewEvents();const e=r().result(this,"viewEvents");e&&(this._viewEventsListeners=r().mapObject(e,(e=>r().isString(e)?this[e]:e)),this.listenTo(this,this._viewEventsListeners))},stopListeningViewEvents:function(){this._viewEventsListeners&&(this.stopListening(this,this._viewEventsListeners),delete this._viewEventsListeners)},_setElement:function(){h._setElement.apply(this,arguments),this.el&&(this.el._viewInstance?this.el._viewInstance!==this&&c.Z.warn('Multiple views registered for a single element with class="%s"',this.el.className):this.el._viewInstance=this)},_removeElement:function(){this.el&&delete this.el._viewInstance,h._removeElement.apply(this,arguments)},bindAllWhenRendered:function(){(0,l.Z)(arguments.length>0,"`bindAllWhenRendered` requires at least one function");const e=Array.isArray(arguments[0])?arguments[0]:arguments;r().each(e,(function(e){try{this[e]=this.whenRendered(this[e])}catch(t){(0,l.Z)(!1,"`bindAllWhenRendered` is unable to wrap "+JSON.stringify(e))}}),this)},whenRendered:function(e){return(0,l.Z)(r().isFunction(e),"`whenRendered` must be called with a single function"),r().bind((function(){if(this.isClosed)return;const t=r().toArray(arguments),n=r().bind((function(){this.isRendered&&!this.isClosed&&e.apply(this,t)}),this);this.isRendered?r().defer(n):this.listenToOnce(this,"render",(function(){r().defer(n)}))}),this)},wrapAfterRender:function(){void 0!==this.onlyAfterRender&&((0,l.Z)(Array.isArray(this.onlyAfterRender),"`onlyAfterRender` must be an array"),this.bindAllWhenRendered.apply(this,this.onlyAfterRender))},bindUIElements:function(){h.bindUIElements.apply(this,arguments),this.bindToModel(),this.isRendered=!0},unbindUIElements:function(){h.unbindUIElements.apply(this,arguments),this.unbindFromModel()},_getImmediateChildren:function(){return[]},_getNestedViews:function(){const e=this._getImmediateChildren();return e.length?r().reduce(e,(function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e}),e):e}},y={constructor:function(){p.constructor.apply(this,arguments)},triggerRendered:function(){return this.isRendered=!0,p.triggerRendered.apply(this,arguments)},rebase:function(e){return this.stopListening(this.collection),this.collection=e,this._initialEvents(),r().isFunction(this._renderChildren)?this._renderChildren():this.render(),this},buildItemView:function(){const e=p.buildItemView.apply(this,arguments);return e._parentView=this,e},_getImmediateChildren:function(){return r().values(this.children._views)}},b={constructor:function(){p.constructor.apply(this,arguments)}},Z={append:function(e,t,n){const i=e.isClosed||r().isUndefined(e.$el),s=e!==this.currentView;return s&&this.close(),e.render(),(s||i)&&(t||(t=this.getEl(this.el)),n?t.prepend(e.el):t.append(e.el)),this.attachView(e),u().triggerMethod.call(this,"show",e),u().triggerMethod.call(e,"show"),this._updateParentView(e),this._triggerAttached(e,t),this},prepend:function(e,t){return this.append(e,t,!0)},show:function(e){g.show.apply(this,arguments),this._updateParentView(e),this._triggerAttached(e,this.$el)},_triggerAttached:function(e,t){if(!u().isNodeAttached(t.get(0)))return;const n=r().union([e],r().result(e,"_getNestedViews")||[]);r().each(n,(function(e){e.triggerMethod&&e.triggerMethod("attached",this)}),this)},_updateParentView:function(e){e&&(e._parentView=this._parentView)}},S={buildRegion:function(e,t){const n=m.buildRegion.apply(this,arguments);return n._parentView=e._parentView,n}},w={_buildRegions:function(e){const t=r().mapObject(e,(e=>r().isString(e)?{_parentView:this,selector:e}:r().defaults(e,{_parentView:this})));return f._buildRegions.call(this,t)},_getImmediateChildren:function(){return r().chain(this.regionManager._regions).values().pluck("currentView").compact().value()}};r().extend(u().View.prototype,v),r().extend(u().ItemView.prototype,v),r().extend(u().CollectionView.prototype,v,y),r().extend(u().CompositeView.prototype,v,b),r().extend(u().Region.prototype,Z),r().extend(u().Region,S),r().extend(u().Layout.prototype,w),u().extend=s.ZP.Model.extend,u().Controller.extend=u().extend,u().Region.extend=u().extend,u().Application.extend=u().extend,u().Module.extend=u().extend,u().View.extend=u().extend,u().ItemView.extend=u().extend,u().CollectionView.extend=u().extend,u().CompositeView.extend=u().extend,u().Layout.extend=u().extend;const P=u()},66781:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(51401),r=n(34755);const s=r.Z.extend({mixins:[i.Z],initialize({appModel:e}){r.Z.prototype.initialize.apply(this,arguments),this.appModel=e,this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},supportsRetry:e=>!0,onPrimaryServerChange(e,t){t&&!t.get("hasEventConnection")&&(this.stop(t),this.start(t))}})},78149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),r=n.n(i),s=n(55327),o=n(49521),a=n(86076),l=n(51401);const c=s.Z.extend({mixins:[l.Z],initialize(e){this.name=e.name||"ServerEventManager",this.appModel=e.appModel,this.servers=e.servers||this.appModel.get("servers"),this.isValidServer=e.isValidServer,this.supportsLongPolling=e.supportsLongPolling,this.allowMultipleConnections=e.allowMultipleConnections,this.allowAppendingHeaders=e.allowAppendingHeaders,this.ServerEventConnection=e.ServerEventConnection,this.connections={},this._serverRetryManager=new e.ServerRetryManager({appModel:this.appModel,callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying server events connection for %s in %s seconds"})},start(){this.allowMultipleConnections?this.listenTo(this.servers,{"change:isResolved":this.onServerResolvedChange,"change:isRejected":this.onServerRejectedChange,remove:this.onServerRemove,reset:this.onServersReset}):this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},stop(){this.stopListening(),this._serverRetryManager.stopAll(),this.disconnectAll(),this.connections={}},tryConnectServer(e){const t=this.connections[e.id];this.isValidServer(e)&&!t&&(o.Z.hasWebSocket||this.supportsLongPolling?this.connect({server:e}).then(null,(()=>{this._serverRetryManager.start(e)})):e.trigger("socket:websocket",{error:!0}))},connect(e){const t=e.server;let n=this.connections[t.id];n||(n=new this.ServerEventConnection({server:t,appendHeaders:this.allowAppendingHeaders}),this.connections[t.id]=n,this.listenTo(n,{open:this.onOpen,close:this.onClose,error:this.onClose}));const i=n.open(),r=n.socket?n.socket.url:n.pollUrl;return(0,a.Z)(`[${this.name}] Opening server event connection to ${t.get("debugName")} at ${r}`),i},disconnectAll(){r().each(this.connections,(e=>{this.disconnect({connection:e})}))},disconnect(e){let t=e.connection;if(t||(t=this.connections[e.server.id]),t){const e=t.socket?t.socket.url:t.pollUrl,n=t.server;(0,a.Z)(`[${this.name}] Closing server event connection to ${n.get("debugName")} at ${e}`),this.stopListening(t),this._serverRetryManager.stop(t.server),t.close(),delete this.connections[t.server.id]}},retryServerConnections:function(e){this.isValidServer(e)&&e.get("isResolved")&&this.connect({server:e})},onPrimaryServerChange(e,t){this.disconnectAll(),t&&this.tryConnectServer(t)},onServerResolvedChange(e,t){t&&this.tryConnectServer(e)},onServerRejectedChange(e,t){t&&this.disconnect({server:e})},onServerRemove(e){const t=this.connections[e.id];if(t&&(this.disconnect({connection:t}),e.get("isMerged")&&t)){const t=this.servers.get(e.id);this.connect({server:t})}},onServersReset(e,t){const n=t.previousModels;r().each(n,(t=>{e.contains(t)||this.disconnect({server:t})}))},onOpen(e){const t=this.connections[e.id],n=t.socket?t.socket.url:t.pollUrl;a.Z.info(`[${this.name}] Opened server event connection to ${e.get("debugName")} at ${n}`),this._serverRetryManager.stop(e)},onClose(e){a.Z.warn(`[${this.name}] Unexpectedly closed server event connection to ${e.get("debugName")}`),this._serverRetryManager.start(e)}})},34755:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(55327),o=n(86076);const a=s.Z.extend({maximumDelay:30,initialize({callback:e,logFormat:t}){this._serversBeingRetried={},this.callback=e,this.logFormat=t},start(e){this._serversBeingRetried[e.cid]||this.supportsRetry(e)&&(this._serversBeingRetried[e.cid]={server:e,attempt:1},this._scheduleRetry(e))},stop(e){const t=this._serversBeingRetried[e.cid];t&&(window.clearTimeout(t.timeout),delete this._serversBeingRetried[e.cid])},stopAll(){r().each(this._serversBeingRetried,((e,t)=>{window.clearTimeout(e.timeout),delete this._serversBeingRetried[t]}))},supportsRetry:e=>!0,_scheduleRetry(e){const t=this._serversBeingRetried[e.cid],n=2*Math.min(this.maximumDelay/2,t.attempt);(0,o.Z)(this.logFormat,e.get("debugName"),n),t.timeout=window.setTimeout((()=>{this.callback(e),t.attempt++,this._scheduleRetry(e)}),1e3*n)}})},63663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(19755),r=n.n(i),s=n(94566),o=n(81560);const a={isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},isPopulated(){return!!this.populatePromise&&"resolved"===this.populatePromise.state()},populate(){return this.populatePromise?this.populatePromise:this.fetch.apply(this,arguments)},fetch(){const e=r().Deferred();let t;if(this.isPopulating())return this.populatePromise;t=this._fetch?this._fetch.apply(this,arguments):this instanceof s.ZP.Collection?s.ZP.Collection.prototype.fetch.apply(this,arguments):s.ZP.Model.prototype.fetch.apply(this,arguments);const n=e.promise();return n.rid=t.rid,this.populatePromise=n,this.failedPopulatePromise=null,t.done((n=>{this.populatePromise=r().Deferred().resolveWith(this,[this]).promise(),e.resolveWith(this,[this,n,t])})),t.fail((t=>{this.populatePromise=null,this.failedPopulatePromise=n,e.rejectWith(this,[this,t])})),n},abortPendingPopulate(){return this.isPopulating()&&o.Z.abort(this.populatePromise.rid),this.populatePromise},resetPopulatePromise(e){return this.isPopulating()||(this.populatePromise=e,this.failedPopulatePromise=null),this.populatePromise}}},64373:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);const s={currentState:null,enterState:function(e){if(e===this.currentState)return;const t=this.currentState,n=this.states[e];if(!n)throw new Error("The state machine is unable to enter undefined state: "+e);if(t){const e=this.states[t];if(r().isFunction(e.onExit)&&!1===e.onExit.call(this))return}this.currentState=e,r().isFunction(n.onEnter)&&!1===n.onEnter.apply(this,r().rest(arguments))?this.currentState=t:this.triggerMethod("stateMachineChange",{from:t,to:e})},enterNextState:function(){let e;if(this.currentState)e=this.states[this.currentState].nextState;else{if(!this.initialState)throw new Error("An initial state must be defined for the state machine");e=this.initialState}e?this.enterState(e):this.triggerMethod("stateMachineComplete")}}},49788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(94566),l=n(63663),c=n(80731),d=n(87023),u=(n(14710),n(96637),n(63542)),h=n(71065);const p=a.ZP.Collection.extend({mixins:[l.Z],responseType:d.Ls,instanceOptions:["url","path","pageStart","pageSize","persistInCache","skipCache"],_context:["parent"],cache:null,cacheKey:function(){return o().result(this,"url")},constructor:function(e,t){t||(t={}),o().each(this.getContext(),(function(e){const n=t[e];void 0!==n&&this.setContext(e,n)}),this);const n=o().result(this,"instanceOptions");if(o().each(n,(function(e){o().has(t,e)&&(this[e]=t[e])}),this),null==this.pageStart&&null==this.pageSize||(this.pageStart||(this.pageStart=0),this.pageSize||(this.pageSize=0)),t.populated&&this.resetPopulatePromise(r().Deferred().resolve().promise()),!this.cache||this.skipCache)return a.ZP.Collection.prototype.constructor.apply(this,arguments),void this._initState();this.initialize.apply(this,arguments);const i=this.cache.getItemCacheKey(this),s=this.cache.get(i);return this.uninitialize(),s||(t.onlyIfCached?{}:(a.ZP.Collection.prototype.constructor.apply(this,arguments),this._initState(),void this.cache.store(this,i)))},uninitialize:function(){this.stopListening()},_initState:function(){c.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.on("reset update sort",this.onCollectionChange,this),this.on("statechange",this.onStateChange,this))},hasContext:function(e){return this.getContext().includes(e)},getContext:function(){if(!this.context)return this._context;const e=o().result(this,"context");return this._context.concat(e)},setContext:function(e,t){-1!==this.getContext().indexOf(e)&&this[e]!==t&&(this[e]=t,this.each((function(n){n.setContext(e,t)})))},getState:function(){return this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},toState:function(){return this.name,this.reduce(this.reduceState,[])},reduceState:function(e,t){const n=t.getState();return n&&e.push(n),e},shouldUpdateModelState:function(e,t,n){return t!==n},sync:function(){return this.cache&&this.cache.store(this),a.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=o().result(this,"url")),this.path&&(e=h.Z.join([e,o().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=h.Z.join(e,t)}return e},parse:function(e,t){return this.name,this.convert(e)},convert:function(e){let t=e;const n=o().result(this,"responseType");if(o().isString(t)&&(o().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t),n===d.AV&&t.MediaContainer&&(t=t.MediaContainer)),o().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),Array.isArray(t))return t;const i=this.model.prototype.rootPropertyName;if(!i)return t;let r=t[i];return r?(Array.isArray(r)||(r=[r]),r):[]},clone:function(e){e||(e=this.models);const t=o().result(this,"instanceOptions"),n=o().extend(o().pick(this,t),o().pick(this,this.getContext()),{skipCache:!0,persistInCache:!1});return new this.constructor(e,n)||null},cloneDeep:function(e){e||(e=this.models);const t=o().map(e,(function(e){return e.clone()}));return this.clone(t)},clear:function(e){e=o().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)},getSaveParams:function(){return this.map((function(e){return e.getSaveParams()}))},onCollectionChange:function(){u.GF(this.updateState,this)},onStateChange:function(e,t,n){e!==this&&this.shouldUpdateModelState(e,t,n)&&u.GF(this.updateState,this)}})},22618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941),l=n(94566),c=n(63663),d=n(88019),u=n(80731),h=n(87023),p=n(82590);const g=function(e,t){return e?o().reduce(t,((t,n,i)=>(o().isEqual(e[i],n)||(t[i]=n),t)),{}):t};var m=n(14710),f=n(86076),v=(n(96637),n(2932)),y=n(63542),b=n(71065);const Z=/^change:([\w]+)$/,S=e=>Array.isArray(e)?e[0]:e,w=l.ZP.Model.extend({mixins:[c.Z],name:"AbstractModel",responseType:h.Ls,hasInitialRelations:!1,_context:["parent","skipCache"],cache:null,cacheKey:function(e){return e[this.idAttribute]},constructor:function(e,t){let n;if(e||(e={}),t||(t={}),this.initialize!==l.ZP.Model.prototype.initialize&&(n=this.initialize,this.initialize=function(){}),this.getContextNames().forEach((e=>{const n=this.findOption(t,e);void 0!==n&&(this[e]=n)})),!this.cache||this.findOption(t,"skipCache"))return l.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),void(n&&(n.apply(this,arguments),this.initialize=n));const i=this.findOption(t,"onlyIfCached"),r=this.cache.getItemCacheKey(this,e);let s=this.cache.get(r);if(!s&&this.entityID&&(0,a.s4)("appModel")){const t=(0,a.DB)("appModel");if(t.has("entities")){const n=t.get("entities").get(this.entityType),i=this.entityID(e),r=n.get(i);r&&(s=r.get("model"))}}return s?(this.uninitialize(),i||(this.mergeStrategy&&(s.isMergingAttributes=!0),t.parse?e=s.parse(e):o().extend(e,s._getRelations(this.syncedRelations,e)),s.set(e),s.isMergingAttributes=!1),this.getContextNames().forEach((e=>{s.setContext(e,this[e]||s[e])})),t.collection&&(s.collection=t.collection),s.updateEntity(),s):i?{}:(l.ZP.Model.prototype.constructor.apply(this,arguments),this._initModel(t),n&&(n.apply(this,arguments),this.initialize=n),void this.cache.store(this,r))},uninitialize:function(){this.stopListening()},_initModel:function(e){u.Z.shouldCreateStateTree&&this.entityID&&(this.state=this.toState()),this._initRelations(e),this._initDerived(e),this._initState()},_initRelations:function(e){this._relationListeners={};const t=o().extend({},this.sessionRelations,this.syncedRelations);o().each(t,(function(e,t){this._initRelation(e,t);const n=o().bind(this._initRelation,this,e,t);this.on("change:"+t,n)}),this),this.hasInitialRelations=!0,this.set(this._getRelations(this.sessionRelations,this.attributes)),e.parse||this.set(this._getRelations(this.syncedRelations,this.attributes))},_initRelation:function(e,t){const n=this._resolveRelationDefinition(e).relationClass,i=this.get(t),r=this.previous(t),s=i&&i instanceof n;r&&r instanceof n&&o().has(this._relationListeners,t)&&(r.off("all",this._relationListeners[t]),this._relationListeners[t]=null),s&&this._forwardRelationEvents(i,t)},_initDerived:function(){o().each(this.derivedAttrs,this._setDerived,this)},_initState:function(){u.Z.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.updateEntity(),this.on("all",this.onEvent,this))},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},getContextNames:function(){return this.getContext().map(S)},getContext:function(){if(!this.context)return this._context;const e=o().result(this,"context");return this._context.concat(e)},setContext:function(e,t){if(!this.hasContext(e)||this[e]===t)return;const n=this.getContext().find((t=>S(t)===e)),i=Array.isArray(n)&&n[1]&&n[1].boundDerivedAttrs,r=i?[e,...i]:[e];let s;if(this[e]=t,r.forEach((e=>{this.hasDerived(e)&&(s=s||{},s[e]=this.derivedAttrs[e].call(this))})),s&&this.set(s),"parent"===e)return;const a=o().extend({},this.sessionRelations,this.syncedRelations);o().each(a,(function(n,i){const r=this.get(i);r&&r.setContext(e,t)}),this)},getScopedKey:function(e){return null!=e&&o().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},getState:function(){return this._computedEntityID||this.state},updateState:function(){const e=this.state,t=this.getState();this.state=this.toState();const n=this.getState();return n!==t&&this.updateEntity(),this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},updateEntity:function(){this._computedEntityID&&!this.skipCache&&((0,m.Z)(this.entityType,this.name+" requires an `entityType`"),p.Z.trigger("change:entity",{type:this.entityType,id:this._computedEntityID,model:this}))},toState:function(){this.name;const e=Object.keys(this.attributes),t=o().reduce(e,this.reduceState,{possibleEntityContainers:[]},this);return Object.defineProperty(t,"possibleEntityContainers",{enumerable:!1}),this.entityID&&(this._computedEntityID=this.entityID(t)),t},reduceState:function(e,t){const n=this.attributes[t];return n&&n.getState?(e.possibleEntityContainers.push(t),e[t]=n.getState(),e):(n&&n.initialize||(e[t]=n),e)},shouldUpdateRelationState:function(e,t,n){return t!==n},toJSON:function(e={}){this.name;const t=this.syncedAttrs,n=this.sessionRelations,i=this.syncedRelations,s=this.attributes,a={};for(const r in s){const l=e.excluded&&e.excluded.includes(r),c=n&&o().has(n,r),d=i&&o().has(i,r),u=e.syncedOnly&&(!t||!o().has(t,r));l||c||d||u||(a[r]=s[r])}let c=r().extend(!0,{},a);function d(t,n){const i=this.get(n),r=e.excluded&&e.excluded.includes(n);if(i&&!r){let t;t=e.excludeDefaults?i instanceof l.ZP.Collection?i.map((function(t){return g(o().result(t,"defaults"),t.toJSON(e))})):g(o().result(i,"defaults"),i.toJSON(e)):i.toJSON(e),c[n]=t}}return e.excludeDefaults&&(c=g(o().result(this,"defaults"),c)),e.syncedOnly||o().each(n,d,this),o().each(i,d,this),c},clone:function(){const e=o().extend(o().pick(this,this.getContextNames()),{skipCache:!0});return new this.constructor(this.toJSON(),e)||null},copy:function(e){(0,m.Z)(e instanceof this.constructor,"Only a model of the same type may be copied");const t=e.toJSON();return o().extend(t,this._getRelations(this.sessionRelations,t,{parse:!0}),this._getRelations(this.syncedRelations,t,{parse:!0})),this.set(t)},restoreDefaults:function(e){const t={};return o().each(this.attributes,(function(e,n){this.derivedAttrs&&o().has(this.derivedAttrs,n)||(t[n]=void 0)}),this),o().extend(t,this._getRelations(this.sessionRelations,{},{reset:!0}),this._getRelations(this.syncedRelations,{},{reset:!0}),o().result(this,"defaults"),e),this.set(t)},set:function(e,t,n){let i,r;return o().isObject(e)?(i=e,n=t):(i={})[e]=t,n||(n={}),!this.isMergingAttributes&&n.merge&&this.mergeStrategy&&(r=!0,this.isMergingAttributes=!0),this.isMergingAttributes&&(i=this._mergeAttributes(i)),l.ZP.Model.prototype.set.call(this,i,n),r&&(this.isMergingAttributes=!1),this},hasAttr:function(e){const t=this.sessionAttrs&&o().has(this.sessionAttrs,e),n=this.syncedAttrs&&o().has(this.syncedAttrs,e);return!(!t&&!n)},hasRelation:function(e){const t=this.sessionRelations&&o().has(this.sessionRelations,e),n=this.syncedRelations&&o().has(this.syncedRelations,e);return!(!t&&!n)},hasDerived:function(e){return!(!this.derivedAttrs||!o().has(this.derivedAttrs,e))},hasContext:function(e){return this.getContextNames().includes(e)},validate:function(e,t){const n=o().extend({},this.sessionAttrs,this.syncedAttrs,this.sessionRelations,this.syncedRelations),i=this._validateTypes(e,n);return i&&(0,m.Z)(!1,i),i},parse:function(e,t){return t&&t.save&&!this.hasResponseOnSave?this.attributes:(this.name,this.convert(e,t))},parseResponse(e){let t=e;const n=o().result(this,"responseType");let i;return o().isString(t)&&(i=!0,o().isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t)),t=null!=t?t:{},n===h.AV&&t.MediaContainer&&(t=t.MediaContainer),o().isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),i&&this.rootPropertyName&&o().has(t,this.rootPropertyName)&&(t=t[this.rootPropertyName]),Array.isArray(t)&&(t=t[0]),t},convert:function(e,t){const n=this.parseResponse(e),i={};let r;o().each(this.sessionAttrs,(function(e,t){o().has(n,t)&&(i[t]=n[t])})),o().each(this.syncedAttrs,(function(e,t){if(o().has(n,t)){let r,s=e;s.typeName||(s=e.type,r=o().omit(e,"type")),i[t]=null==n[t]?n[t]:s.parse(n[t],r)}else this.has(t)&&(r||(r=o().result(this,"defaults")),i[t]=r&&o().has(r,t)?r[t]:void 0)}),this);const s=o().extend({},t,{parse:!0});return o().extend(i,this._getRelations(this.syncedRelations,n,s)),i},save:function(e,t,n){let i;null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t;const s=o().extend({save:!0},n),a=o().extend(this.getSaveParams(i),s.data);if(o().isEmpty(a))return s.success&&s.success(this),r().Deferred().resolve(this);s.data=a;const c=s.success;return s.success=function(e,t,n){e.cache&&e.cache.store(e),c&&c(e,t,n)},l.ZP.Model.prototype.save.call(this,i,s)},sync:function(e,t,n){const i=n?o().clone(n):{};if("create"===e||"update"===e){const e=i.data,t=i.url||o().result(this,"saveUrl")||o().result(this,"syncUrl")||o().result(this,"url");i.url=b.Z.join(t,e),i.data=""}return l.ZP.Model.prototype.sync.call(this,e,t,i)},getSaveParams:function(e){const t=this._getSaveAttrs(e);return o().reduce(t,(function(e,t,n){const i=t.definition;let r=t.value,s=n;if(!i)return e[s]=r,e;const a=i.relationClass;if(a){const e=a.prototype.model;let t;i.rootPropertyName?t=i.rootPropertyName:r&&r.rootPropertyName?t=r.rootPropertyName:e&&e.prototype&&(t=e.prototype.rootPropertyName),r&&(r=r.getSaveParams()),t&&(s=t)}else{let e,t;o().has(i,"type")?(e=i.type,t=o().omit(i,"type")):e=i,r=e.stringify(r,t)}return e[s]=r,e}),{},this)},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,m.Z)(!1,this.name+" is already capturing events");const e=this.set,t=[],n=o().clone(this.attributes);this.set=function(n,i,r){const s=o().extend({},r,{silent:!0});let a;return"object"==typeof n?(a=n,r=i):(a={})[n]=i,o().each(a,(function(n,i){this.get(i)!==n&&(t.push({key:i,value:n}),e.call(this,i,n,s))}),this),o().each(this._derivedListeners,(function(n){const i=n.key,r=this.derivedAttrs[i].call(this);this.get(i)!==r&&(t.push({key:i,value:r}),e.call(this,i,r,s))}),this),this},this.releaseCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,this._previousAttributes=n,this._changing=!0,o().each(t,(function(e){this.trigger("change:"+e.key,this,e.value)}),this),this._changing=!1,o().isEmpty(t)||this.trigger("change",this,{})},this.discardCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,t.length=0}},spyOnGet:function(e){const t=[],n=this.get;return this.get=function(e){return t.push("change:"+e),this.hasRelation(e)&&t.push("change:"+e+".change"),n.apply(this,arguments)},e.call(this),this.get=n,t},dispatch:function(e){},_mergeAttributes:function(e){const t=this.mergeStrategy;return t?o().reduce(e,(function(e,n,i,r){return e[i]=t(i,this.get(i),n),e}),{},this):e},_resolveRelationDefinition:function(e){return o().isFunction(e)?e.call(this):e},_getRelations:function(e,t,n){t||(t={}),n||(n={});const i={};return o().each(e,(function(e,r){const s=this._resolveRelationDefinition(e),a=s.relationClass;(0,m.Z)(a,this.name+" requires a `relationClass` for the "+r+" relation");let c=r;n.parse&&!o().has(t,r)&&o().has(s,"rootPropertyName")&&(c=s.rootPropertyName);let d=t[c];if(d instanceof a)return void(i[r]=d);if(!d&&s.deferred)return void(i[r]=void 0);let u=n.reset?null:this.get(r),h=u instanceof a;const p=a.prototype instanceof l.ZP.Collection;if(p?d=v.Z.parseArray(d):d||(d={}),h&&!p&&(n.parse&&(d=u.parse(d)),h=u.id===d[u.idAttribute||"id"]),h){u.isMergingAttributes=this.isMergingAttributes;let e=s.setOptions;o().isFunction(e)&&(e=e.call(this,n)),p?u.set(d,o().extend({parse:n.parse,remove:!this.isMergingAttributes},e)):u.set(d,o().extend({merge:!0},e)),u.isMergingAttributes=!1}else{const e={parse:n.parse};if(this.getContextNames().forEach((t=>{e[t]=this[t]})),!p){let e=s.attrs;o().isFunction(e)&&(e=e.call(this,t)),d=o().extend({},d,e)}let i=s.options;o().isFunction(i)&&(i=i.call(this,t)),o().extend(e,{parent:this},i),u=new a(d,e)}i[r]=u}),this),i},_forwardRelationEvents:function(e,t){const n=["sync","request","invalid","error","add","remove"];function i(){const i=arguments[0];if("change"===i)return;if("statechange"===i)return void(this.shouldUpdateRelationState.apply(this,o().rest(arguments,1))&&y.GF(this.updateState,this));const r=o().toArray(arguments);r[0]="change:"+t+"."+i,this.trigger.apply(this,r),o().contains(n,i)||(this.trigger("change:"+t+".change",this,e),this.trigger("change",this))}e.on("all",i,this),this._relationListeners[t]=i},_setDerived:function(e,t){let n;const i=this.spyOnGet((function(){const i=this.set;this.set=function(){(0,m.Z)(!1,this.name+" blocked `set` in the "+t+" attribute. Derived attributes are read-only.")},n=e.call(this),this.set=i}));this.set(t,n),o().each(i,(function(n){this._addDerivedListener(t,n,e)}),this)},_addDerivedListener:function(e,t,n){this._derivedListeners||(this._derivedListeners=[]);const i={key:e,name:t,callback:o().bind(this._setDerived,this,n,e)};o().findWhere(this._derivedListeners,{key:e,name:i.name})||(this._derivedListeners.push(i),this.on(i.name,i.callback))},_getSaveAttrs:function(e){let t;if(e)t=o().reduce(e,(function(e,t,n){return e[n]={definition:this.syncedAttrs[n],value:t},e}),{},this);else{const e=o().extend({},this.syncedAttrs,this.syncedRelations);t=o().reduce(e,(function(e,t,n){const i=this._resolveRelationDefinition(t);let r=i.save;return o().isFunction(r)&&(r=r.call(this)),r&&(e[n]={definition:i,value:this.get(n)}),e}),{},this)}return t},_validateTypes:function(e,t){const n=Object.keys(e),i=o().reduce(n,(function(n,i){if(this.hasDerived(i))return n;if(!o().has(t,i))return n.push(this.name+" received an unknown attribute: "+i+". All attributes must be defined in `sessionAttrs`, `syncedAttrs`, `sessionRelations`, or `syncedRelations`."),n;const r=e[i],s=this._resolveRelationDefinition(t[i]),a=s.relationClass;let c;c=a?this.hasInitialRelations?d.Z.instanceOf(a):a.prototype instanceof l.ZP.Collection?d.Z.oneOfType(d.Z.array,d.Z.object):d.Z.object:s.type?s.type:s;const u=c.validate;return u?u(r)||n.push(i+" of type "+c.typeName+" has an invalid value: "+JSON.stringify(r)):n.push(i+" has an unknown type. Specify the type in the attribute definition or use attrTypes.any as a wildcard type."),n}),[],this);if(i.length>0)return i.join("\n")},onEvent:function(e,t,n){if(!t)return void f.Z.warn("Unable to handle",e);const i=e.match(Z);if(!i)return;const r=i[1];t.get(r)!==this.state[r]&&(n&&n.updateEntity&&n.updateEntity(),y.GF(this.updateState,this))}})},30944:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(94566),l=n(63663),c=n(76580),d=n(60964),u=n(71065);const h=a.ZP.Collection.extend({mixins:[l.Z],cache:new c.Z,constructor:function(e,t){if(t||(t={}),this.server=t.server,this.section=t.section,this.channel=t.channel,this.device=t.device,this.parent=t.parent,this.allowInCache=t.allowInCache,this.persistInCache=t.persistInCache,this.skipCache=t.skipCache,t.url&&(this.url=t.url),t.path&&(this.path=t.path),null==t.pageStart&&null==t.pageSize||(this.pageStart=t.pageStart||0,this.pageSize=t.pageSize||0),t.populated&&this.resetPopulatePromise(r().Deferred().resolve().promise()),!t.allowInCache&&!t.persistInCache)return void a.ZP.Collection.prototype.constructor.apply(this,arguments);this.initialize.apply(this,arguments);const n=this.cache.getItemCacheKey(this);let i=this.cache.get(n);if(this.uninitialize(),t.onlyIfCached&&(i||(i={})),i)return i;a.ZP.Collection.prototype.constructor.apply(this,arguments),this.cache.store(this,n)},uninitialize:function(){this.stopListening()},sync:function(){return(this.allowInCache||this.persistInCache)&&this.cache.store(this),a.ZP.sync.apply(this,arguments)},syncUrl:function(){let e="";if(this.url&&(e=o().result(this,"url")),this.path&&(e=u.Z.join([e,o().result(this,"path")])),null!=this.pageStart||null!=this.pageSize){const t=this.pageStart||0,n=this.pageSize||0,i={};i["X-Plex-Container-Start"]=t,i["X-Plex-Container-Size"]=n,e=u.Z.join(e,i)}return e},convert:function(e,t){const n=o().isObject(e)?e:d.Z.parseXML(e);if(!t)return n;let i=n[t];return i?(Array.isArray(i)||(i=[i]),i):[]},clone:function(e){const t={server:this.server,section:this.section,parent:this.parent,url:this.url};return e||(e=this.models),new this.constructor(e,t)},cloneDeep:function(e){return e||(e=this.map((function(e){return e.clone()}))),this.clone(e)},clear:function(e){e=o().extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)}});h.extend=function(){const e=a.ZP.Collection.extend.apply(this,arguments);return e.prototype.cache=new c.Z,e};const p=h},68918:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(94566),l=n(63663),c=n(48497),d=n(14710),u=n(60964),h=n(71065);const p=a.ZP.Model.extend({mixins:[l.Z],cache:new c.Z,constructor:function(e,t){e||(e={}),t||(t={}),this.server=this.findOption(t,"server"),this.section=this.findOption(t,"section"),this.channel=this.findOption(t,"channel"),this.device=this.findOption(t,"device"),this.parent=this.findOption(t,"parent");const n=this.findOption(t,"skipCache");if(n)return void a.ZP.Model.prototype.constructor.apply(this,arguments);const i=this.cache.getItemCacheKey(this,e),r=this.cache.get(i);if(r)return t.parse&&(e=r.parse(e)),this.preserveCachedAttributes&&this.preserveCachedAttributes(t.url)?o().each(e,(function(e,t){o().isUndefined(r.get(t))&&!o().isUndefined(e)&&r.set(t,e)})):r.set(e),r.server=this.server||r.server,r.section=this.section||r.section,r.channel=this.channel||r.channel,r.device=this.device||r.device,r.parent=this.parent||r.parent,t.collection&&(r.collection=t.collection),r;const s=this.findOption(t,"onlyIfCached");if(s)return{};a.ZP.Model.prototype.constructor.apply(this,arguments),this.cache.store(this,i)},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},clone:function(){const e={server:this.server,section:this.section,channel:this.channel,parent:this.parent,skipCache:!0};return new this.constructor(this.attributes,e)||null},convert:function(e){return o().isObject(e)?e:u.Z.parseXML(e)},parse:function(e,t){let n=this.convert(e);return this.whitelistedAttrs&&(n=o().pick(n,this.whitelistedAttrs)),n},save:function(e,t,n){let i,s;const l=this.attributes;null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=o().extend({validate:!0},n);const c=this.getSaveParams(i,n);if(o().extend(c,n.data),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;if(i&&n.wait&&(this.attributes=o().extend({},l,i)),o().isEmpty(c)&&!n.force)return n.success&&n.success(this),r().Deferred().resolve(this);void 0===n.parse&&(n.parse=!0);const d=this,u=n.success;n.success=function(e){if(d.attributes=l,e){let t=d.parse(e,n);if(n.wait&&(t=o().extend(i||{},t)),o().isObject(t)&&!d.set(t,n))return!1;d.cache.store(d)}u&&u(d,e,n),d.trigger("sync",d,e,n)},a.ZP.wrapError(this,n),s=this.isNew()?"create":n.patch?"patch":"update","patch"===s&&(n.attrs=i);const p=o().result(this,"saveUrl")||o().result(this,"url");o().isEmpty(c)||(n.url=h.Z.join(p,c)),n.data="";const g=this.sync(s,this,n);return i&&n.wait&&(this.attributes=l),g},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}},getScopedKey:function(e){return null!=e&&o().isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},restoreDefaults:function(e){const t=o().result(this,"defaults");if(!t)return this.clear(e);const n=this.attributes;let i;for(i in n)i in t||this.unset(i,e);return this.set(t,e),this},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)return void(0,d.Z)(!1,"This model is already capturing events");const e=this.set;let t={};this.set=function(n,i,r){let s;"object"==typeof n?(s=n,r=i):(s={})[n]=i;const a=o().extend({},r,{silent:!0}),l=e.call(this,s,a);return o().extend(t,this.changed),l},this.releaseCapturedChangeEvents=function(){o().each(t,(function(e,t){this.trigger("change:"+t,this,e)}),this),o().isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}});p.extend=function(){const e=a.ZP.Model.extend.apply(this,arguments);return e.prototype.cache=new c.Z,e};const g=p},3305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(80731),r=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&l(e,n,t[n]);return e};function d(e,t){return i.Z.shouldCreateFlexModels&&(e.prototype.sessionRelations=c(c({},e.prototype.sessionRelations),{desktop:t})),e}},88019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(13469),r=n.n(i),s=n(2932),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};const h=["boolean","integer","float","string","object","array"];function p(e){return!0}function g(e){return r().isObject(e)&&!Array.isArray(e)}function m(e,t){t||(t={});const n=r().defaults(t,{typeName:e,parse:r().bind(s.Z.parseType,s.Z,e),stringify:r().bind(s.Z.stringifyType,s.Z,e)});var i;return n.validate=t.validate?(i=t.validate,function(e){return null==e||i(e)}):p,n.isRequired=u(u({},n),{validate:e=>null!=e&&n.validate(e),typeName:`${n.typeName}<required>`}),n}const f={any:m("any"),boolean:m("boolean",{validate:r().isBoolean}),integer:m("integer",{validate:Number.isInteger}),float:m("float",{validate:r().isNumber}),string:m("string",{validate:r().isString}),object:m("object",{validate:g}),array:m("array",{validate:Array.isArray}),list:m("list",{validate:Array.isArray}),encodedString:m("encodedString",{validate:r().isString}),queryString:m("queryString",{validate:g}),instanceOf:function(){const e=r().toArray(arguments);return m("instanceOf",{validate:function(t){return r().some(e,(function(e){return t instanceof e}))}})},oneOf:function(){const e=r().toArray(arguments);return m("oneOf",{validate:function(t){return r().contains(e,t)}})},oneOfType:function(){const e=r().toArray(arguments);return m("oneOfType",{validate:function(t){return r().some(e,(function(e){return e.validate(t)}))}})},custom:function(e){return m("custom",{validate:e})},getAttrTypeFor:function(e){if(null==e)return f.any;for(let t=0,n=h.length;t<n;t++){const n=f[h[t]];if(n.validate(e))return n}return f.any}},v=f},80731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=Object.defineProperty,r=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,a=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&a(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&a(e,n,t[n]);return e};const c=l(l({allowFlash:!1,testPrivateConnectionsWhenPublicAddressDoesNotMatch:!0,allowHttpsMediaServerConnections:!1,allowMediaServerRelayConnections:!1,allowLoopbackDiscovery:!1,allowIPv6ServerConnections:!1,allowSSO:!1,allowMixedContent:!1,allowBaseImagePreloading:!0,allowBaseImageBlobs:!0,heartbeatInterval:1e4,allowManualServers:!1,allowMobileServers:!1,allowMultiTrackAudio:!1,maximumConcurrentConnectionTests:5,shouldCreateFlexModels:!1,shouldCreateStateTree:!1,requiresSignIn:!0,requiresPlexPass:!1,myPlexAccessToken:null,primaryServer:null,shouldCreateNewSessionWhenSeekingLiveTV:!1,shouldPreferInsecureLocalConnections:!1,shouldRequestHTMLFromCloudProvider:!1,allowLiveTVPlayback:!0,seekDebounceMilliseconds:null,allowSyncSettings:!1,allowAdsOverMedia:!0},n(42839).Z),window.PLEXWEB),d=Object.freeze(c)},90126:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(22618),r=n(88019),s=n(87023),o=n(71065),a=n(49788);const l=i.Z.extend({name:"FileModel",idAttribute:"key",rootPropertyName:"File",syncedAttrs:{key:r.Z.string,title:r.Z.string,path:r.Z.string,network:r.Z.boolean}}),c=a.Z.extend({name:"FileCollection",model:l}),d=i.Z.extend({name:"FilePathModel",context:["server","includeFiles"],idAttribute:"key",rootPropertyName:"Path",sessionAttrs:{isBackShortcut:r.Z.boolean},sessionRelations:{children:function(){const e={};return this.includeFiles&&(e.includeFiles=1),{relationClass:n(90126).Z,options:{url:o.Z.join([this.id],e)}}}},syncedAttrs:{key:r.Z.string,title:r.Z.string,path:r.Z.string,home:r.Z.boolean,network:r.Z.boolean}}),u=a.Z.extend({name:"FilePathCollection",context:["server","includeFiles"],model:d,url(){const e={};return this.includeFiles&&(e.includeFiles=1),o.Z.join(["/services/browse"],e)}}),h=i.Z.extend({name:"FilePathListModel",responseType:s.AV,context:["server","includeFiles","url"],url(){const e={};return this.includeFiles&&(e.includeFiles=1),o.Z.join(["/services/browse"],e)},sessionAttrs:{truncatedFilesCount:r.Z.integer},syncedRelations:{paths:{relationClass:u,rootPropertyName:"Path"},files:{relationClass:c,rootPropertyName:"File"}},augmentResponse:e=>(e.File&&(e.truncatedFilesCount=Math.max(0,e.File.length-500),e.File=e.File.slice(0,500)),e)})},86512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(30944),r=n(19755),s=n.n(r),o=n(13469),a=n.n(o),l=n(68918),c=n(29261),d=n(21451),u=n(60964),h=n(71065);const p=l.Z.extend({idAttribute:"ratingKey",whitelistedAttrs:["guid","addedAt","composite","duration","key","leafCount","playlistType","ratingKey","smart","summary","title","type","allowSync"],defaults:function(){return{children:new c.Z([],{server:this.server,parent:this,url:function(){const e="/playlists/"+this.parent.id+"/items";let t;return"audio"===this.parent.get("playlistType")&&(t={includeRelated:1}),h.Z.join(e,t)}})}},urlRoot:"/playlists",saveUrl:function(){return"/library/metadata/"+this.id},cacheKey:function(e){if(e.key)return this.server&&this.server.getScopedKey(e.key)},initialize:function(){this.listenToOnce(this.get("children"),"add",(function(e){this.set("art",e.get("art"))}))},parse:function(e){let t=this.convert(e);return t.Playlist&&(t=t.Playlist),u.Z.parseInteger(t,["duration","leafCount","addedAt"]),u.Z.parseBoolean(t,["smart","allowSync"]),t.isPlaylist=!0,t},findItem:function(e){return this.get("children").findWhere({playlistItemID:e})},moveItem:function(e,t){const n=t?{after:t}:{},i=h.Z.join([a().result(this,"url"),"/items/",e,"/move"],n),r=a().extend(this.server.getXHROptions(i),{type:"PUT"}),o=s().ajax(r),l=this.get("children"),c=this.findItem(e);l.remove(c);const d=this.findItem(t),u=d?l.indexOf(d)+1:0;return l.add(c,{at:u}),o},removeItem:function(e){e=e.toString();const t=h.Z.join([a().result(this,"url"),"/items/",e]),n=a().extend(this.server.getXHROptions(t),{type:"DELETE"}),i=s().ajax(n);i.then(a().bind((function(e){this.set(this.parse(e))}),this));const r=this.get("children"),o=this.findItem(e);return r.remove(o),i},addContent:function(e,t){const n=this.isNew()?"POST":"PUT",i=[a().result(this,"url")],r={};this.isNew()?(r.type=this.get("playlistType"),r.title=this.get("title"),r.smart=this.get("smart")?1:0):i.push("/items"),e.get("playQueueID")?r.playQueueID=e.get("playQueueID"):r.uri=d.Z.uri(e,t);const o=h.Z.join(i,r),l=a().extend(e.server.getXHROptions(o),{type:n}),c=s().ajax(l);return c.then(a().bind((function(e){this.set(this.parse(e))}),this)),c.promise()},isLibraryItem:function(){return!0},isPlexMusicItem:function(){return!1}});var g=n(49788),m=n(96576),f=n(57840);const v=g.Z.extend({name:"VersionGeneratorCollection",context:["server"],model:m.Z,url(){return h.Z.join(["playlists",this.parent.id,"items"],{type:f.Z.LOCAL})}}),y=p.extend({defaults:function(){return{children:new v([],{server:this.server,parent:this})}},findItem:function(e){return this.get("children").get(e)},addContent:function(e){const t=[a().result(this,"url"),"items",e.id],n=h.Z.join(t,e.getSaveParams()),i=a().extend(e.server.getXHROptions(n),{type:"PUT"}),r=s().ajax(i);return r.then(a().bind((function(e){this.set(this.parse(e))}),this)),r.promise()}}),b=i.Z.extend({model:y,url:"/playlists?type="+f.Z.LOCAL,parse:function(e){return this.convert(e,"Playlist")}})},87157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var i=n(30944),r=n(19755),s=n.n(r),o=n(13469),a=n.n(o),l=n(68918),c=n(49788),d=n(22618),u=n(88019),h=n(97454),p=n(75050);const g={exclusiveBoolAttr(e){this.listenTo(this,"change:"+e,((t,n)=>{n&&this.each((i=>{i.set(e,i===t&&n)}))}))}};var m=n(77982),f=n(87023),v=n(71065);const y=d.Z.extend({name:"LyricsSpanModel",context:["server","section"],sessionAttrs:{active:u.Z.boolean},syncedAttrs:{startOffset:u.Z.integer,endOffset:u.Z.integer,text:u.Z.string},defaults:{startOffset:-1,endOffset:-1},isPositionWithin(e){const t=this.get("startOffset"),n=this.get("endOffset");return-1!==t&&(e>=t&&(e<=n||-1===n))}}),b=c.Z.extend({name:"LyricsSpanCollection",context:["server","section"],model:y}),Z=d.Z.extend({name:"LyricsLineModel",context:["server","section"],syncedAttrs:{startOffset:u.Z.integer,endOffset:u.Z.integer},syncedRelations:{spans:{relationClass:b,rootPropertyName:"Span"}},defaults:{startOffset:-1,endOffset:-1}}),S=c.Z.extend({name:"LyricsLineCollection",context:["server","section"],model:Z,eachSpan(e){this.each((t=>{t.get("spans").each(e)}))}}),w=d.Z.extend({name:"LyricsStreamModel",context:["server","provider","section"],responseType(){var e;return(null==(e=this.server)?void 0:e.get("isCloud"))?f.AV:f.Ls},rootPropertyName:"Lyrics",mergeStrategy:m.Z,url(){var e;return(null==(e=this.server)?void 0:e.get("isCloud"))?this.get("key"):v.Z.join(this.get("key"),{format:"xml"})},sessionAttrs:{follow:u.Z.boolean,lyricsError:u.Z.object},syncedAttrs:{id:u.Z.string,key:u.Z.string,streamType:u.Z.integer,index:u.Z.integer,title:u.Z.string,selected:u.Z.boolean,codec:u.Z.string,provider:u.Z.string,format:u.Z.string,minLines:u.Z.integer,timed:u.Z.boolean},syncedRelations:{lines:{relationClass:S,rootPropertyName:"Line"}},defaults:{follow:!0,selected:!1,lyricsError:null}}),P=c.Z.extend({mixins:[g],name:"LyricsStreamCollection",context:["server","provider","section"],model:w,initialize(){this.exclusiveBoolAttr("selected")}});var C=n(48497),x=n(2932),A=n(4120),E=n(89703),I=n(44333);const k=d.Z.extend({name:"PlayQueueItemModel",context:["server","provider"],syncedAttrs:{internal:u.Z.boolean,url:u.Z.string}}),T=d.Z.extend({name:"PlayQueueItemModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],entityType:E.PLAY_QUEUE_ITEM,entityID(e=this.state){return(0,A.Z)(this.entityType,e.playQueueItemID,this.server.entityID())},idAttribute:"playQueueItemID",cache:new C.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.playQueueItemID)},sessionAttrs:{isPlayQueueItem:u.Z.boolean,isLocal:u.Z.boolean},syncedAttrs:{playQueueItemID:u.Z.string,queueIndex:u.Z.integer,key:u.Z.string,ratingKey:u.Z.string,type:u.Z.string,subtype:u.Z.string,advertisement:u.Z.boolean,allowSkipAfter:u.Z.integer,librarySectionID:u.Z.string,hasPremiumLyrics:u.Z.boolean,displayPostplay:u.Z.boolean,syncItemId:u.Z.integer,generatorID:u.Z.integer,generatorType:u.Z.integer,clientIdentifier:u.Z.string,target:u.Z.string},syncedRelations:{metadataItem:{relationClass:p.Z,deferred:!0},lyricsStreams:{relationClass:P,deferred:!0},vast:{relationClass:k,deferred:!0}},sessionRelations:{postPlay:{relationClass:h.Z,options(){return{url:`hubs/metadata/${this.get("metadataItem").id}/postplay`}}}},defaults:{isPlayQueueItem:!0,isLocal:!1},augmentResponse(e){const t=a().pick(e,Object.keys(this.syncedAttrs));e.Ad&&(Array.isArray(e.Ad)&&(e.Ad=e.Ad[0]),t.vast=e.Ad),t.metadataItem=e;const n=a().first(x.Z.parseArray(e.Media));if(n){const e=a().first(x.Z.parseArray(n.Part));if(e){const n=x.Z.parseArray(e.Stream);if(n){const e=I.Z.get("lyrics");t.lyricsStreams=a().filter(n,(t=>x.Z.parseInteger(t.streamType)===e.id))}}}return t}}),O=c.Z.extend({name:"PlayQueueItemCollection",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],model:T});var M=n(82590),R=n(60964);const D=l.Z.extend({idAttribute:"playQueueID",whitelistedAttrs:["playQueueID","playQueueSelectedItemID","playQueueSelectedItemOffset","playQueueSelectedMetadataItemID","playQueueLastAddedItemID","playQueueShuffled","playQueueSourceURI","playQueueTotalCount","playQueueVersion","message"],defaults:{selectedItem:null,mediaType:null,owned:!0,hasUserAdditions:!1,playQueueVersion:0},metadataElementNames:["Directory","Video","Track","Photo","Hub"],url:function(){return"/playQueues/"+this.id},initialize:function(){this.listenTo(this,"change:message",this.onMessageChange)},_fetch:function(){const e=a().result(this,"url");return this._ajax("GET",e)},convert:function(e){const t=a().isObject(e)?e:R.Z.parseXML(e);return R.Z.parseBoolean(t,"playQueueShuffled"),R.Z.parseInteger(t,["playQueueSelectedItemOffset","playQueueTotalCount","playQueueVersion"]),R.Z.parseArray(t,"Metadata"),t},parse:function(e){a().isString(e)&&(e=R.Z.replaceXMLElementNames(e,this.metadataElementNames,"Metadata"));const t=this.convert(e);t.id&&(t.playQueueID=t.id);const n=a().pick(t,this.whitelistedAttrs);return this.set(n,{silent:!0}),this.pendingChanges=this.changed,this.parseItems(t),n},parseItems:function(e){let t=this.get("collection");const n=e.Metadata,i=!!n.length,r=a().pluck(n,"playQueueItemID").indexOf(e.playQueueSelectedItemID),s=e.playQueueSelectedItemOffset-r;a().each(n,(function(t,n){t.queueIndex=s+n,e.identifier&&(t.identifier=e.identifier),e.mediaTagPrefix&&(t.mediaTagPrefix=e.mediaTagPrefix),e.mediaTagVersion&&(t.mediaTagVersion=e.mediaTagVersion)})),t?t.set(n,{parse:i}):(t=new O(n,{server:this.server,parent:this,parse:i}),this.set("collection",t)),t.totalSize=e.playQueueTotalCount,t.availableRange={start:s,end:s+t.length}},moveItem:function(e,t){if(e===this.get("playQueueSelectedItemID"))return s().Deferred().resolve().promise();this.set("hasUserAdditions",!0);const n={after:t||-1},i=v.Z.join([a().result(this,"url"),"/items/",e,"/move"],n);return this._ajax("PUT",i)},getUpNextRange:function(){const e=this.get("collection"),t=e.get(this.get("playQueueSelectedItemID")),n=e.indexOf(t),i=Math.max(n,0);let r=i;const s=this.get("playQueueLastAddedItemID");if(null!=s){const t=e.get(s),n=e.indexOf(t);n>i&&(r=n)}return{start:i,end:r}},getCurrentItem:function(){const e=this.get("playQueueSelectedItemID");return this.get("collection").findWhere({playQueueItemID:e})||null},_ajax:function(e,t){const n=a().extend(this.server.getXHROptions(t),{type:e}),i=s().ajax(n);return i.done(a().bind((function(e){this.set(this.parse(e)),a().isEmpty(this.pendingChanges)||(a().each(this.pendingChanges,(function(e,t){this.trigger("change:"+t,this,e)}),this),this.trigger("change",this),this.pendingChanges=null),this.set("selectedItem",this.getCurrentItem())}),this)),i.promise()},onMessageChange:function(e,t){t&&M.Z.trigger("show:alert",{type:"error",message:t})}});var _=n(57840);const V=i.Z.extend({model:D,url:"/playQueues?type="+_.Z.LOCAL,parse:function(e){return this.convert(e,"PlayQueue")}})},96576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var i=n(22618),r=n(88019),s=n(48497),o=n(94377);const a=i.Z.extend({name:"VersionGeneratorMediaSettingsModel",context:["server"],syncedAttrs:{videoQuality:{type:r.Z.integer,save:!0},videoResolution:{type:r.Z.string,save:!0},maxVideoBitrate:{type:r.Z.integer,save:!0},audioBoost:{type:r.Z.integer,save:!0},subtitleSize:{type:r.Z.integer,save:!0},musicBitrate:{type:r.Z.integer,save:!0},photoQuality:{type:r.Z.integer,save:!0},photoResolution:{type:r.Z.string,save:!0}}});var l=n(13469),c=n.n(l),d=n(34777),u=n(87023),h=n(61194),p=n(71065),g=n(49788),m=n(75050);const f=i.Z.extend({name:"VersionGeneratorMetadataModel",context:["server","generator"],idAttribute:"ratingKey",syncedAttrs:c().extend({},m.Z.prototype.syncedAttrs,{processingState:r.Z.string,processingStateContext:r.Z.string})}),v=g.Z.extend({name:"VersionGeneratorMetadataCollection",context:["server","generator"],model:f}),y=i.Z.extend({mixins:[d.Z],name:"VersionGeneratorMetadataListModel",context:["server","generator"],collectionName:"metadataItems",url(){const e=p.Z.join([c().result(this.generator,"url"),"items"]);return this.getPaginatedUrl(e)},sessionAttrs:{currentPageStart:r.Z.integer,currentPageSize:r.Z.integer,populatedRange:r.Z.object},syncedAttrs:{totalSize:r.Z.integer,identifier:r.Z.string,mediaTagPrefix:r.Z.string,mediaTagVersion:r.Z.string,viewGroup:r.Z.string,title:r.Z.string},syncedRelations:{metadataItems:{relationClass:v,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===u.Ls?(0,h.Z)(e):e}),b=i.Z.extend({name:"VersionGeneratorPolicyModel",context:["server"],syncedAttrs:{scope:{type:r.Z.string,save:!0},value:{type:r.Z.integer,save:!0},unwatched:{type:r.Z.boolean,save:!0}},defaults:{unwatched:!1}}),Z=i.Z.extend({name:"VersionGeneratorStatusModel",context:["server"],syncedAttrs:{state:r.Z.string,failureCode:r.Z.string,failure:r.Z.string,itemsCount:r.Z.integer,itemsCompleteCount:r.Z.integer,itemsSuccessfulCount:r.Z.integer,itemsFailedCount:r.Z.integer,itemsDisabledCount:r.Z.integer,totalSize:r.Z.integer}}),S=i.Z.extend({name:"VersionGeneratorModel",context:["server","section","playlistID"],rootPropertyName:"Item",cache:new s.Z,cacheKey(e){return this.server&&this.server.getScopedKey(e.id)},urlRoot(){return`/playlists/${this.playlistID||this.parent.id}/items`},syncedAttrs:{id:r.Z.integer,clientIdentifier:r.Z.string,contentType:r.Z.string,composite:r.Z.string,type:{type:r.Z.integer,save:!0},title:{type:r.Z.string,save:!0},target:{type:r.Z.string,save:!0},targetTagID:{type:r.Z.integer,save:!0},locationID:{type:r.Z.integer,save:!0},Location:{type:r.Z.object,save:!0},Device:{type:r.Z.object,save:!0}},sessionRelations:{children:{relationClass:y,options(){return{generator:this}}}},syncedRelations:{status:{relationClass:Z,rootPropertyName:"Status"},policy:{relationClass:b,rootPropertyName:"Policy",save:!0},mediaSettings:{relationClass:a,rootPropertyName:"MediaSettings",save:!0}},derivedAttrs:{isDirectory(){const e=this.get("Location");if(e.uri)return/(playlist:\/\/|library:\/\/([\w-]*)\/directory\/)/.test(e.uri)}},defaults:()=>({type:42,locationID:-1,Location:{},Device:{}}),defaultCounts:{[o.pX]:5,[o.j0]:50,[o.pV]:50},warningCounts:{[o.pX]:10,[o.j0]:100,[o.pV]:100},getSaveParams(e,t){const n=i.Z.prototype.getSaveParams.apply(this,arguments);return n.targetTagID&&(delete n.MediaSettings,delete n.Device),{Item:n}},setPolicyDefaultsFor(e){const t=this.get("policy"),n=this.get("isDirectory");return t.has("scope")||t.set("scope",n?"count":"all"),!t.has("value")&&n&&t.set("value",this.defaultCounts[e]),this},shouldShowPolicyWarning(e,t){const n=this.get("policy").get("scope");return"count"===n?t>this.warningCounts[e]:"all"===n&&this.get("isDirectory")}})},96551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(13469),r=n.n(i),s=n(49788),o=n(71065),a=n(22618),l=n(88019),c=n(8504);const d=a.Z.extend({name:"FilterModel",context:["server","section","type","standalone"],idAttribute:"filter",rootPropertyName:"Directory",defaults:{advanced:!1},syncedAttrs:{filter:l.Z.string,filterType:l.Z.string,type:l.Z.string,key:l.Z.string,title:l.Z.string,advanced:l.Z.boolean},syncedRelations:{options:{relationClass:c.Z}}}),u=s.Z.extend({name:"FilterCollection",context:["server","section","includeAdvanced"],model:d,comparator:"filterType",includeAdvanced:!0,url(){const e=r().result(this.section,"url"),t=this.section.get("currentType"),n={includeAdvanced:this.includeAdvanced?1:0};return t&&(n.type=t.id),o.Z.join([e,"/filters"],n)},findUnwatchedFilter(){return this.get("unwatched")||this.get("unwatchedLeaves")}})},8504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),r=n.n(i),s=n(49788),o=n(71065),a=n(22618),l=n(88019);const c=a.Z.extend({name:"FilterOptionModel",context:["server","section","type","standalone"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:l.Z.encodedString,type:l.Z.string,field:l.Z.string,value:l.Z.string,title:l.Z.string},augmentResponse:e=>(e.fastKey?(e.value=e.key,e.key=e.fastKey,e.field=e.type,delete e.type,delete e.fastKey):e.fastKey||e.value||(e.value=e.key),e)}),d=s.Z.extend({name:"FilterOptionCollection",context:["server","provider","section","type","standalone","includeExternalMedia"],model:c,url(){let e;this.type?e={type:this.type}:this.standalone||(e=this.getUrlParams());const t=r().result(this.section,"url");return o.Z.join([t,this.parent.id],e)},getUrlParams(){const e={},t=[],n=this.section.get("currentType"),i=this.section.get("currentFilters");return n&&(e.type=n.id),r().each(i,(t=>{t.key!==this.parent.id&&t.values.length&&(e[t.key]=t.values.join(","))})),r().each(e,((e,n)=>{"unviewedLeafCount"===n?t.push(`${n}>=${e}`):t.push(`${n}=${e}`)})),t.join("&")},augmentResponse:e=>(e.Directory&&!Array.isArray(e.Directory)&&(e.Directory=[e.Directory]),e.Directory=r().filter(e.Directory,(e=>e.title)),e),search(e){const t=this.filter((t=>t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1));return this.clone(t)}})},94928:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(49788),r=n(91487),s=n(51394);const o=i.Z.extend({name:"SectionCollection",context:["server"],model:s.Z,url:"/library/sections",responseType(){return(0,r.Z)(this.server)}})},51394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var i=n(13469),r=n.n(i),s=n(22618),o=n(88019),a=n(68339),l=n(50958),c=n(71065),d=n(42751);const u={unviewedLeafCount:">="},h=d.Z.extend({name:"SectionMetadataListModel",context:["server","section","identifier","mediaTagPrefix","mediaTagVersion","allowSync"],url(){let e,t,n=[];const i=this.section.get("currentFolderKey");if(i)n.push(i);else if(n.push(r().result(this.section,"url")),e=this.section.get("currentSubset").id,this.section.get("allowAdvancedFilters"))"recentlyAdded"!==e&&"newest"!==e||(e="all"),n.push(e),t=this.getParams();else{const t=this.section.get("currentFilters");t.length?n=[t[0].values[0]]:n.push(e)}let s=c.Z.join(n,t);return s=this.replaceSpecialFilterOperators(s),this.set("containerKey",s),this.server.get("isFullServer")?this.getPaginatedUrl(s):s},getParams(){const e=this.getFilterParams(),t=this.getMetadataTypeID(),n=this.getSort();return t&&t!==(0,l.nW)("photo").id&&(e.type=t),n&&(e.sort=n),this.section.get("refreshing")&&this.server.supports("timelineState")&&(e.timelineState=1),e},getFilterParams(){const e=this.section.get("currentFilters"),t={};return r().each(e,(e=>{e.values.length&&(t[e.key]=e.values.map(decodeURIComponent).join(","))})),t},getMetadataTypeID(){const e=this.section.get("currentSubset").id;let t=this.section.get("currentType").id||(0,l.nW)(this.section.get("type")).id;return/^(onDeck|recentlyAdded|recentlyViewed|newest)$/.test(e)?t===(0,l.nW)("show").id||t===(0,l.nW)("season").id?t=(0,l.nW)("episode").id:t!==(0,l.nW)("artist").id&&t!==(0,l.nW)("track").id||(t=(0,l.nW)("album").id):/^recentlyViewedShows$/.test(e)&&(t=(0,l.nW)("show").id),t},getSort(){const e=this.section.get("currentSort"),t=this.section.get("currentSubset").id;return"recentlyAdded"===t?"addedAt:desc":"newest"===t?"originallyAvailableAt:desc":e?(e.get("direction")||e.get("defaultDirection"))===a.Z.directions.DESCENDING?e.get("descKey"):e.get("key"):void 0},replaceSpecialFilterOperators:e=>(r().each(u,((t,n)=>{e=e.replace(n+"=",n+t)})),e)});var p=n(2608),g=n(48497),m=n(4120),f=n(89703),v=n(10123),y=n(21235);const b=(0,n(81191).Z)(["key"],[{key:"all",title:()=>(0,y.Z)("All")},{key:"unwatched",title:()=>(0,y.Z)("Unplayed")},{key:"newest",title:()=>(0,y.Z)("Recently Released")},{key:"recentlyAdded",title:()=>(0,y.Z)("Recently Added")},{key:"recentlyViewed",title:()=>(0,y.Z)("Recently Viewed")},{key:"recentlyViewedShows",title:()=>(0,y.Z)("Recently Viewed Shows")},{key:"onDeck",title:()=>(0,y.Z)("On Deck")},{key:"folder",title:()=>(0,y.Z)("By Folder")}]);var Z=n(96551),S=n(49788),w=n(91487);const P=s.Z.extend({name:"FirstCharacterModel",context:["server","provider","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:o.Z.string,title:o.Z.string,size:o.Z.integer},urlRoot(){return`/library/sections/${this.section.id}/firstCharacter`}}),C=S.Z.extend({name:"FirstCharacterCollection",context:["server","provider","section"],model:P,responseType(){return(0,w.Z)(this.server)},url(){const e=r().result(this.section,"url")+"/firstCharacter",t=this.getUrlParams();return t?e+"?"+t:e},getUrlParams(){const e={},t=[],n=this.section.get("currentType");n&&(e.type=n.id);const i=this.section.get("currentFilters");return r().each(i,(t=>{t.values.length&&(e[t.key]=t.values.join(","))})),r().each(e,((n,i)=>{"unviewedLeafCount"===i?t.push(`${i}>=${e[i]}`):t.push(`${i}=${e[i]}`)})),t.join("&")}});var x=n(8504);const A=s.Z.extend({name:"LinearFilterModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{secondary:o.Z.boolean,key:o.Z.string,title:o.Z.string},syncedRelations:{options:{relationClass:x.Z}},defaults:{secondary:!1}}),E=S.Z.extend({name:"LinearFilterCollection",context:["server","section"],model:A,url(){return r().result(this.section,"url")},filterBySecondary(){const e=this.filter((e=>e.get("secondary")));return this.clone(e)}}),I=s.Z.extend({name:"LocationModel",context:["server","section"],rootPropertyName:"Location",syncedAttrs:{id:o.Z.integer,path:{type:o.Z.string,save:!0}}}),k=S.Z.extend({name:"LocationCollection",context:["server","section"],model:I}),T=s.Z.extend({name:"MediaTypeModel",context:["server","section"],sessionAttrs:{id:o.Z.integer,typeString:o.Z.string,title:o.Z.string,plural:o.Z.string,mediaType:o.Z.string,child:o.Z.string,parent:o.Z.string,selected:o.Z.boolean},defaults:{selected:!1}}),O=S.Z.extend({name:"MediaTypeCollection",context:["server","section"],model:T}),M=["all","recentlyAdded","recentlyViewed","recentlyViewedShows","onDeck","newest","folder"],R=s.Z.extend({name:"SectionSubsetModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:o.Z.boolean},syncedAttrs:{key:o.Z.string,title:o.Z.string,secondary:o.Z.boolean},derivedAttrs:{primary(){return!this.get("secondary")&&r().contains(M,this.get("key"))}},defaults:{selected:!1},augmentResponse:e=>("all"===e.key&&(e.title=(0,y.Z)("All")),e)},{whitelistedPrimaryKeySubsets:M}),D=S.Z.extend({name:"SectionSubsetCollection",context:["server","section"],model:R,url(){return r().result(this.section,"url")},filterPrimaries(){const e=this.filter((e=>e.get("primary")));return this.clone(e)}});var _=n(95584);const V=s.Z.extend({name:"SectionModel",context:["server"],entityType:f.LIBRARY,entityID(e=this.state){return(0,m.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"Directory",cache:new g.Z,persistInCache:!0,cacheKey(e){return this.server&&this.server.getScopedKey(e.key)},url(){return this.isNew()?r().result(this,"urlRoot")||r().result(this.collection,"url"):r().isNaN(parseInt(this.id,10))?this.id:"/library/sections/"+this.id},sessionAttrs:{isSection:o.Z.boolean,isCollectionsPopulated:o.Z.boolean,currentFilters:o.Z.array,currentFolderKey:o.Z.string,settings:o.Z.instanceOf(p.Z)},syncedAttrs:{key:o.Z.oneOfType(o.Z.string,o.Z.integer),uuid:o.Z.string,thumb:o.Z.string,art:o.Z.string,createdAt:o.Z.integer,updatedAt:o.Z.integer,allowAdvancedFilters:o.Z.boolean,allowSync:o.Z.boolean,refreshing:o.Z.boolean,name:{type:o.Z.string,save:!0},title:{type:o.Z.string,save:!0},type:{type:o.Z.string,save:!0},agent:{type:o.Z.string,save:!0},scanner:{type:o.Z.string,save:!0},language:{type:o.Z.string,save:!0},importFromiTunes:{type:o.Z.boolean,save:!0},enableAutoPhotoTags:{type:o.Z.boolean,save:!0}},derivedAttrs:{serverEntityID(){return this.state?this.server.entityID():""}},syncedRelations:{locations(){return{relationClass:k,rootPropertyName:"Location",options:{section:this},save:!0}}},sessionRelations:{items(){return{relationClass:h,options:{section:this}}},currentSubset(){return{relationClass:R,options:{section:this}}},currentFirstCharacter:()=>({relationClass:P,deferred:!0}),currentType:()=>({relationClass:T,deferred:!0}),currentSort:()=>({relationClass:a.Z,deferred:!0}),types(){return{relationClass:O,options:{section:this}}},subsets(){return{relationClass:D,options:{section:this}}},filters(){return{relationClass:this.get("allowAdvancedFilters")?Z.Z:E,options:{section:this}}},sorts(){return{relationClass:_.Z,options:{section:this}}},firstCharacters(){return{relationClass:C,options:{section:this}}}},defaults(){return{isSection:!0,isCollectionsPopulated:!1,currentType:null,currentFilters:[],currentSort:null,currentFirstCharacter:null,currentFolderKey:null,currentSubset:b.get("all"),settings:new p.Z([],{server:this.server,url:()=>c.Z.join(["/library/sections/",this.get("key"),"/prefs"])})}},initialize(e){this.updateMediaTypes(this,e.type),this.set({currentType:this.get("types").findWhere({typeString:e.type})}),this.on("change:type",this.updateMediaTypes,this)},uninitialize(){this.off("change:type",this.updateMediaTypes,this),this.stopListening()},augmentResponse:e=>(e.allowAdvancedFilters=!!e.filters,delete e.filters,e),getSectionType(){const e=this.get("type");return v.ZP.get(e)},getSaveParams(e){const t=s.Z.prototype.getSaveParams.apply(this,arguments);if("type"in t){const e=v.ZP.get(t.type);e&&(t.type=e.typeString)}return"title"in t&&(t.name=t.title,delete t.title),r().isObject(t.type)&&(t.type=t.type.typeString),"Location"in t&&(t.location=r().pluck(t.Location,"path"),delete t.Location),t},getSyncTitle(e){const t=this.get("title"),n=[],i=this.get("currentSubset"),s=this.get("currentFilters");return e?(r().each(e,(e=>{n.push(e.get("title"))})),t+": "+n.join(", ")):"all"!==i.id?t+": "+i.get("title"):s.length?(r().each(s,(function(e){n.push(e.titles.join(", "))})),t+": "+n.join(",")):t},setAgentAndScanner(e,t,n){const i=e.defaultAgents.find((e=>t.find((t=>t.get("identifier")===e)))),r=e.defaultScanners.find((e=>n.find((t=>t.get("name")===e))));this.set({agent:i,scanner:r})},updateMediaTypes(e,t){const n=(0,l.tm)(t);this.get("types").reset(n)}})},95584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),r=n.n(i),s=n(49788),o=n(71065),a=n(68339);const l=s.Z.extend({name:"SortCollection",context:["server","section","typeID"],model:a.Z,url(){const e=r().result(this.section,"url"),t=this.typeID||this.section.get("currentType").id,n=t?{type:t}:{};return o.Z.join([e,"/sorts"],n)}})},68339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22618),r=n(88019);const s={ASCENDING:"asc",DESCENDING:"desc"},o=i.Z.extend({name:"SortModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:r.Z.boolean,direction:r.Z.string},syncedAttrs:{key:r.Z.string,descKey:r.Z.string,title:r.Z.string,isDefault:r.Z.boolean,active:r.Z.boolean,defaultDirection:r.Z.string,activeDirection:r.Z.string,firstCharacterKey:r.Z.string},defaults:{selected:!1},augmentResponse:e=>(e.defaultDirection||(e.defaultDirection=e.default||s.ASCENDING),e.isDefault=!!e.default,e.direction||(e.direction=e.defaultDirection),e),reverseSortDirection(){let e=this.get("direction")||this.get("defaultDirection");e=e&&e!==s.ASCENDING?s.ASCENDING:s.DESCENDING,this.set("direction",e)}},{directions:s})},97454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(13469),r=n.n(i),s=n(49788),o=n(87023),a=n(82590),l=n(91487),c=n(61194),d=n(4231);const u=["shelf","grid","list","banner","hero"];var h=n(71065),p=n(58905);const g=s.Z.extend({name:"HubCollection",context:["server","provider","section","identifier","hubKey","hubCount","count","includeEmpty","libraryHubsOnly","includeFeaturedTags","includeLibraryPlaylists","includeMeta","includeStations","includeExternalMedia","includeExternalMetadata","includeRecentChannels","asyncAugmentMetadata","excludes","excludeFields","excludeElements","allowSync","maxLength","wait"],responseContext:["identifier","allowSync"],model:p.Z,responseType(){return(0,l.Z)(this.server)},url(){let e="/hubs";this.hubKey?e=this.hubKey:this.section&&(e="/hubs/sections/"+encodeURIComponent(this.section.id));const t={};return""!==this.excludeFields&&(t.excludeFields=this.excludeFields||"summary"),this.excludeElements&&(t.excludeElements=this.excludeElements),this.count&&(t.count=this.count+1),this.hubCount&&(t.hubCount=this.hubCount),this.includeEmpty&&(t.includeEmpty=1),this.libraryHubsOnly&&(t.libraryHubsOnly=1),this.includeFeaturedTags&&(t.includeFeaturedTags=1),this.includeLibraryPlaylists&&(t.includeLibraryPlaylists=1),this.includeMeta&&(t.includeMeta=1),this.includeStations&&(t.includeStations=1),this.includeExternalMedia&&(t.includeExternalMedia=1),this.includeExternalMetadata&&(t.includeExternalMetadata=1),this.includeRecentChannels&&(t.includeRecentChannels=1),this.asyncAugmentMetadata&&(t.asyncAugmentMetadata=1),this.wait&&(t.wait=1),this.excludes&&this.excludes.length&&this.excludes.forEach((e=>{t["exclude"+(0,d.Z)(e)]=1})),h.Z.join(e,t)},initialize:function(){this.section&&this.listenTo(a.Z,"clear:sections:hubs",this.clear)},fetch(e={}){const t=r().clone(e);return e.onlyTransient&&this.populatePromise&&(t.remove=!1,t.url=h.Z.join(r().result(this,"url"),{onlyTransient:1})),s.Z.prototype.fetch.call(this,t)},augmentResponseText:(e,t)=>t===o.Ls?(0,c.Z)(e):e,augmentResponse(e){const t=this.model.prototype.rootPropertyName;if(e&&t){Array.isArray(e)?e={[t]:e}:e[t]&&!Array.isArray(e[t])&&(e={[t]:[e[t]]});const n=e[t];e.Meta&&n.forEach((t=>{t.Meta||(t.Meta=e.Meta)}));let i=n&&n.length;if(i){if(!this.includeEmpty)for(;i&&i--;){const e=n[i];u.includes(e.style)&&e.size<=0&&n.splice(i,1)}this.maxLength&&n.splice(this.maxLength),e.size>n.length&&(e.size=String(n.length)),this.count&&n.forEach((e=>{e.more&&e.size>this.count&&(e.Metadata.splice(this.count,e.size-this.count),e.size=this.count)}))}}return this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)})),e}})},58905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(22618),r=n(88019),s=n(87023),o=n(91487),a=n(61194),l=n(2932),c=n(4120),d=n(89703),u=n(42751);const h=i.Z.extend({name:"HubModel",context:["server","provider","section","identifier","allowSync","includeExternalMedia"],entityType:d.HUB,entityID(e=this.state){return(0,c.Z)(this.entityType,e.key||e.hubKey||e.hubIdentifier,this.provider.entityID())},idAttribute:"hubIdentifier",rootPropertyName:"Hub",responseType(){return(0,o.Z)(this.server)},url(){return this.get("key")||this.get("hubKey")},syncedAttrs:{key:r.Z.string,hubKey:r.Z.string,hubIdentifier:r.Z.string,source:r.Z.string,title:r.Z.string,summary:r.Z.string,icon:r.Z.string,thumb:r.Z.string,attribution:r.Z.string,type:r.Z.string,subtype:r.Z.string,style:r.Z.string,size:r.Z.integer,totalSize:r.Z.integer,more:r.Z.boolean,random:r.Z.boolean,browse:r.Z.boolean,upNext:r.Z.boolean,context:r.Z.string,promoted:r.Z.boolean,autoAdvanceDelayMs:r.Z.integer,Meta:r.Z.object},syncedRelations:{metadataList:{relationClass:u.Z,deferred:!0}},initialize(){this.listenTo(this.get("metadataList"),"change:populatedRange",this.onPopulatedRangeChange)},augmentResponseText:(e,t)=>t===s.Ls?(0,a.Z)(e):e,augmentResponse(e){const t=null==e.totalSize?void 0:l.Z.parseInteger(e.totalSize),n=l.Z.parseInteger(e.size)||0,i=e.key||e.hubKey;return e.metadataList={containerKey:i,Metadata:e.Metadata,size:n,totalSize:t},e},onPopulatedRangeChange(e,t){const n=t.size,i=e.get("totalSize"),r={size:n};null!=i&&(r.more=i>n),this.set(r)}})},29261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(49788),r=n(87023),s=n(91487),o=n(61194),a=n(75050);const l=i.Z.extend({name:"MetadataCollection",context:["server","provider","section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","includeExternalMedia"],model:a.Z,responseType(){return(0,s.Z)(this.server)},url(){return this.containerKey},augmentResponseText:(e,t)=>t===r.Ls?(0,o.Z)(e):e,splitByType:function(){const e={};return this.each((t=>{const n=t.get("type");e.hasOwnProperty(n)?e[n].push(t):e[n]=[t]})),e}})},42751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var i=n(13469),r=n.n(i),s=n(22618),o=n(88019),a=n(34777),l=n(87023),c=n(91487),d=n(61194),u=n(2932),h=n(4120),p=n(89703),g=n(71065),m=n(49788);const f=s.Z.extend({name:"OperatorModel",context:["server"],idAttribute:"key",rootPropertyName:"Operator",syncedAttrs:{key:o.Z.string,title:o.Z.string}}),v=m.Z.extend({name:"OperatorCollection",context:["server"],model:f}),y=s.Z.extend({name:"MetadataFieldTypeModel",context:["server"],idAttribute:"type",rootPropertyName:"FieldType",syncedAttrs:{type:o.Z.string.isRequired},syncedRelations:{operators:{relationClass:v,rootPropertyName:"Operator"}}}),b=m.Z.extend({name:"MetadataTypeCollection",context:["server"],model:y}),Z=s.Z.extend({name:"FieldModel",context:["server"],idAttribute:"key",rootPropertyName:"Field",syncedAttrs:{key:o.Z.string,title:o.Z.string,type:o.Z.string,subType:o.Z.string}}),S=m.Z.extend({name:"FieldCollection",context:["server"],model:Z});var w=n(96551),P=n(95584);const C=s.Z.extend({name:"MetadataTypeModel",context:["server"],idAttribute:"key",rootPropertyName:"Type",syncedAttrs:{type:o.Z.string,subtype:o.Z.string,key:o.Z.string,title:o.Z.string,context:o.Z.string},syncedRelations:{filters:{relationClass:w.Z,rootPropertyName:"Filter"},sorts:{relationClass:P.Z,rootPropertyName:"Sort"},fields:{relationClass:S,rootPropertyName:"Field"}}}),x=m.Z.extend({name:"MetadataTypeCollection",context:["server"],model:C}),A=s.Z.extend({name:"MetaModel",context:["server","provider"],syncedAttrs:{DisplayFields:o.Z.array},syncedRelations:{types:{relationClass:x,rootPropertyName:"Type"},fieldTypes:{relationClass:b,rootPropertyName:"FieldType"}}});var E=n(29261);const I=s.Z.extend({mixins:[a.Z],name:"MetadataListModel",context:["server","provider","section","metadataItem","identifier","mediaTagPrefix","mediaTagVersion","allowSync","excludeFields","excludeElements","excludeAllLeaves","includeRelated","includeCollections","includeExternalMedia","includeAdvanced","includeMeta"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:p.METADATA_LIST,entityID(e=this.state){return(0,h.Z)(this.entityType,e.entityKey||e.containerKey||e.key||this.cid,(this.provider||this.server).entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType(){return(0,c.Z)(this.server)},url(){const e=this.getPaginatedUrl(this.get("containerKey")||this.get("key")),t={excludeElements:this.excludeElements?this.excludeElements:void 0,excludeFields:this.excludeFields?this.excludeFields:void 0,excludeAllLeaves:this.excludeAllLeaves?1:void 0,includeRelated:this.includeRelated?1:void 0,includeCollections:this.includeCollections?1:void 0,includeExternalMedia:this.includeExternalMedia?1:void 0,includeAdvanced:this.includeAdvanced?1:void 0,includeMeta:this.includeMeta?1:void 0};return e?g.Z.join(e,t):e},sessionAttrs:{isMetadataList:o.Z.boolean,entityKey:o.Z.string,containerKey:o.Z.string,containerTitle:o.Z.string,currentPageStart:o.Z.integer,currentPageSize:o.Z.integer,populatedRange:o.Z.object,isPending:o.Z.boolean,isPopulated:o.Z.boolean,error:o.Z.object},syncedAttrs:{isDirectoryList:o.Z.boolean,isMetaPopulated:o.Z.boolean,key:o.Z.string,librarySectionID:o.Z.string,totalSize:o.Z.integer,viewGroup:o.Z.string,title:o.Z.string,thumb:o.Z.string,art:o.Z.string,banner:o.Z.string,theme:o.Z.string,allowSync:o.Z.boolean},syncedRelations:{metadataItems:{relationClass:E.Z,rootPropertyName:"Metadata",options:e=>({containerKey:e.containerKey||e.key}),setOptions:e=>({remove:e.remove,at:e.at})},meta:{relationClass:A,rootPropertyName:"Meta",deferred:!0}},derivedAttrs:{firstItemType(){const e=this.getCollection().first();return e?e.get("type"):this.attributes.firstItemType},firstItemSubtype(){const e=this.getCollection().first();return e?e.get("subtype"):this.attributes.firstItemSubtype},isFirstItemLibraryItem(){const e=this.getCollection().first();return e?e.get("isLibraryItem"):this.attributes.isFirstItemLibraryItem},isChannelsList(){const e=this.getCollection().first();return e?e.get("dvrChannel"):this.attributes.isChannelsList}},defaults:()=>({isMetadataList:!0,isDirectoryList:!1,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,isMetaPopulated:!1,error:null}),initialize(e){this._totalSizeAdjustment=0,this.startPopulatedRangeMonitor(),this.on("change:key change:containerKey",this.onContainerKeyChange,this)},uninitialize(){this.off("change:key change:containerKey",this.onContainerKeyChange,this),this.stopListening()},augmentResponseText(e,t){const n=this.get("containerKey")||this.get("key"),i=/\/folder(\?|$)/.test(n);return t===l.Ls?(0,d.Z)(e,{includeDirectories:i}):e},augmentResponse(e,t){this.responseContext.forEach((t=>{const n=e[t];void 0!==n&&this.setContext(t,n)}));const n=u.Z.parseArray(e.Metadata),i=u.Z.parseArray(e.Directory),s=u.Z.parseInteger(e.totalSize);return this.allowAllLeaves||(e.Metadata=r().reject(n,(function(e){const t=/\/allLeaves$/.test(e.key);return t&&(this._totalSizeAdjustment-=1),t}),this)),!n.length&&e.Directory&&(e.Metadata=i,e.isDirectoryList=!0),this.includeMeta&&(e.isMetaPopulated=!0),s&&this._totalSizeAdjustment&&(e.totalSize=s-this._totalSizeAdjustment),!e.title&&e.title1&&(e.title=e.title1),e},onContainerKeyChange(e,t){const n=this.get("metadataItems"),i=this.syncedRelations.metadataItems.options(this.attributes);r().each(i,((e,t)=>{n.setContext(t,e)}))}})},75050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>K});var i=n(13469),r=n.n(i),s=n(22618),o=n(88019),a=n(87023);const l=s.Z.extend({name:"TranscodeSessionModel",context:["server"],url(){return"/transcode/sessions/"+this.id},syncedAttrs:{key:o.Z.string,progress:o.Z.float,throttled:o.Z.boolean,speed:o.Z.float,duration:o.Z.integer,videoDecision:o.Z.string,audioDecision:o.Z.string,protocol:o.Z.string,container:o.Z.string,videoCodec:o.Z.string,audioCodec:o.Z.string,audioChannels:o.Z.integer,width:o.Z.string,height:o.Z.string,transcodeHwDecoding:o.Z.string,transcodeHwEncoding:o.Z.string,timeStamp:o.Z.integer,minOffsetAvailable:o.Z.integer,maxOffsetAvailable:o.Z.integer}});var c=n(88707),d=n(48497),u=n(34510),h=n(45200),p=n(91487),g=n(16215),m=n(30712),f=n(34738),v=n(71746),y=n(60964),b=n(61194),Z=n(2932),S=n(4120),w=n(89703),P=n(21235),C=n(50958),x=n(38784),A=n(44333),E=n(71065),I=n(49788);const k=s.Z.extend({name:"ChapterModel",context:["server","section"],syncedAttrs:{id:o.Z.integer,tag:o.Z.string,index:o.Z.integer,startTimeOffset:o.Z.integer,endTimeOffset:o.Z.integer,thumb:o.Z.string}}),T=I.Z.extend({name:"ChapterCollection",context:["server","section"],model:k,modelId:e=>`${e.id}_${e.index}`}),O=s.Z.extend({name:"ConcertModel",context:["server","section"],syncedAttrs:{id:o.Z.integer,at:o.Z.integer,tag:o.Z.string,venue:o.Z.string,city:o.Z.string,country:o.Z.string,url:o.Z.string}}),M=I.Z.extend({name:"ConcertCollection",context:["server","section"],model:O});var R=n(77982),D=n(40446),_=n(59387);const V=function(e){return`${e.beginsAt}-${e.channelIdentifier}-${e.endsAt}`};var L=Object.defineProperty,j=Object.prototype.hasOwnProperty,N=Object.getOwnPropertySymbols,U=Object.prototype.propertyIsEnumerable,F=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t)=>{for(var n in t||(t={}))j.call(t,n)&&F(e,n,t[n]);if(N)for(var n of N(t))U.call(t,n)&&F(e,n,t[n]);return e};const z={guid:!0,librarySectionID:!0,librarySectionTitle:!0,librarySectionUUID:!0,librarySectionKey:!0,source:!0,Context:!0,file:!0,summary:!0,tagline:!0,action:!0,attributionLogo:!0,backgroundColor:!0};function H(e){let t=0;if(!e)return t;for(let n=0,i=e.length;n<i;n++){const i=e[n].Part;if(i)for(let e=0,n=i.length;e<n;e++){const n=i[e].Stream;n&&(t+=n.length)}}return t}function q(e=[]){return(0,D.Z)(e,V,(e=>e))}function W(e){return(e.hasOwnProperty("ratingKey")||e.hasOwnProperty("id"))&&e.hasOwnProperty("tag")}function $(e,t){t.forEach((t=>{null!=(null==e?void 0:e[t])&&"string"!=typeof e[t]&&(e[t]=e[t].toString())}))}const G=s.Z.extend({name:"MetadataModel",context:[["server",{boundDerivedAttrs:["serverEntityID"]}],["provider",{boundDerivedAttrs:["providerEntityID"]}],"section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","relatedOptions","includeExternalMedia"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:w.METADATA_ITEM,entityID(e=this.state){let t;if(e.source){const{serverIdentifier:n}=(0,f.Z)(e.source);n!==this.server.get("machineIdentifier")&&(t=(0,S.Z)(w.SERVER,n))}return(0,S.Z)(this.entityType,e.key||this.cid,t,this.server.entityID())},idAttribute:"ratingKey",rootPropertyName:"Metadata",cache:new d.Z,mergeStrategy:function(e,t,n){return"Media"===e?function(e,t,n){return n&&!t?n:((i=n||t)&&i.some((e=>e.protocol===_.K))||function(e){return e&&e.some((e=>"livetv"===e.origin))}(n||t)?function(e,t){var n,i,r,s,o,a,l,c;if(!t)return null;const d=q(e),u=q(t),h=B(B({},d),u);for(const e in d){const t=d[e],p=u[e];t&&p&&t.Overlay.length&&!p.Overlay.length&&(h[e]=B(B({},h[e]),{Overlay:t.Overlay}));const g=null!=(s=null==(r=null==(i=null==(n=null==t?void 0:t.Part)?void 0:n[0])?void 0:i.Stream)?void 0:r.length)?s:0,m=null!=(c=null==(l=null==(a=null==(o=null==p?void 0:p.Part)?void 0:o[0])?void 0:a.Stream)?void 0:l.length)?c:0;t&&p&&g>m&&(h[e]=B(B({},h[e]),{Part:t.Part}))}return Object.keys(h).map((e=>h[e]))}(t,n):function(e,t){const n=H(t),i=H(e);return n||!i?t:e}(t,n))||(0,R.Z)(e,t,n);var i}(e,t,n):function(e){const t=K.prototype.syncedAttrs[e];return!(!t||t!==o.Z.array)}(e)?function(e,t,n){if(!n)return t;if(!t)return n;if(n.length>t.length)return n;if(!n.length||n.length<t.length)return t;const i=t&&t[0],r=n&&n[0];if(!i&&r)return n;if(!r&&i)return t;const s=W(i),o=W(r);return s&&!o?t:n}(0,t,n):function(e){return!!K.prototype.syncedRelations[e]}(e)||z[e]?(0,R.Z)(e,t,n):n},responseType(){const e=this.get("key");return e&&e.indexOf("/system/services/url/lookup")>-1?a.Ls:(0,p.Z)(this.server)},url(){const e={};return this.includeExternalMedia&&(e.includeExternalMedia=1),E.Z.join(this.get("key"),e)},urlRoot(){return this.get("key")},saveUrl(){return this.get("isPlaylist")&&!this.server.supports("truePlaylistsPath")?`/library/metadata/${this.get("ratingKey")}`:r().result(this,"url")},cacheKey(e){const t=this.extractChildrenKey(e.key);return e.source&&(t.key=e.source+t.key),this.server&&this.server.getScopedKey(t.key)},sessionAttrs:{isInUniversalWatchlist:o.Z.boolean.isRequired,isInUniversalWatchlistFetched:o.Z.boolean.isRequired,isPreFetched:o.Z.boolean,isStreamChangeInProgress:o.Z.boolean,isStreamDeleteInProgress:o.Z.boolean,metadataState:o.Z.string,mediaState:o.Z.string,isSettingsUpdating:o.Z.boolean,settingsUpdateError:o.Z.object,dvrChannel:o.Z.object,viewCountIncrementedByPlayQueueItemID:o.Z.string,downloadSubscriptionID:o.Z.string,isDownloaded:o.Z.boolean},syncedAttrs:{elementName:o.Z.string,ratingKey:o.Z.string,parentRatingKey:o.Z.string,grandparentRatingKey:o.Z.string,key:o.Z.string,childrenKey:o.Z.string,Context:o.Z.object,parentKey:o.Z.string,grandparentKey:o.Z.string,primaryExtraKey:o.Z.string,augmentationKey:o.Z.string,guid:o.Z.string,primaryGuid:o.Z.string,source:o.Z.string,sourceURI:o.Z.string,attribution:o.Z.string,attributionLogo:o.Z.string,action:o.Z.string,backgroundColor:o.Z.string,remoteMedia:o.Z.boolean,librarySectionID:o.Z.string,librarySectionTitle:o.Z.string,librarySectionUUID:o.Z.string,librarySectionKey:o.Z.string,type:o.Z.string,subtype:o.Z.string,title:o.Z.string,titleSort:o.Z.string,originalTitle:o.Z.string,parentTitle:o.Z.string,grandparentTitle:o.Z.string,year:o.Z.string,minYear:o.Z.string,maxYear:o.Z.string,tagline:o.Z.string,summary:o.Z.string,studio:o.Z.string,contentRating:o.Z.string,originallyAvailableAt:o.Z.string,thumb:o.Z.string,parentThumb:o.Z.string,grandparentThumb:o.Z.string,banner:o.Z.string,art:o.Z.string,parentArt:o.Z.string,grandparentArt:o.Z.string,hero:o.Z.string,theme:o.Z.string,parentTheme:o.Z.string,grandparentTheme:o.Z.string,chapterSource:o.Z.string,ratingImage:o.Z.string,audienceRating:o.Z.float,audienceRatingImage:o.Z.string,directory:o.Z.boolean,rating:o.Z.float,userRating:o.Z.float,playbackSpeed:o.Z.float,index:o.Z.integer,parentIndex:o.Z.integer,absoluteIndex:o.Z.integer,duration:o.Z.integer,preview:o.Z.boolean,viewOffset:o.Z.integer,viewCount:o.Z.integer,childCount:o.Z.integer,leafCount:o.Z.integer,viewedLeafCount:o.Z.integer,ratingCount:o.Z.integer,mediaCount:o.Z.integer,mediaCountOptimized:o.Z.integer,extraType:o.Z.integer,lastViewedAt:o.Z.integer,lastRatedAt:o.Z.integer,addedAt:o.Z.integer,updatedAt:o.Z.integer,deletedAt:o.Z.integer,Geolocation:o.Z.object,playlistID:o.Z.integer,playlistType:o.Z.string,specialPlaylistType:o.Z.string,radio:o.Z.boolean,smart:o.Z.boolean,readOnly:o.Z.boolean,icon:o.Z.string,composite:o.Z.string,content:o.Z.string,durationInSeconds:o.Z.integer,skipChildren:o.Z.boolean,skipParent:o.Z.boolean,skipDetails:o.Z.boolean,subscriptionID:o.Z.string,saved:o.Z.boolean,picked:o.Z.boolean,grandparentSubscriptionID:o.Z.string,subscriptionType:o.Z.string,grandparentSubscriptionType:o.Z.string,Channel:o.Z.array,onAir:o.Z.boolean,watchlistedAt:o.Z.integer,publicPagesURL:o.Z.string,Media:o.Z.array,Collection:o.Z.array,Director:o.Z.array,Producer:o.Z.array,Writer:o.Z.array,Studio:o.Z.array,Genre:o.Z.array,Mood:o.Z.array,Country:o.Z.array,Label:o.Z.array,Role:o.Z.array,Location:o.Z.array,Tag:o.Z.array,Autotag:o.Z.array,Marker:o.Z.array,indirect:o.Z.boolean,Origin:o.Z.object,requiresConsent:o.Z.boolean},syncedRelations:{chapters:{relationClass:T,rootPropertyName:"Chapter",deferred:!0},preferences:{relationClass:c.Z,rootPropertyName:"Preferences",deferred:!0},onDeck:()=>({relationClass:G,rootPropertyName:"OnDeck",deferred:!0}),related(){const e={skipCache:!0};return this.relatedOptions&&r().extend(e,this.relatedOptions),{relationClass:n(97454).Z,rootPropertyName:"RelatedHubs",deferred:!0,options:e}},popularLeaves:()=>({relationClass:n(42751).Z,rootPropertyName:"PopularLeaves",deferred:!0}),extras:()=>({relationClass:n(42751).Z,rootPropertyName:"Extras",deferred:!0,attrs:e=>({containerKey:E.Z.join([e.key,"extras"])})}),concerts:{relationClass:M,rootPropertyName:"Concert",deferred:!0},stations:()=>({relationClass:n(29261).Z,rootPropertyName:"Stations",deferred:!0}),transcodeSession:{relationClass:l,rootPropertyName:"TranscodeSession",deferred:!0}},derivedAttrs:{identifier(){return this.identifier},serverEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{serverIdentifier:t}=(0,f.Z)(e);return(0,S.Z)(w.SERVER,t)}return this.server?this.server.entityID():null},providerEntityID(){if(!this.state)return null;const e=this.get("source");if(e){const{providerIdentifier:t}=(0,f.Z)(e);return(0,S.Z)(w.PROVIDER,t,this.get("serverEntityID"))}return this.provider?this.provider.entityID():null},mediaTagPrefix(){return this.mediaTagPrefix},mediaTagVersion(){return this.mediaTagVersion},allowSync(){return this.allowSync},containerKey(){return this.containerKey},isLibraryItem(){return this.isLibraryItem(this.get("identifier"),this.get("key"))},isPlaylist(){return this.get("type")===C.zg&&!this.get("radio")},isFolder(){return/\/folder\?parent=/.test(this.get("key"))},isExtra(){return!!this.get("extraType")},isPremium(){const e=this.get("Media")||[];return r().any(e,(e=>e.premium))},hasRadioStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:x.j0})},hasArtistTVStation(){const e=this.get("stations");return!!e&&!!e.findWhere({playlistType:x.pX})},unviewedLeafCount(){const e=this.get("leafCount"),t=this.get("viewedLeafCount");if(e)return e-t},downloadUrl(){const e=this.get("Media");if(e&&1===e.length){const t=r().first(r().first(e).Part),n=t&&t.key;if(n)return()=>{const e=E.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}}},defaults:{isInUniversalWatchlist:!1,isInUniversalWatchlistFetched:!1,isStreamChangeInProgress:!1,isStreamDeleteInProgress:!1,isSettingsUpdating:!1,isDownloaded:!1,settingsUpdateError:null,rating:0,onAir:!1,skipDetails:!1,Media:[],Collection:[],Director:[],Producer:[],Writer:[],Studio:[],Genre:[],Mood:[],Country:[],Label:[],Channel:[],Role:[],Location:[],Autotag:[],Tag:[],requiresConsent:!1},fetch(e={}){return e.data&&(this._populatedParams=r().extend({},this._populatedParams,e.data)),e.usePopulatedParams&&(e.data=this._populatedParams),s.Z.prototype.fetch.call(this,e)},augmentResponseText:(e,t)=>t===a.Ls?(0,b.Z)(e):e,augmentResponse(e,t){var n;let i=e[this.rootPropertyName];i&&(Array.isArray(i)&&(i=i[0]),["attribution","augmentationKey","librarySectionID","librarySectionTitle","librarySectionUUID"].forEach((t=>{i[t]||(i[t]=e[t])})),e.type===C.GV&&(i.dvrChannel={identifier:e.identifier||e.id,thumb:e.thumb,title:e.title,callSign:e.callSign})),this.responseContext.forEach((t=>{const n=e[t]||i&&i[t];void 0!==n&&this.setContext(t,n)}));const s=i||e,o=s.Related,a=s.OnDeck,l=s.Stations,c=s.Preferences,d=this.extractChildrenKey(s.key);if(d.childrenKey&&(s.childrenKey=d.childrenKey,s.key=d.key),s.Media=this.convertMediaItems(s.Media),s.Role=this.convertRole(s.Role),s.Marker=this.convertMarkers(s.Marker),!s.source&&this.server){const e=(0,m.Z)({providerIdentifier:null==(n=this.provider)?void 0:n.get("identifier"),serverIdentifier:this.server.get("machineIdentifier")});s.source=e,s.sourceURI=`${e}${s.key}`}return o&&(s.RelatedHubs=r().compact([].concat(o.Hub,o.Directory))),a&&(s.OnDeck=a.Metadata),l&&(s.Stations=l.Metadata),c&&(s.Preferences=c.Setting),s.type===C.pV&&s.childrenKey&&(s.type=C.q8),s},extractChildrenKey(e){const t=/(.*)\/(children|items)$/.exec(e);let n;return t&&(n=e,e=t[1]),{childrenKey:n,key:e}},convertMediaItems(e){const t=Z.Z.parseArray(e);return r().each(t,(e=>{$(e,["id"]),y.Z.parseBoolean(e,["indirect","optimizedForStreaming","onAir","premium","premiere","selected"]),y.Z.parseInteger(e,["duration","width","height","bitrate","audioChannels","proxyType","beginsAt","endsAt","beginOffset","startOffsetSeconds","endOffsetSeconds"]),null==e.id&&null==e.uuid&&(e.uuid=`${e.container}-${e.protocol}-${e.audioCodec}`),y.Z.parseArray(e,"Overlay"),y.Z.parseArray(e,"Part"),r().each(e.Overlay,(e=>{null!=e.duration&&(e.duration=parseInt(e.duration,10)),e.startTimeOffset=parseInt(e.startTimeOffset,10)})),r().each(e.Part,(e=>{$(e,["id"]),null!=e.exists&&(e.exists=Z.Z.parseBoolean(e.exists)),null!=e.accessible&&(e.accessible=Z.Z.parseBoolean(e.accessible)),y.Z.parseInteger(e,["duration","size"]),y.Z.parseBoolean(e,"optimizedForStreaming"),y.Z.parseEncodedString(e,"file"),y.Z.parseArray(e,"Stream"),r().each(e.Stream,(e=>{$(e,["id"]),y.Z.parseBoolean(e,["anamorphic","selected","default","forced","timed","cabac","hasScalingMatrix","headerStripping"]),y.Z.parseInteger(e,["index","streamType","duration","width","height","bitrate","bitDepth","level","refFrames","samplingRate","channels","minLines","offset"]),y.Z.parseFloat(e,"frameRate")}))}))})),this.addNoneSubtitlesStreams(t)},convertRole(e){const t=Z.Z.parseArray(e);return r().each(t,(e=>{y.Z.parseBoolean(e,["directory"])})),t},convertMarkers(e){const t=Z.Z.parseArray(e);return r().each(t,(e=>{y.Z.parseInteger(e,["endTimeOffset","startTimeOffset"])})),t},addNoneSubtitlesStreams(e){const t=A.Z.get("subtitles");return e.forEach((e=>{const n=e.Part,i="livetv"===e.origin;n&&n.forEach((n=>{if(!n.Stream)return;if(!i&&!(0,g.Z)(e))return;const r=n.Stream.filter((e=>e.streamType===t.id));if(r.find((e=>e.id===h.H)))return;const s=r.find((e=>e.selected)),o={id:h.H,streamType:t.id,language:(0,P.Z)("None")};s||(o.selected=!0),n.Stream.unshift(o)}))})),e},getDownloadUrl(e=0){const t=this.get("Media")[e];if(t){const e=r().first(t.Part),n=e&&e.key;if(n){const e=E.Z.join(n,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}},getFilepath(e=0){const t=this.get("Media")[e];if(t){const e=r().first(t.Part);if(e)return e.file}},getLocation(){const e=this.get("Location");return e.length?r().first(e).path:this.getFilepath()},getMediaKey(){const e=r().first(this.get("Media"));if(e){const t=r().first(e.Part);if(t)return t.key}return this.get("key")},isLibraryItem(e,t){return!(this.provider&&!this.provider.get("isLibraryProvider"))&&(i=t,(n=e)?v.wB(n,v.Y3):/^(\/sync\/[\w\d-/]*)?\/library\//.test(i));var n,i},isPlexMusicItem(){const e=this.section;return e&&e.get("agent")===u.zR}}),K=G},35084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(19755),r=n.n(i),s=n(14710);const o={fetch(){return(0,s.Z)(!1,"A model or collection with a controlled populate promise cannot be fetched directly"),this.populatePromise},isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},_resetPopulate(){return this.isPopulating()||(this._populateDeferred=r().Deferred(),this.populatePromise=this._populateDeferred.promise()),this.populatePromise},_resolvePopulate(){return"resolved"===this.populatePromise.state()||("rejected"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.resolveWith(this,[this])),this.populatePromise},_rejectPopulate(){return"rejected"===this.populatePromise.state()||("resolved"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.rejectWith(this,[this])),this.populatePromise}}},34777:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s);function a(e){const t=o().clone(e);return void 0!==t.last?(t.end=t.last+1,t.size=t.end-t.start):void 0!==t.size?(t.end=t.start+t.size,t.last=t.end-1):void 0!==t.end&&(t.last=t.end-1,t.size=t.end-t.start),t}function l(e,t){return o().filter(o().map(e,a),(function(e){return t?e.size>=0:e.size>0}))}const c=function(e,t,n){return e=a(e),t=a(t),l([{start:e.start,last:Math.min(e.last,t.start-1)},{start:Math.max(e.start,t.end),last:e.last}],n)},d=function(e,t){let n=a(e);return(t=a(t)).size?(n.start>t.end&&(n={start:t.end,end:n.end}),n.end<t.start&&(n={start:n.start,end:t.start}),a(n)):n};var u=n(71065);const h={getCollectionName(){return this.collectionName||"items"},getCollection(){return this.get(this.getCollectionName())},getTotalSize(){return this.get("totalSize")||this.get("populatedRange").size},getPaginatedUrl(e){const t=this.get("currentPageStart"),n=this.get("currentPageSize");if(null!=t||null!=n){const i={"X-Plex-Container-Start":t||0,"X-Plex-Container-Size":n||0};return u.Z.join(e,i)}return e},getCollectionChangeEvents(){const e=this.getCollectionName();return[`change:${e}.update`,`change:${e}.reset`].join(" ")},startPopulatedRangeMonitor(){const e=this.getCollectionName();this.updatePopulatedRange(),this.on(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.on(`change:${e}.destroy`,this.decrementTotalSize,this)},stopPopulatedRangeMonitor(){const e=this.getCollectionName();this.off(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.off(`change:${e}.destroy`,this.decrementTotalSize,this)},fetchRange(e){const t=o().extend({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({currentPageStart:e.start,currentPageSize:e.size}),this.fetch(t).promise()},populateRange(e){const t=this.getCollection(),n=this.get("populatedRange");let i=c(e,n)[0];if(!i)return r().Deferred().resolve().promise();if(i=d(i,n),this.isPopulating()){const e=this.get("currentPageStart")!==i.start,t=this.get("currentPageSize")!==i.size;if(!e&&!t)return this.populatePromise;this.abortPendingPopulate()}if(e.reloadThreshold&&i.size>e.reloadThreshold)return t.reset(),this.populateRange(o().omit(e,"reloadThreshold"));const s=o().extend({},e,i,{prepend:i.start<n.start});return this.fetchRange(s)},repopulateRange(e=0){const t=this.get("populatedRange").end;return this.set({currentPageStart:0,currentPageSize:Math.max(t,e)}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){const e=this.get("currentPageStart"),t=this.get("populatedRange").start,n=this.get("populatedRange").size,i=this.getCollection().length;let r;r=i?n?Math.min(t,null==e?1/0:e):e||t:0,this.set("populatedRange",{start:r,end:r+i,size:i})},decrementTotalSize(){const e=this.get("totalSize");e>0&&this.set("totalSize",e-1)}}},77982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);function s(e,t,n){return void 0===n||r().isObject(t)?t:n}},95485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(19755),r=n.n(i),s=n(49788),o=n(15856),a=n(91487),l=n(66910),c=n(66255),d=n(22182),u=n(35785),h=n(71746),p=n(21235),g=n(58216);const m=s.Z.extend({name:"ProviderCollection",context:["server"],model:c.Z,url:"/media/providers",responseType(){return(0,a.Z)(this.server)},fetch(){var e;const t=this.server,n=this.parent,i=null==(e=null==n?void 0:n.get("features"))?void 0:e.map((e=>e.get("uuid"))),a=null==i?void 0:i.includes(o.ie);let m;return m=t.get("mediaProviders")||t.get("isCloud")?s.Z.prototype.fetch.apply(this,arguments):r().Deferred().resolve(this,"").promise(),m.then((e=>{(0,l.Z)(e,t)})),t.get("isCloud")&&a&&m.then((e=>{!function(e,t){e.get(h._)||e.add(new c.Z({isPending:!1,isPopulated:!0,identifier:h._,title:"Home Provider",features:[{type:u.Z.CONTENT,directories:[{id:"home",title:(0,p.Z)("Home"),pivots:[{id:"home.recommended",key:g.tk.HOME_RECOMMENDED,type:d.t3,title:(0,p.Z)("Recommended")},{id:"home.watchlist",context:"content.watchlist",key:g.tk.HOME_WATCHLIST,type:d.t3,title:(0,p.Z)("Watchlist")}]}]}]},{server:t}))}(e,t)})),m}})},62005:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(49788),r=n(52878),s=n(35785),o=n(55232);const a=i.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:r.Z,url(){return this.provider.get("features").get(s.Z.SETTINGS).get("settings").get(o.Pt).get("key")}})},52878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22618),r=n(88019);const s=i.Z.extend({name:"ProviderEPGChannelModel",context:["provider"],rootPropertyName:"Channel",syncedAttrs:{id:r.Z.string,thumb:r.Z.string,title:r.Z.string,hidden:r.Z.boolean}})},10135:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(49788),r=n(75134),s=n(35785),o=n(15856),a=n(22618),l=n(88019);const c=a.Z.extend({name:"ProviderActionModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,requires:l.Z.string}}),d=i.Z.extend({name:"ProviderActionCollection",context:["server","provider"],model:c});var u=n(94987),h=n(22182);const p=a.Z.extend({name:"PivotModel",idAttribute:"key",syncedAttrs:{key:l.Z.string.isRequired,type:l.Z.oneOf(h.km,h.IY,h.t3).isRequired,id:l.Z.string,title:l.Z.string.isRequired,context:l.Z.string.isRequired,requires:l.Z.string,libraryKey:l.Z.string}}),g=i.Z.extend({name:"PivotCollection",model:p}),m=a.Z.extend({name:"ProviderDirectoryModel",context:["server","provider"],syncedAttrs:{id:l.Z.string,key:l.Z.string,hubKey:l.Z.string,title:l.Z.string,icon:l.Z.string,type:l.Z.string,subtype:l.Z.string,agent:l.Z.string,refreshing:l.Z.boolean,updatedAt:l.Z.integer,scannedAt:l.Z.integer,context:l.Z.string},syncedRelations:{pivots:{relationClass:g,rootPropertyName:"Pivot",deferred:!0}}}),f=i.Z.extend({name:"ProviderDirectoryCollection",context:["server","provider"],model:m,modelId:e=>e.key||e.hubKey}),v=a.Z.extend({name:"ProviderFeatureModel",context:["server","provider"],sessionAttrs:{isSettingsPending:l.Z.boolean,isSettingsPopulated:l.Z.boolean,settingsError:l.Z.object},syncedAttrs:{id:l.Z.string,key:l.Z.string,reverseKey:l.Z.string,scrobbleKey:l.Z.string,unscrobbleKey:l.Z.string,type:l.Z.string,flavor:l.Z.string,requires:l.Z.string,automaticLibraryFolders:l.Z.boolean,public:l.Z.boolean,storageTotal:l.Z.integer},syncedRelations:{directories:{relationClass:f,rootPropertyName:"Directory",deferred:!0},settings:{relationClass:u.Z,rootPropertyName:"Setting",deferred:!0},actions:{relationClass:d,rootPropertyName:"Action",deferred:!0,setOptions:{remove:!1}}},defaults:{isSettingsPending:!0,isSettingsPopulated:!1}}),y=i.Z.extend({name:"ProviderFeatureCollection",context:["server","provider"],model:v,modelId:e=>e.type===s.Z.ACTION?e.id:e.type,augmentResponse(e){let t=e.find((e=>e.type===s.Z.ACTIONS));return null==t||Array.isArray(t.Action)||(t.Action=t.Action?[t.Action]:[]),null==t&&(t={Action:[],type:s.Z.ACTIONS},e.push(t)),e.forEach((e=>{if(e.type===s.Z.TIMELINE&&(null!=e.scrobbleKey||null!=e.unscrobbleKey)){const{scrobbleKey:n,unscrobbleKey:i}=e;t.Action.push({id:r.lq,key:n,reverseKey:i}),delete e.scrobbleKey,delete e.unscrobbleKey}if(e.type===s.Z.RATE){const{key:n}=e;t.Action.push({id:r.zw,key:n}),delete e.key}if(e.type===s.Z.ACTION&&(null!=e.key||null!=e.reverseKey)){const{key:n,reverseKey:i}=e;t.Action.push({id:e.id,key:n,reverseKey:i}),delete e.key,delete e.reverseKey}e.type===s.Z.ACTIONS&&e.Action.forEach((e=>{e.id!==r.JL&&e.id!==r.LE||(e.requires=o.sy)})),e.type===s.Z.SETTINGS&&(e.requires=o.sy)})),e}})},66255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var i=n(19755),r=n.n(i),s=n(22618),o=n(88019),a=n(77982),l=n(87023),c=n(25859),d=n(35785),u=n(71746),h=n(15856),p=n(54676),g=n(22182),m=n(59387),f=n(42780),v=n(21235),y=n(50958),b=n(38784),Z=n(71065),S=n(58216);function w(e){return{key:e.hubKey,type:g.km,title:(0,v.Z)("Recommended"),context:p.$s}}function P(e,t){return{key:(0,f.Z)(e.id,t),libraryKey:e.key,type:g.IY,title:(0,v.Z)("Library"),context:p.SO,isContent:!0}}function C(e){const t=y.nW(y.du);return{key:Z.Z.join([e.key,"all"],{type:t.id}),type:g.IY,title:(0,v.Z)("Collections"),context:p.oM}}function x(e,t){const n=e.key.match(/\/library\/sections\/(\w+)/)[1],i=y.nW(y.zg);return Z.Z.join("/playlists/all",{type:i.id,playlistType:t,sectionID:n})}function A(e,t){return{key:x(e,t),type:g.IY,title:(0,v.Z)("Playlists"),context:p.dS}}function E(e){return e&&-1!==e.split(",").indexOf(m.K)}function I(e,t){return e&&e.some((e=>e.type===t))}function k(e,t,n){return n.type===e&&(null==t&&null==n.subtype||null!=t&&n.subtype===t)}function T(e,t){return/\/library\/sections\/(\w+)/.test(t.key)&&k(e,null,t)}var O=n(51095),M=n(4120),R=n(89703),D=n(14398),_=n(10135),V=Object.defineProperty,L=Object.prototype.hasOwnProperty,j=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&U(e,n,t[n]);if(j)for(var n of j(t))N.call(t,n)&&U(e,n,t[n]);return e};function B(e){return{"X-Plex-Text-Format":(0,c.Z)(e),"X-Plex-Provider-Version":"3.2"}}const z=R.PROVIDER,H=s.Z.extend({name:"ProviderModel",context:["server"],entityType:z,entityID(e=this.state){return function({identifier:e,serverEntityID:t}){return(0,M.Z)(z,e,t)}({identifier:e.identifier,serverEntityID:this.server.entityID()})},idAttribute:"identifier",rootPropertyName:"MediaProvider",responseType:l.AV,url(){return this.get("baseURL")},mergeStrategy:(e,t,n)=>"protocols"===e&&n&&n.length>0?n:(0,a.Z)(e,t,n),syncedAttrs:{id:o.Z.integer,parentID:o.Z.integer,identifier:o.Z.string,providerIdentifier:o.Z.string,baseURL:o.Z.string,title:o.Z.string,sourceTitle:o.Z.string,types:o.Z.list,protocols:o.Z.list,subscriptions:o.Z.boolean,icon:o.Z.string,epgSource:o.Z.string,source:o.Z.string},sessionAttrs:{isPending:o.Z.boolean,isPopulated:o.Z.boolean,error:o.Z.object},syncedRelations:{features:{relationClass:_.Z,rootPropertyName:"Feature",options(){return{provider:this}},setOptions:{remove:!1}}},derivedAttrs:{isLibraryProvider(){return u.wB((0,O.Z)(this.get("identifier"),this.get("providerIdentifier")),u.Y3)},metricsIdentifier(){const e=this.get("providerIdentifier")||this.get("identifier");return u.wB(e,u.Ll)?e.split(":")[0]:e}},populate(){return this.get("isPopulated")?r().Deferred().resolve(this).promise():s.Z.prototype.populate.apply(this,arguments)},resolveUrl(e,t){const n=F({},t);return this.url()&&(n.baseUrl=this.url()),this.server.resolveUrl(e,n)},getXHROptions(e,t={}){const n=(0,D.Z)(e)?e:Z.Z.join([this.get("baseURL"),e]),i=this.get("providerIdentifier")||this.get("identifier"),r=this.server.getXHROptions(n,F(F({},t),{headers:F(F({},B(i)),t.headers)}));return this.server.get("isCloud")&&(delete r.headers["X-Plex-Username"],delete r.headers["X-Plex-Device-Name"]),r},defaults:()=>({protocols:[],isPending:!0,isPopulated:!1,error:null}),augmentResponse(e){if(e.MediaProvider&&(e=e.MediaProvider),!e.Feature)return e;const t=u.wB(e.identifier,u.Y3);return e.Feature.forEach((n=>{if(n.type===d.Z.SETTINGS&&(n.Setting=[]),!n.Directory||n.type!==d.Z.CONTENT)return;let i;if(!n.key&&t&&(n.key="/library/sections"),n.Directory.forEach(((t,n)=>{var r;const s=t.key||t.hubKey;!t.id&&s&&(t.id=function(e){const t=e.split("/");if(""===t.shift()){const e=t[0],n=t[t.length-1];let i;return u.wB(e,u.Ll)?i=e:n&&(i=n),i}return e}(s)),t.type===y.zg&&(i=n),t.Pivot||(t.Pivot=function(e,t,n){return e.hubKey||"/playlists"===e.key?T(y.R0,e)?[w(e),P(e,y.R0),A(e,b.j0)]:T(y.wR,e)?[w(e),P(e,y.wR),C(e),A(e,b.pX)]:T(y.nr,e)?[w(e),P(e,y.nr),C(e),A(e,b.pX)]:T(y.pV,e)?[w(e),{key:S.tk.TIMELINE,type:g.t3,title:(0,v.Z)("Timeline"),context:p.IL},P(e,y.pV),A(e,b.pV)]:E(t)&&I(n,d.Z.SUBSCRIBE)?[{key:e.hubKey,type:g.km,title:(0,v.Z)("Recommended"),context:p.fr},{key:S.tk.GUIDE,type:g.t3,title:(0,v.Z)("Guide"),context:p.W3},{key:S.tk.RECORDING_SCHEDULE,type:g.t3,title:(0,v.Z)("DVR Schedule"),context:p.cI}]:E(t)||I(n,d.Z.GRID)?[{key:e.hubKey,type:g.km,title:(0,v.Z)("Recommended"),context:p.fr},{key:S.tk.GUIDE,type:g.t3,title:(0,v.Z)("Guide"),context:p.W3}]:k(y.zg,null,e)?[{key:Z.Z.join(e.key,{playlistType:b.j0}),type:g.IY,title:(0,v.Z)("Music"),context:p.dS},{key:Z.Z.join(e.key,{playlistType:b.pX}),type:g.IY,title:(0,v.Z)("Video"),context:p.dS},{key:Z.Z.join(e.key,{playlistType:b.pV}),type:g.IY,title:(0,v.Z)("Photo"),context:p.dS}]:[]:[]}(t,e.protocols,e.Feature)),Array.isArray(t.Pivot)||(t.Pivot=[t.Pivot]),t.Pivot.forEach((e=>{e.id&&e.id.match(/\.(saved|watchlist|playlists)$/)&&(e.requires=h.sy)}));const o=u.wB(e.identifier,u.uk),a=this.parent,l=null==(r=null==a?void 0:a.get("features"))?void 0:r.map((e=>e.get("uuid"))),c=null==l?void 0:l.includes(h.ie);o&&c&&(t.Pivot=t.Pivot.filter((e=>!e.id.match(/\.watchlist$/))))})),i&&i<n.Directory.length-1){const e=n.Directory[i];n.Directory.splice(i,1),n.Directory.push(e)}})),t&&!e.Feature.find((e=>e.type===d.Z.CONTINUE_WATCHING))&&e.Feature.push({type:d.Z.CONTINUE_WATCHING,key:"/hubs?identifier=home.continue,home.ondeck"}),e}})},94987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(49788),r=n(22618),s=n(88019);const o=r.Z.extend({name:"ProviderCountryModel",context:["server","provider"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{code:s.Z.string,title:s.Z.string,postalCodeFormat:s.Z.string,flavor:s.Z.string}});var a=n(35785);const l=i.Z.extend({name:"ProviderCountryCollection",context:["server","provider"],url(){return`${this.provider.get("features").findWhere({type:a.Z.LOCATION}).get("key")}/countries`},model:o});var c=n(62005),d=n(52878),u=n(55232);const h=i.Z.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:d.Z,url(){return this.provider.get("features").get(a.Z.SETTINGS).get("settings").get(u.x8).get("key")}}),p=r.Z.extend({name:"ProviderSettingOptionsModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:s.Z.string,title:s.Z.string,type:s.Z.string,selected:s.Z.boolean}}),g=i.Z.extend({name:"ProviderSettingOptionsCollection",context:["server","provider"],model:p});var m=n(2932);const f={int:m.Z.parseInteger,bool:m.Z.parseBoolean,double:m.Z.parseFloat},v=r.Z.extend({name:"ProviderSettingModel",context:["server","provider"],rootPropertyName:"Setting",url(){return this.get("key")},sessionAttrs:{isOptionsPending:s.Z.boolean,isOptionsPopulated:s.Z.boolean,optionsError:s.Z.object,isLocationsPending:s.Z.boolean,isLocationsPopulated:s.Z.boolean,locationsError:s.Z.object,isLineupPending:s.Z.boolean,isLineupPopulated:s.Z.boolean,lineupError:s.Z.object},syncedAttrs:{country:s.Z.string,countryLabel:s.Z.string,hidden:s.Z.boolean,id:s.Z.string,key:s.Z.string,label:s.Z.string,multiselect:s.Z.boolean,postalCode:s.Z.string,required:s.Z.boolean,selectedCount:s.Z.integer,summary:s.Z.string,type:s.Z.string,value:s.Z.oneOfType(s.Z.string,s.Z.boolean,s.Z.float),min:s.Z.float,max:s.Z.float,step:s.Z.float,enumValues:s.Z.string,default:s.Z.string},sessionRelations:{locations:{relationClass:l},lineup:{relationClass:c.Z},recentChannelsInGrid:{relationClass:h}},syncedRelations:{settings:()=>({relationClass:n(94987).Z,rootPropertyName:"Setting",deferred:!0}),options:{relationClass:g,options:e=>({url:e.key})}},defaults:{isOptionsPending:!0,isOptionsPopulated:!1,optionsError:null,isLocationsPending:!0,isLocationsPopulated:!1,locationsError:null,isLineupPending:!0,isLineupPopulated:!1,lineupError:null},augmentResponse(e){const t=f[e.type];return t&&(e.value=t(e.value)),e}}),y=i.Z.extend({name:"ProviderSettingCollection",context:["server","provider"],url:"/settings",model:v})},74275:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>o});var i=n(22618),r=n(88019),s=n(88707);const o=i.Z.extend({name:"MediaGrabberDeviceModel",context:["server"],rootPropertyName:"Device",idAttribute:"key",sessionAttrs:{isChannelsPending:r.Z.boolean,isChannelsPopulated:r.Z.boolean,channelsError:r.Z.object,selectedSource:r.Z.string,isSaving:r.Z.boolean,saveError:r.Z.object},syncedAttrs:{key:r.Z.integer,uuid:r.Z.string,parentID:r.Z.integer,uri:r.Z.string,protocol:r.Z.string,status:r.Z.string,state:r.Z.string,lastSeenAt:r.Z.integer,make:r.Z.string,model:r.Z.string,modelNumber:r.Z.string,source:r.Z.integer,sources:r.Z.list,title:r.Z.string,tuners:r.Z.integer,thumb:r.Z.string,unsupported:r.Z.boolean},syncedRelations:{prefs:{relationClass:s.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isChannelsPending:!1,isChannelsPopulated:!1,channelsError:null,isSaving:!1,saveError:null,unsupported:!1}})},63489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(49788),r=n(22618),s=n(88019),o=n(74275);const a=i.Z.extend({name:"MediaGrabberDeviceCollection",context:["server"],model:o.ZP,url:"/media/grabbers/devices"});var l=n(88707);const c=r.Z.extend({name:"DVRModel",context:["server"],rootPropertyName:"Dvr",idAttribute:"key",syncedAttrs:{key:s.Z.integer},sessionAttrs:{isSaving:s.Z.boolean,saveError:s.Z.object},syncedRelations:{devices:{relationClass:a,rootPropertyName:"Device"},prefs:{relationClass:l.Z,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isSaving:!1,saveError:null}}),d=i.Z.extend({name:"DVRCollection",context:["server"],model:c,url:"/livetv/dvrs"})},87023:(e,t,n)=>{"use strict";n.d(t,{Ls:()=>a,AV:()=>l,fL:()=>c});var i=n(13469),r=n.n(i),s=n(2932);function o(e,t){return t||(t={}),r().defaults(t,{typeName:e,parse:r().bind(s.Z.parseType,s.Z,e)})}const a=o("xml",{accept:"application/xml"}),l=o("json",{accept:"application/json"}),c=o("text")},96543:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(13469),r=n.n(i),s=n(49788),o=n(76580),a=n(22618),l=n(88019),c=n(87023);const d=a.Z.extend({name:"AgentAttributionModel",context:["server"],responseType:c.fL,syncedAttrs:{content:l.Z.string},url:function(){return"/system/agents/attribution?identifier="+this.parent.id},augmentResponse:function(e){return{content:e}}});var u=n(40688);const h=a.Z.extend({name:"LanguageModel",context:["server"],idAttribute:"code",rootPropertyName:"Language",syncedAttrs:{code:l.Z.string,title:l.Z.string,default:l.Z.boolean},derivedAttrs:{name:function(){return this.get("title")||(e=this.get("code"),u.ZP[e]||"");var e}}}),p=s.Z.extend({name:"LanguageCollection",context:["server"],model:h,comparator:"name"}),g=a.Z.extend({name:"AgentModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Agent",sessionAttrs:{isPrimary:l.Z.boolean,selected:l.Z.boolean},sessionRelations:{attribution:{relationClass:d}},syncedAttrs:{identifier:l.Z.string,name:l.Z.string,enabled:l.Z.boolean,hasPrefs:l.Z.boolean,order:l.Z.string},syncedRelations:{languages:{relationClass:p,rootPropertyName:"Language"}}}),m=s.Z.extend({name:"AgentCollection",context:["server","mediaTypeID","primaryAgentID","relatedAgentID"],model:g,cache:new o.Z,cacheKey:function(){var e;const t=r().result(this,"url");return null==(e=this.server)?void 0:e.getScopedKey(t)},url:function(){const e="/system/agents";return this.primaryAgentID?e+"/contributors?mediaType="+this.mediaTypeID+"&primaryAgent="+this.primaryAgentID:this.relatedAgentID?e+"/"+this.relatedAgentID+"/config/"+this.mediaTypeID:this.mediaTypeID?e+"?mediaType="+this.mediaTypeID:e},hasExclusiveAgent:function(e){return!!r().intersection(this.pluck("identifier"),e).length}})},9322:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),r=n.n(i),s=n(49788),o=n(80731),a=n(58182),l=n(59695);const c=(e,t)=>!e.get("relay")&&t.get("relay")?e:!t.get("relay")&&e.get("relay")||!e.get("isLoopback")&&t.get("isLoopback")?t:!t.get("isLoopback")&&e.get("isLoopback")?e:!e.get("isPrivate")&&t.get("isPrivate")?t:!t.get("isPrivate")&&e.get("isPrivate")?e:!e.get("isHttps")&&t.get("isHttps")?t:(!t.get("isHttps")&&e.get("isHttps"),e),d=s.Z.extend({name:"ConnectionCollection",context:["server"],model:l.Z,getBestConnection(){const e=o.Z.allowHttpsMediaServerConnections,t=!this.server||this.server.get("isCloud")||e,n=this.filter((e=>e.get("isConnected")&&(t||!e.get("isHttps"))));if(n.length)return r().reduce(n,c)},hasBetterConnectionCandidates(){const e=this.server&&this.server.get("activeConnection");return this.some((t=>{const n=t.get("isUntested")||t.get("isPending"),i=!e||t!==e&&c(t,e)===t;return n&&i}))},hasOnlyFailedConnections(){return this.every((e=>e.get("isFailed")))},hasFailedEveryDirectConnection(){return this.where({relay:!1}).every((e=>e.get("isFailed")))},hasMultiplePrivateV4Subnets(){let e;return this.some((t=>{const n=t.get("address");if(t.get("isPrivate")&&a.q1(n)){const t=a.iX(n);return e||(e=t),e!==t}}))}})},59695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(13469),r=n.n(i),s=n(22618),o=n(88019),a=n(49037),l=n(14710),c=n(58182),d=n(71065),u=n(49788);const h=s.Z.extend({name:"ConnectionSourceModel",context:["server"],sessionAttrs:{id:o.Z.string}}),p=u.Z.extend({name:"ConnectionSourceCollection",context:["server"],model:h}),g=o.Z.boolean.isRequired,m=s.Z.extend({name:"ConnectionModel",context:["server"],idAttribute:"uri",sessionAttrs:{currentTest:o.Z.custom((e=>Array.isArray(e)&&e.every((e=>r().isFunction(e.abort))))),testState:o.Z.oneOf(a.uf,a.hA,a.nm,a.WY,a.nZ,a.c9).isRequired,isBundled:g,isFallback:g},sessionRelations:{sources:{relationClass:p}},syncedAttrs:{uri:o.Z.string,scheme:o.Z.string,address:o.Z.string,port:o.Z.string,relay:o.Z.boolean},derivedAttrs:{isUntested(){return this.get("testState")===a.uf},isPending(){return this.get("testState")===a.hA},isConnected(){return this.get("testState")===a.nm},isUnauthorized(){return this.get("testState")===a.WY},isUnavailable(){return this.get("testState")===a.nZ},isFailed(){return this.get("isUnauthorized")||this.get("isUnavailable")},isAborted(){return this.get("testState")===a.c9},isLoopback(){const e=this.get("address");return"localhost"===e||c.lv(e)},isPrivate(){return this.get("isLoopback")||c.KF(this.get("address"))},isHttps(){return"https"===this.get("scheme")},isSecure(){return this.get("isLoopback")||this.get("isHttps")},isPlexDirect(){return/\.plex\.direct:/.test(this.get("uri"))}},defaults:{testState:a.uf,isBundled:!1,isFallback:!1,relay:!1},url(){return this.get("uri")},constructor:function(e,t){const n=r().clone(e);r().isObject(e)&&!e.uri&&((0,l.Z)(e.scheme&&e.address,`A server connection requires either a uri or a scheme and address. ${e.scheme}://${e.address}`),n.uri=`${e.scheme}://${e.address}`,e.port&&(n.uri+=":"+e.port)),s.Z.prototype.constructor.call(this,n,t)},initialize(){this.listenTo(this.get("sources"),"remove reset",this.onSourcesChange)},augmentResponse(e){const t=e.protocol;return t?r().extend({},e,{scheme:t}):e},getAddressFromUri(){return d.Z.parseUrl(this.get("uri")).hostname},getIpAddressFromPlexDirectAddress(){return function(e){if(/\.plex\.direct$/.test(e)){const t=e.indexOf(".");t>0&&(e=(e=e.substring(0,t)).replace(/-/g,"."))}return e}(this.get("address"))},getLoopbackAttributes(){return{scheme:"http",address:"127.0.0.1",port:this.get("port")}},hasSource(e){return this.get("sources").some((t=>e&&t.get("id")===e))},onSourcesChange(){this.get("sources").length||this.trigger("destroy",this,this.collection)}})},79087:(e,t,n)=>{"use strict";n.d(t,{GI:()=>l,xD:()=>c,Gu:()=>d,OM:()=>u,Q2:()=>h,uy:()=>p,uX:()=>g,HP:()=>m,ZP:()=>f});var i=n(22618),r=n(88019),s=n(87023),o=n(86076);const a="ok",l="unknown",c="waiting",d="mapped",u="ok",h="connecting",p="disconnecting",g="unreachable",m="",f=i.Z.extend({context:["server"],url:"/myplex/account",responseType:s.AV,sessionAttrs:{remoteAccessState:r.Z.oneOf(h,p,g,u,m)},syncedAttrs:{username:r.Z.string,mappingState:r.Z.oneOf(l,c,"failed",d),mappingError:r.Z.oneOf("badauth","unreachable","myplexgone","publisherror","doublenat","jumboframes",""),signInState:r.Z.oneOf("none","unknown","invalid",a),publicAddress:r.Z.string,publicPort:r.Z.integer,privateAddress:r.Z.string,privatePort:r.Z.integer,subscriptionActive:r.Z.boolean,subscriptionState:r.Z.string},derivedAttrs:{signedIn(){return this.get("signInState")===a},isWaiting(){const e=this.get("remoteAccessState");return e===h||e===p}},defaults:{signedIn:!1,mappingState:null,mappingError:null,signInState:null,publicAddress:null,publicPort:null,privateAddress:null,privatePort:null},isNew(){return!this.get("signedIn")},augmentResponse(e){let t=e.MyPlex;t||(o.Z.warn(`[Account] Failed to get reachable information for account - received ${JSON.stringify(e)}`),t={});const n=t.signInState===a;n||(t.username=null);const i=!n||t.mappingError,r=!i&&t.mappingState===d;return i?t.remoteAccessState=g:r&&(t.remoteAccessState=u),t}})},4141:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>se,Hq:()=>re,ZP:()=>le});var i=n(13469),r=n.n(i),s=n(28941),o=n(98984),a=n(81494),l=n(94566),c=n(22618),d=n(3305),u=n(88019),h=n(80731),p=n(68918),g=n(95584),m=n(34777),f=n(91487),v=n(71065),y=n(49788),b=n(19755),Z=n.n(b),S=n(21451),w=n(87023),P=n(61194),C=n(75050),x=n(4120),A=n(89703);const E=c.Z.extend({name:"PlaylistItemModel",context:["server","provider","playlist"],entityType:A.PLAYLIST_ITEM,entityID(e=this.state){return(0,x.Z)(this.entityType,e.playlistItemID||e.key,this.server.entityID())},idAttribute:"playlistItemID",syncedAttrs:{playlistItemID:u.Z.string,key:u.Z.string,type:u.Z.string},syncedRelations:{metadataItem:{relationClass:C.Z,deferred:!0}},augmentResponse:e=>({playlistItemID:e.playlistItemID,key:e.key,type:e.type,metadataItem:e})}),I=y.Z.extend({name:"PlaylistItemCollection",context:["server","provider","playlist"],model:E}),k=c.Z.extend({mixins:[m.Z],name:"PlaylistItemListModel",context:["server","provider","playlist","includeExternalMedia"],idAttribute:"key",collectionName:"metadataItems",url(){let e=this.getPaginatedUrl(this.get("containerKey"));return this.includeExternalMedia&&(e=v.Z.join(e,{includeExternalMedia:1})),e},sessionAttrs:{containerKey:u.Z.string,currentPageStart:u.Z.integer,currentPageSize:u.Z.integer,populatedRange:u.Z.object},syncedAttrs:{totalSize:u.Z.integer},syncedRelations:{metadataItems:{relationClass:I,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===w.Ls?(0,P.Z)(e):e}),T=c.Z.extend({name:"PlaylistModel",context:["server","containerKey"],idAttribute:"ratingKey",rootPropertyName:"Playlist",urlRoot:"/playlists",saveUrl(){return this.server.supports("truePlaylistsPath")?r().result(this,"url"):`/library/metadata/${this.id}`},sessionAttrs:{isPlaylist:u.Z.boolean,isLibraryItem:u.Z.boolean},syncedAttrs:{ratingKey:u.Z.string,key:u.Z.string,guid:u.Z.string,type:u.Z.string,playlistType:u.Z.string,title:u.Z.string,titleSort:u.Z.string,composite:u.Z.string,summary:u.Z.string,smart:u.Z.boolean,allowSync:u.Z.boolean,duration:u.Z.integer,durationInSeconds:u.Z.integer,leafCount:u.Z.integer,addedAt:u.Z.integer,updatedAt:u.Z.integer},sessionRelations:{children:{relationClass:k,attrs(e){const t={};return"audio"===e.playlistType&&(t.includeRelated=1),{containerKey:v.Z.join(["/playlists",e.ratingKey,"items"],t)}},options(){return{playlist:this}}}},defaults:{isPlaylist:!0,isLibraryItem:!0},findItem(e){return this.get("children").getCollection().findWhere({playlistItemID:e})},moveItem(e,t){if(void 0===e)return;const n=t?{after:t}:{},i=v.Z.join([r().result(this,"url"),"/items/",e,"/move"],n),s=r().extend(this.server.getXHROptions(i),{type:"PUT"}),o=Z().ajax(s),a=this.get("children").getCollection(),l=this.findItem(e);a.remove(l);const c=this.findItem(t),d=c?a.indexOf(c)+1:0;return a.add(l,{at:d}),o},removeItem(e){if(void 0===e)return;const t=v.Z.join([r().result(this,"url"),"/items/",e]),n=r().extend(this.server.getXHROptions(t),{type:"DELETE"}),i=Z().ajax(n);i.then((e=>{this.set(this.parse(e))}));const s=this.get("children").getCollection(),o=this.findItem(e);return s.remove(o),s.trigger("destroy",o,s),i},addContent(e,t){const n=this.isNew()?"POST":"PUT",i=[r().result(this,"url")],s={};this.isNew()?(s.type=this.get("playlistType"),s.title=this.get("title"),s.smart=this.get("smart")?1:0):i.push("/items"),e.get("playQueueID")?s.playQueueID=e.get("playQueueID"):s.uri=S.Z.uri(e,t);const o=v.Z.join(i,s),a=r().extend(e.server.getXHROptions(o),{type:n}),l=Z().ajax(a);return l.then((e=>{this.set(this.parse(e))})),l.promise()},isLibraryItem:(e,t)=>!0,isPlexMusicItem:()=>!1}),O=y.Z.extend({name:"PlaylistCollection",context:["server","containerKey"],model:T,url(){return this.containerKey}}),M=c.Z.extend({mixins:[m.Z],name:"PlaylistListModel",context:["server","section"],idAttribute:"key",collectionName:"playlists",responseType(){return(0,f.Z)(this.server)},url(){return this.getPaginatedUrl(r().result(this,"containerKey"))},containerKey(){const e=this.section.get("currentType"),t=this.section.get("currentSort"),n={type:15};return n.sort=t?t.id+":"+(t.get("direction")||"asc"):"titleSort:asc",e&&(n.playlistType=e),this.section.get("onlyDumb")&&(n.smart=0),v.Z.join("/playlists/all",n)},sessionAttrs:{isPlaylistList:u.Z.boolean,currentPageStart:u.Z.integer,currentPageSize:u.Z.integer,populatedRange:u.Z.object},syncedAttrs:{totalSize:u.Z.integer},syncedRelations:{playlists:{relationClass:O,rootPropertyName:"Playlist",options(e){return{containerKey:r().result(this,"containerKey")}},setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({isPlaylistList:!0,populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponse:e=>(e.Metadata&&(e.Playlist=e.Metadata,delete e.Metadata),e)}),R=p.Z.extend({name:"PlaylistsSectionModel",defaults(){return{pseudo:!0,currentType:0,sorts:new g.Z([],{section:this,server:this.server}),items:new M({},{section:this,server:this.server})}},url:()=>"/playlists"});var D=n(94928),_=n(35084),V=n(77982),L=n(95485),j=n(65228),N=n(48497),U=n(26120),F=n(14710),B=n(86076),z=n(67201),H=n(14398),q=n(9322),W=n(59695),$=n(7631),G=Object.defineProperty,K=Object.prototype.hasOwnProperty,X=Object.getOwnPropertySymbols,Q=Object.prototype.propertyIsEnumerable,J=(e,t,n)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y=(e,t)=>{for(var n in t||(t={}))K.call(t,n)&&J(e,n,t[n]);if(X)for(var n of X(t))Q.call(t,n)&&J(e,n,t[n]);return e};const ee={PENDING:"pending",CONNECTED:"connected",UNAVAILABLE:"unavailable",UNAUTHORIZED:"unauthorized"},te={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},ne={SECONDARY:"secondary"},ie=["camera_upload","content_filter","home","lyrics","music_videos","pass","premium_music_metadata","sync","trailers"],re="ok",se="none",oe=A.SERVER,ae=c.Z.extend({mixins:[_.Z],name:"ServerModel",entityType:oe,entityID(e=this.state){return function({machineIdentifier:e}){return(0,x.Z)(oe,e)}({machineIdentifier:e.machineIdentifier||this.cid})},idAttribute:"machineIdentifier",connectionTestTimeout:1e4,responseType(){return(0,f.Z)(this)},mergeStrategy:V.Z,cache:new N.Z,persistInCache:!0,sessionAttrs:{connectionTestResult:u.Z.oneOf(ee.PENDING,ee.CONNECTED,ee.UNAVAILABLE,ee.UNAUTHORIZED).isRequired,promiseState:u.Z.oneOf(te.PENDING,te.RESOLVED,te.REJECTED).isRequired,sections:u.Z.instanceOf(D.Z).isRequired,playlists:u.Z.instanceOf(R).isRequired,isShared:u.Z.boolean.isRequired,isBundled:u.Z.boolean.isRequired,isCloud:u.Z.boolean.isRequired,isMerged:u.Z.boolean.isRequired,isEmbedded:u.Z.boolean.isRequired,isInstallingServerUpdate:u.Z.boolean.isRequired,superToken:u.Z.string,accessToken:u.Z.string,sourceTitle:u.Z.string,publicAddressMatches:u.Z.boolean,httpsRequired:u.Z.boolean,presence:u.Z.boolean,home:u.Z.boolean,createdAt:u.Z.integer,lastSeenAt:u.Z.integer,ownerId:u.Z.integer,hasEventConnection:u.Z.boolean,serverClass:u.Z.oneOf(ne.SECONDARY),onlyXML:u.Z.boolean,isProvidersPending:u.Z.boolean.isRequired,isProvidersPopulated:u.Z.boolean.isRequired,providersError:u.Z.object},sessionRelations:{activeConnection:{relationClass:W.Z,deferred:!0},connections:{relationClass:q.Z,options(){return{server:this}}}},syncedRelations:{providers:{relationClass:L.Z,rootPropertyName:"MediaProvider",options(){return{server:this}}}},syncedAttrs:{machineIdentifier:u.Z.string,friendlyName:u.Z.string,startState:u.Z.string,version:u.Z.string,platform:u.Z.string,platformVersion:u.Z.string,sync:u.Z.boolean,backgroundProcessing:u.Z.boolean,multiuser:u.Z.boolean,transcoderLyrics:u.Z.boolean,myPlex:u.Z.boolean,myPlexMappingState:u.Z.string,myPlexSigninState:u.Z.oneOf(re,se,"invalid"),myPlexSubscription:u.Z.boolean,myPlexUsername:u.Z.string,transcoderPhoto:u.Z.boolean,transcoderAudio:u.Z.boolean,transcoderVideo:u.Z.boolean,transcoderVideoRemuxOnly:u.Z.boolean,transcoderSubtitles:u.Z.boolean,transcoderActiveVideoSessions:u.Z.integer,allowMediaDeletion:u.Z.boolean,allowChannelAccess:u.Z.boolean,allowSync:u.Z.boolean,diagnostics:u.Z.list,updater:u.Z.boolean,isDesktop:u.Z.boolean,photoAutoTag:u.Z.boolean,itemClusters:u.Z.boolean,updatedAt:u.Z.integer,countryCode:u.Z.string,ownerFeatures:u.Z.list,mediaProviders:u.Z.integer,maxUploadBitrate:u.Z.integer,maxUploadBitrateReason:u.Z.string,maxUploadBitrateReasonMessage:u.Z.string,streamingBrainABRVersion:u.Z.integer,livetv:u.Z.integer,audiobook:u.Z.boolean},derivedAttrs:{debugName(){const e=this.get("machineIdentifier"),t=this.get("connections"),n=1===t.length&&t.at(0).get("isLoopback");let i=this.get("friendlyName");return!i&&this.get("isBundled")?i="[Bundled]":!i&&n&&(i="[Loopback]"),i||(e?`[${e}]`:"[Anonymous]")},shortVersion(){return(0,z.Z)(this.get("version"))},isConnected(){return this.get("connectionTestResult")===ee.CONNECTED},isUnavailable(){return this.get("connectionTestResult")===ee.UNAVAILABLE},isUnauthorized(){return this.get("connectionTestResult")===ee.UNAUTHORIZED},isPending(){return this.get("promiseState")===te.PENDING},isPrivateConnection(){const e=this.get("activeConnection");return!(!e||!e.get("isPrivate"))},isResolved(){return this.get("promiseState")===te.RESOLVED},isRejected(){return this.get("promiseState")===te.REJECTED},isRelayed(){const e=this.get("activeConnection");return!(!e||!e.get("relay"))},isSecure(){const e=this.get("activeConnection");return!(!e||!e.get("isSecure"))},hasHttpsConnections(){return!!this.get("connections").findWhere({isHttps:!0})},hasFallbackConnections(){return!!this.get("connections").findWhere({isFallback:!0})},isMobileServer(){return this.get("serverClass")===ne.SECONDARY},isFullServer(){return!this.get("isCloud")&&!this.get("isMobileServer")&&!this.get("isEmbedded")},isFullOwnedServer(){return this.get("isFullServer")&&!this.get("isShared")},isPrimaryEligible(){return!(!h.Z.allowMobileServers&&this.get("isMobileServer")||!this.get("machineIdentifier")||this.get("isUnauthorized")||this.get("isCloud")||this.get("isEmbedded"))},isOutOfDate(){return!this.get("isMobileServer")&&!this.isVersionOrNewer("1.18.3")},isClaimed:function(){return this.get("isConnected")?this.get("myPlexSigninState")===re:void 0},hasManualConnection(){return this.get("connections").some((e=>e.get("sources").some((e=>/^manual/.test(e.id)))))},hasAdaptiveBitrate(){return this.get("streamingBrainABRVersion")>=3},shared(){return this.get("isShared")},bundled(){return this.get("isBundled")},cloud(){return this.get("isCloud")},merged(){return this.get("isMerged")},connected(){return this.get("connectionTestResult")===ee.PENDING?null:this.get("isConnected")},available(){return this.get("connectionTestResult")===ee.PENDING?null:!this.get("isUnavailable")},authorized(){return this.get("connectionTestResult")===ee.PENDING?null:this.get("isResolved")},relayed(){return this.get("isRelayed")}},defaults(){return{connectionTestResult:ee.PENDING,promiseState:te.PENDING,sections:new D.Z([],{server:this}),playlists:new R({},{server:this}),isShared:!1,isBundled:!1,isCloud:!1,isMerged:!1,isEmbedded:!1,isInstallingServerUpdate:!1,hasEventConnection:!1,sync:!1,backgroundProcessing:!1,allowChannelAccess:!1,updater:!0,ownerFeatures:[],audiobook:!1,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},url(e=this.get("activeConnection")){(0,F.Z)(e,"An active or manual connection is required for a server url");let t=r().result(e,"url");return/\/$/.test(t)||(t+="/"),t},initialize(){this._reset(),this.on("change:machineIdentifier",this.onMachineIdentifierChange,this),this.listenTo(this.get("connections"),{remove:this.onConnectionRemove,reset:this.onConnectionsReset})},uninitialize(){this.off("change:machineIdentifier",this.onMachineIdentifierChange,this),this.stopListening()},updateEntity(){if(!this.get("isMerged"))return c.Z.prototype.updateEntity.apply(this,arguments)},fetch(){return l.ZP.Model.prototype.fetch.apply(this,arguments)},resolveUrl(e,t={}){if((0,H.Z)(e))return e;let n;n=t.useRelativeUrl?this.get("isMobileServer")?`http://127.0.0.1:${this.getLoopbackPort()}/`:"":t.baseUrl||this.url(t.connection);const i=this.get("accessToken"),s=r().extend({},t.params);return t.appendHeaders&&r().defaults(s,this.getHeaders()),t.appendToken&&i&&(s["X-Plex-Token"]=i),v.Z.join([n,e],s)},getXHROptions(e,t={}){var n=t,{headers:i,baseUrl:s}=n,o=((e,t)=>{var n={};for(var i in e)K.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&X)for(var i of X(e))t.indexOf(i)<0&&Q.call(e,i)&&(n[i]=e[i]);return n})(n,["headers","baseUrl"]);return Y({url:this.resolveUrl(e,{baseUrl:s}),dataType:"text",headers:r().extend(this.getHeaders(),i),allowHeadersInUrl:!0,allowBlacklistedMethodHeaders:this.supports("allowBlacklistedMethodHeaders")},o)},getHeaders(){const e=o.Z.getInstance(),t=r().clone(e),n=this.get("accessToken");n&&(t["X-Plex-Token"]=n);const i=(0,s.DB)("settingFinder").find("language");return i&&(t["X-Plex-Language"]=i,t["Accept-Language"]=i),t},addConnection(e){e.sources||(e.sources=[{id:"internal"}]);const t=this.get("connections"),n=new W.Z(e),i=t.get(n.id);return i?(i.get("sources").set(e.sources,{remove:!1}),i):t.add(e)},hasSource(e){return this.get("connections").some((t=>t.hasSource(e)))},removeSource(e){const t=this.get("connections");let n=t.length-1;for(;n>=0;)t.at(n).get("sources").remove(e),n--},testAllConnections(){const e=this.get("connections");return(0,B.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName")),this._reset(),e.each((e=>{const t=!e.get("relay"),n=!e.get("isUntested");(t||n)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedConnections(){return this.get("connections").each((e=>{const t=!e.get("relay"),n=e.get("isUntested"),i=e.get("isAborted");t&&(n||i)&&this.testConnection(e)})),this.populatePromise},testOnlyUntestedRelayConnections(){return this.get("connections").each((e=>{const t=e.get("relay"),n=e.get("isUntested");t&&n&&this.testConnection(e)})),this.populatePromise},testConnection(e,t={}){return t.server=this,t.connection=e,this.get("promiseState")===te.REJECTED&&this._reset(),a.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortAllConnectionTests(){const e=this.get("connections");(0,B.Z)("[Connections] Aborting all pending connection tests for",this.get("debugName")),e.each((e=>{this.abortConnectionTest(e)}))},abortConnectionTest(e){const t={server:this,connection:e};a.Z.execute("abortServerConnectionTest",t)},populateIdentity(e){if(this._identityPromise)return this._identityPromise;const t=a.Z.execute("populateServerIdentity",{server:this,connection:e});return t.done((e=>{this.set("machineIdentifier",e)})),this._identityPromise=t,t},updateCacheKey(){const e=this.get("debugName"),t=this.cacheKey(this.attributes),n=this.cache.get(t);if(n){const i=n.get("debugName");B.Z.warn("[Identity] %s and %s (cached) collide",e,i),n.get("isConnected")||!this.get("isConnected")?((0,B.Z)("[Identity] Merging %s into %s (cached)",e,i),n.merge(this)):((0,B.Z)("[Identity] Merging %s (cached) into %s",i,e),this.merge(n),this.cache.store(this,t))}else this.cache.store(this,t)},merge(e){e.set("isMerged",!0),e.get("isBundled")&&this.set("isBundled",!0),e.get("connections").each((e=>{this.addConnection(e.toJSON())})),this.collection&&(this.collection.remove(e.cid,{silent:!0}),this.collection._byId[this.id]=this,this.collection.trigger("remove",e,this.collection),this.collection.trigger("update",this.collection)),this.cache.remove(e),h.Z.shouldCreateStateTree&&this.updateEntity()},hasOwnerFeature(e){if(this.supports("ownerFeatures")){const t=this.get("ownerFeatures");return!!(t&&t.indexOf(e)>-1)}return!!this.get("myPlexSubscription")&&ie.indexOf(e)>-1},supports(e){const t=this.get(e);if(r().isBoolean(t))return t;const n=$.Z[e];return null!=n&&this.isVersionOrNewer(n)},isVersionOrNewer(e){const t=this.get("shortVersion");return!e||!t||(0,U.Z)(t,e)},hasRegression(e){if(!e)return!1;const t=this.isVersionOrNewer(e.introduced),n=e.resolved&&this.isVersionOrNewer(e.resolved);return t&&!n},hasOtherLoopbackServer(){return!!this.collection&&this.collection.hasLoopbackServer()},getLoopbackPort(){const e=this.get("connections").findWhere({isPrivate:!0});return e?e.get("port"):"32400"},authenticate(e){this._resolve({accessToken:e})},deauthenticate(){this._reject({accessToken:null})},_reset(){this.startCapturingChangeEvents(),this.set("promiseState",te.PENDING),this._resetPopulate(),this.releaseCapturedChangeEvents()},_resolve(e){const t=r().extend({connectionTestResult:ee.CONNECTED,promiseState:te.RESOLVED},e);this.startCapturingChangeEvents(),this.set(t),h.Z.shouldCreateStateTree&&this.updateState(),this._resolvePopulate(),this.releaseCapturedChangeEvents()},_reject(e){const t=this.get("connections");t.hasOnlyFailedConnections()&&B.Z.warn("[Connections] All connections to %s failed",this.get("debugName"));const n=t.findWhere({isUnauthorized:!0})?ee.UNAUTHORIZED:ee.UNAVAILABLE,i=r().extend({connectionTestResult:n,promiseState:te.REJECTED},e);this.startCapturingChangeEvents(),this.set(i),this._rejectPopulate(),this.releaseCapturedChangeEvents()},_checkActiveConnection(){const e=this.get("activeConnection"),t=this.get("connections");if(e&&!t.contains(e)){const e=t.getBestConnection();e?this.set({activeConnection:e}):this.testAllConnections()}},onMachineIdentifierChange(e,t){this.collection?this.listenToOnce(this.collection,"change:machineIdentifier",(function(){this.updateCacheKey()})):this.updateCacheKey()},onConnectionRemove(e,t){t.length?this._checkActiveConnection():(this.trigger("change:connections.remove",e,t),this.trigger("change:connections.change",this,t),this.trigger("destroy",this,this.collection))},onConnectionsReset(e,t){e.length?this._checkActiveConnection():(this.trigger("change:connections.reset",e,t),this.trigger("change:connections.change",this,e),this.trigger("destroy",this,this.collection))},onConnectionTestSuccess(e,t){const n=this.get("connections").getBestConnection();if(n!==this.get("activeConnection")&&B.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),n.id),this._resolve(Y({activeConnection:n},t)),h.Z.allowLoopbackDiscovery){const e=this.get("connections"),t=this.get("activeConnection"),n=t.get("isPrivate"),i=!!e.findWhere({isLoopback:!0});!n||i||this.hasOtherLoopbackServer()||((0,B.Z)("[Connections] Adding possible loopback connection for",this.get("debugName")),this.addConnection(t.getLoopbackAttributes()))}},onConnectionTestError(e,t){if(e.get("isAborted"))return;const n=this.get("connections");!e.get("isHttps")||e.get("isUnauthorized")||e.get("relay")||(0,s.DB)("appStore").dispatch((0,j.zg)({serverEntityID:this.entityID(),address:e.get("address"),port:e.get("port")})),!this.id&&e.get("isUnauthorized")&&this.populateIdentity(e),n.hasOnlyFailedConnections()?this.id||!this._identityPromise?this._reject():this._identityPromise.always((()=>{n.hasOnlyFailedConnections()&&this._reject()})):n.hasFailedEveryDirectConnection()&&this.testOnlyUntestedRelayConnections()}},{connectionTestResults:ee,promiseStates:te,serverClasses:ne});(0,d.Z)(ae,(function(){return{relationClass:(0,s.DB)("ServerFlexModel"),options:{server:this}}}));const le=ae},2608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(49788),r=n(22618),s=n(88019),o=n(2932);const a="bool",l="enum";function c(e,t){switch(e){case"int":case l:return o.Z.parseInteger(t);case a:return o.Z.parseBoolean(t);default:return t}}const d=r.Z.extend({idAttribute:"id",url:"/:/prefs",context:["server"],sessionAttrs:{isSaving:s.Z.boolean},syncedAttrs:{id:s.Z.string,label:s.Z.string,default:s.Z.oneOfType(s.Z.integer,s.Z.string,s.Z.boolean,s.Z.array),summary:s.Z.string,value:{type:s.Z.oneOfType(s.Z.integer,s.Z.string,s.Z.boolean,s.Z.array),save:!0},type:s.Z.oneOf("int","text",a,l,"double"),group:s.Z.string,advanced:s.Z.boolean,option:s.Z.string,hidden:s.Z.boolean,enumValues:s.Z.array,values:s.Z.string},defaults:{isSaving:!1,type:"string",summary:"",label:"",group:""},augmentResponse(e){if(e.value=c(e.type,e.value),e.advanced=c(a,e.advanced),e.hidden=c(a,e.hidden),e.enumValues&&!Array.isArray(e.enumValues)&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,i=n]=t.split(":");return{label:i,value:c(e.type,n)}}))),e.type===l&&e.values&&!Array.isArray(e.values)){let t=0;e.enumValues=e.values.split("|").map((e=>({label:e,value:t++})))}return e},getSaveParams(e){const t=r.Z.prototype.getSaveParams.apply(this,arguments);return e&&!e.hasOwnProperty("value")?(Object.keys(t).forEach((t=>delete e[t])),t):{[this.get("id")]:t.value}}}),u=i.Z.extend({name:"ServerSettingCollection",context:["server"],url:"/:/prefs",model:d,augmentResponse:e=>e.Setting?(Array.isArray(e.Setting)?e.Setting:[e.Setting]).filter((e=>e.id)):[]})},7631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={playlistArtEditing:"1.24.5",gridPagination:"1.24.4",playlistPosterEditing:"1.23.5",v4DVRSetup:"1.22.2",gracenoteAttribution:"1.21.1",firstCharacterKeySortDirection:"1.20.4",pivotIDs:"1.20.4",freeLiveTVDVRSettings:"1.20.2",augmentedHubsInRelatedHubs:"1.19.5",simpleRelatedKey:"1.19.2",transientTokenProxy:"1.15.4",mediaProvidersServerRoot:"1.13.10",streamDisplayTitles:"1.13.8",bundledWebAppNewSettingsRoutes:"1.13.8",softSubtitlesWithDirectPlay:"1.13.4",truePlaylistsPath:"1.9.3",optimizeDatabaseActivity:"1.4.2",asyncCheckFiles:"1.4.0",json:"1.8.0",allowBlacklistedMethodHeaders:"1.2.1",decisionEndpoint:"1.0.3",defaultSections:"0.9.17.3",ownerFeatures:"0.9.17.0",replaceTranscodeTarget:"0.9.17.0",quickSearch:"0.9.16.0",relay:"0.9.15.0",claimServer:"0.9.14.2",searchSpecificType:"0.9.14.2",linkedYearMetadata:"0.9.14.0",streamReady:"0.9.14.0",syncOriginalQuality:"0.9.14.0",allPartsStreamSelection:"0.9.12.5",sharedChannels:"0.9.12.5",shortenTranscodeURL:"0.9.12.5",editSimilarArtists:"0.9.12.2",neuterRedirect:"0.9.12.0",audioAsVideo:"0.9.12.0",compositeDelete:"0.9.12.0",batchEdit:"0.9.12.0",premiumMusic:"0.9.12.0",transientToken:"0.9.12.0",softSubtitles:"0.9.12.0",sharedSyncStatus:"0.9.11.14",reachability:"0.9.11.14",photoPlayQueues:"0.9.11.12",publicNowPlaying:"0.9.11.3",labels:"0.9.11.2",updater:"0.9.11.1",playItemsBatchAdd:"0.9.9.16",playlists:"0.9.9.13",imageFilters:"0.9.9.13",hubFilterSigns:"0.9.9.12",cancelAllUpdates:"0.9.9.10",playQueues:"0.9.9.6",sectionSettings:"0.9.9.6",hubFilters:"0.9.9.2",streamingMKV:"0.9.9.16",chunkedHTTP:"0.9.9.3",sharedSync:"0.9.9.3",dash:"0.9.8.6",specificMediaDeletion:"0.9.7.23",sharedSettings:"0.9.7.23",syncNotifications:"0.9.7.23",universalMusicTranscoder:"0.9.8.3",universalTranscoder:"0.9.7.17",sync:"0.9.7.10",artworkUpload:"0.9.7.9",firstRunPref:"0.9.7.3",timelineState:"0.9.7.2",cleanBundles:"0.9.7.0",advancedFilters:"0.9.7.0",search:"0.9.7.0",merge:"0.9.7.0",splitApart:"0.9.7.0"}},88707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(49788),r=n(44035);const s=i.Z.extend({name:"MediaSettingCollection",context:["server","provider"],model:r.Z,getSaveParams(){return this.reduce(((e,t)=>(e[t.id]=t.get("value"),e)),{})}})},44035:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,Z:()=>l});var i=n(22618),r=n(88019),s=n(2932);const o={INT:"int",TEXT:"text",BOOL:"bool",DOUBLE:"double"};function a(e,t){switch(e){case o.INT:case o.ENUM:return s.Z.parseInteger(t);case o.BOOL:return s.Z.parseBoolean(t);case o.DOUBLE:return s.Z.parseFloat(t);default:return t}}const l=i.Z.extend({name:"MediaSettingModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Setting",syncedAttrs:{id:r.Z.string,advanced:r.Z.boolean,default:r.Z.oneOfType(r.Z.integer,r.Z.string,r.Z.boolean),hidden:r.Z.boolean,group:r.Z.string,label:r.Z.string,summary:r.Z.string,type:r.Z.oneOf(o.INT,o.TEXT,o.BOOL,o.ENUM,o.DOUBLE),value:r.Z.oneOfType(r.Z.integer,r.Z.float,r.Z.string,r.Z.boolean),min:r.Z.float,max:r.Z.float,step:r.Z.float,enumValues:r.Z.array},augmentResponse:e=>(e.default=a(e.type,e.default),e.value=a(e.type,e.value),e.enumValues&&(e.enumValues=e.enumValues.split("|").map((t=>{const[n,i=n]=t.split(":");return{label:decodeURIComponent(i),value:a(e.type,n)}}))),e),parseAndSetValue(e){this.set("value",a(this.get("type"),e))}})},62481:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,Z:()=>s});var i=n(88019);const r="experience",s={sessionAttrs:{isDirty:i.Z.boolean.isRequired,isSaving:i.Z.boolean.isRequired,saveError:i.Z.object},syncedAttrs:{updatedAt:i.Z.integer},defaults:{isDirty:!1,isSaving:!1,saveError:null}}},20165:(e,t,n)=>{"use strict";n.d(t,{CC:()=>ge,h9:()=>ne,bc:()=>le,EK:()=>ce,$e:()=>ie,c4:()=>re,n:()=>se,yB:()=>oe,_K:()=>he,im:()=>de,nL:()=>ue,I2:()=>te,T5:()=>ae,qO:()=>ee,xM:()=>pe});var i=n(13469),r=n.n(i),s=n(31977),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e},h=n(82590),p=n(86076),g=n(35922);let m,f,v=0,y=0;function b(e,t){return(0,g.Z)(e)?function(e,t){const n=e.possibleEntityContainers,i=n?n.length:0;for(let r=0;r<i;r++)if(b(e[n[r]],t))return!0;return!1}(e,t):Array.isArray(e)?function(e,t){for(let n=0,i=e.length;n<i;n++)if(b(e[n],t))return!0;return!1}(e,t):e===t}function Z(e,t){return e+1>=t?0:e+1}var S=n(98782),w=n(63542),P=n(71065),C=n(91856),x=n(91986),A=n(12359),E=Object.defineProperty,I=Object.prototype.hasOwnProperty,k=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&O(e,n,t[n]);if(k)for(var n of k(t))T.call(t,n)&&O(e,n,t[n]);return e};const R="app/setPrimaryServer",D="app/resetPrimaryServer",_="app/changePrimaryServer",V="app/garbageCollectEntities",L="app/navigate",j="app/navigateBack",N="app/navigateForward",U="app/navigateHome",F="app/navigateSearch",B="app/navigatePrePlay",z="app/saveDeviceSettings",H="app/discoverServers",q="app/dismissUnclaimedServer",W="app/redirectToRoute",$="app/redirectToUrl",G="app/toggleFullscreen",K="app/selectAudioDevice",X="app/updateAudioDevices",Q="app/populateCloudServer",J="app/updateNavigationHistory",Y="app/updateAvailable",ee=(0,s.Z)(R),te=(0,s.Z)(D),ne=(0,s.Z)(_),ie=(0,s.Z)(V),re=(0,s.Z)(L),se=(0,s.Z)(j),oe=((0,s.Z)(N),(0,s.Z)(U),(0,s.Z)(F),(0,s.Z)(B)),ae=(0,s.Z)(z),le=(0,s.Z)(H),ce=(0,s.Z)(q),de=(0,s.Z)(W),ue=(0,s.Z)($),he=((0,s.Z)(K),(0,s.Z)(X),(0,s.Z)(Q)),pe=(0,s.Z)(J),ge=((0,s.Z)(Y),(0,s.Z)(G,(e=>({isFullscreen:!0}))),(0,s.Z)(G,(e=>({isFullscreen:!1}))),{[V](e,t){(0,w.c9)();const n=function(e,t={}){const n=null!=t.budget?t.budget:16.666666666666668,i=window.performance.now(),r=e.entities,s=Object.keys(r),o=s.length,a={};n===1/0&&(v=0,y=0);const l=r[s[v]];for(m=v,f=Math.max(Math.min(y,Object.keys(l).length-1),0);v<o;){const t=s[v],l=r[t],c=Object.keys(l),d=c.length,u=Z(v,o);for(;y<d;){const r=c[y],s=Z(y,d);if(b(e,r)||(a[t]||(a[t]=[]),a[t].push(r)),u===m&&s===f)return v=u,y=s,a;if(window.performance.now()-i>=n)return v=u,y=s,a;y++}if(v=u,y=0,v===m&&y===f)return a}return a}(e.getState(),t),i=e.get("entities");for(const e in n){const t=n[e];i.get(e).remove(t)}t&&t.budget===1/0&&Object.keys(n).length&&(0,w.c9)()},[N](){},[U](){},[F](){},[z](e,t){var n,i;i=t,(n=e.get("deviceSettings")).save(u(u({},i),{isSaving:!0,saveError:null})).then((()=>{n.set({isSaving:!1})}),(e=>{const t=e&&e.message||"";n.set({isSaving:!1,saveError:{message:t}})}))},[H](e){h.Z.trigger("discover:servers")},[q](e,t,n){const{machineIdentifier:i}=t,r=e.get("deviceSettings").get("dismissedUnclaimedServers");r[i]||n(ae({dismissedUnclaimedServers:M(M({},r),{[i]:!0})}))},[R](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).then((t=>{e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}),(()=>{p.Z.warn("Unable to set primary server to:",n)}))},[D](e){e.set({primaryServer:null,isWaitingForPrimaryServer:!0})},[_](e,t){const{machineIdentifier:n}=t;e.get("servers").findServer(n).done((t=>{!t.get("isOutOfDate")&&t.get("isPrimaryEligible")&&e.get("primaryServer")!==t&&e.set({primaryServer:t,isWaitingForPrimaryServer:!1})}))},[L](e,t,n){const i=function(e,t=!0){let n="";return e&&("string"==typeof e.pathname?n=e.query?P.Z.join(e.pathname,e.query):e.pathname:"string"==typeof e&&(n=e)),n&&t&&0!==n.indexOf("#!")&&(n="#!"+n),n}(t);t.replace?window.location.replace(i):window.location.href=i},[B](e,t,n){const{key:i,replace:r}=t,s=(0,S.SW)(e,t),o=(0,S.js)(e,t),a=(0,A.Z)(s.toJSON(),o.toJSON(),i);a&&n(re({pathname:a,replace:r}))},[W](e,{route:t,params:n,replace:i}){r().defer((()=>{(0,x.Z)(t,n,i)}))},[$](e,{url:t,replace:n}){n?window.location.replace(t):window.location.href=t},[G](e,{isFullscreen:t}){e.get("isFullscreen")!==t&&e.set("isFullscreen",t)},[Y](e,{isUpdateAvailable:t}){e.get("isUpdateAvailable")!==t&&e.set("isUpdateAvailable",t)},[K](){},[X](){},[Q](e){e.get("cloudServer").populate()},[J](e,t){const{location:n}=t,i=e.get("history");i.length&&i[i.length-1].pathname===n.pathname&&i[i.length-1].search===n.search||e.set("history",[...i,{pathname:n.pathname,search:n.search}])},[j](e,{replace:t}={}){const n=e.get("history");if(n.length<2)e.set("history",[]),(0,x.Z)("home",{},t);else{const i=n.slice(0,n.length-1);e.set("history",i);const r=i[i.length-1];t?C.Z.replace(r):C.Z.push(r)}}})},31977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){return function(...n){const i="function"==typeof t?t(...n):n[0];return{type:e,payload:i}}}},9492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),n(14710),n(35922);const i=function(e){return e}},96138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(19755),r=n.n(i),s=(n(14710),n(4231)),o=n(80002),a=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};function p(e){const{key:t,getModel:n}=e;return function(e){const{key:t,getModel:n,onResolved:i,onRejected:r}=e,a=(0,s.Z)(t),l=`is${a}Pending`,c=`is${a}Populated`,d=t?`${t}Error`:"error";return(t,s={},a)=>{const u=n(t,s),h=(u.sessionAttrs,u.get(l));u.set(l,!0),e.fetch(t,s,a).then((()=>{u.set({[l]:!1,[c]:!0,[d]:null}),i&&i(u,t,s,a)}),(e=>{const n=e.aborting?{[l]:h}:{[l]:!1,[d]:(0,o.Z)(e)};u.set(n),r&&r(u,t,s,a)}))}}(h(h({},e),{fetch(e,i){const s=n(e,i),o=t?s.get(t):s;return o?o.fetch(i.options).then(null,((e,t)=>r().Deferred().reject(t).promise())):r().Deferred().reject({status:0}).promise()}}))}},69726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(14710);var i=n(4231);function r(e){const{key:t,fetchActionCreator:n,getModel:r}=e,s=`is${(0,i.Z)(t)}Populated`;return(e,t,i)=>{r(e,t).get(s)||i(n(t))}}},33752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(50361),r=n.n(i),s=n(75050),o=n(34738),a=n(98782),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e};function g(e,t){const n=(0,a.SW)(e,{serverEntityID:t.server.entityID}),i=(0,a.js)(e,{providerEntityID:t.provider.entityID});let l,c;t.itemServer&&(l=(0,a.SW)(e,{serverEntityID:t.itemServer.entityID})),t.itemProvider&&(c=(0,a.js)(e,{providerEntityID:t.itemProvider.entityID}));const d=r()(p(p({},t.metadataItem),t.metadataItemState));if(d.source){const{serverIdentifier:e,providerIdentifier:n}=(0,o.Z)(d.source);e===t.server.machineIdentifier&&n===t.provider.identifier&&delete d.source}const u=new s.Z(d,{server:n,provider:i,identifier:t.provider.identifier,parse:!0});null==u._populatedParams&&(u._populatedParams={});const h={includeExternalMedia:1};return d.preferences&&(h.includePreferences=1),d.extras&&(h.includeExtras=1),d.stations&&(h.includeStations=1),d.onDeck&&(h.includeOnDeck=1),d.popularLeaves&&(h.includePopularLeaves=1),d.Concert&&(h.includeConcerts=1),d.Chapter&&(h.includeChapters=1),Object.assign(u._populatedParams,h),{serverModel:n,providerModel:i,itemServerModel:l,itemProviderModel:c,metadataItemModel:u}}},25859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(80731);const r=function(e){return i.Z.shouldRequestHTMLFromCloudProvider,"plain"}},71790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(19755),r=n.n(i),s=n(28941),o=n(39620),a=n(71065),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e};function g(e,t){const{libraryID:n,libraryType:i,cancel:l,force:c,allowMetrics:d,metricsProperties:u={}}=t,h=c?{force:1}:void 0,g=a.Z.join(["/library/sections",n,"refresh"],h),m=e.getXHROptions(g,{type:l?"DELETE":"GET"});if(d){let e;e=l?o.fV:c?o.uz:o.i0,(0,s.DB)("metrics").trackClick(p(p({},u),{action:e,type:"all"===n?"all":i}))}return r().ajax(m).promise()}},21392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e.get("ui").get("authCodeExchange")}},72250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(19755),r=n.n(i);const s=function(e){const t=e.get("cloudServer");return r().ajax(t.getXHROptions("/api/v2/pins",{method:"POST",dataType:"json",data:{strong:!0}})).then((e=>e))}},15084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(2932);const r=function(e){const t=e&&e.responseJSON,n=!t&&e&&e.responseText&&i.Z.parseXML(e.responseText),r=t&&t.errors||n&&n.error;return r?Array.isArray(r)?r:[r]:[]}},19738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i,r,s=n(13469),o=n.n(s),a=n(21235);function l(e,t){switch(t){case i.Subscription:switch(e){case"1003":return(0,a.Z)("Subscriptions have been temporarily disabled: too many failed attempts. Please try again later.")}break;case i.SendRecoveryCode:switch(e){case"1001":return(0,a.Z)("User could not be authenticated.");case"1003":return(0,a.Z)("A temporary recovery code has already been sent recently. Please try again later.");case"1028":return(0,a.Z)("Invalid recovery code")}}switch(e){case"1001":return(0,a.Z)("The username or password is incorrect");case"1003":return(0,a.Z)("Sign in has been temporarily disabled: too many failed attempts. Please try again later.");case"1004":return(0,a.Z)("Authentication failed. Please try again later.");case"1010-login":return(0,a.Z)("Login is required");case"1010-password":return(0,a.Z)("Password is required");case"1010-email":return(0,a.Z)("Email is required");case"1011-username":return(0,a.Z)("Username has already been taken");case"1011-email":return(0,a.Z)("Email has already been taken");case"1028":return(0,a.Z)("Invalid verification code");case"1029":return(0,a.Z)("Please enter the verification code");case"1030":return(0,a.Z)("This account only allows signing in with an email address");case"1031":return(0,a.Z)("The username or password is incorrect. Repeated attempts may temporarily disable sign in.");case"1032-password":return(0,a.Z)("Password must be at least 8 characters");case"1033-password":return(0,a.Z)("Password is too weak");case"1034-password":return(0,a.Z)("Password must be different from username or email address");case"1035-email":return(0,a.Z)("Email is not a valid email address");case"1036-username":return(0,a.Z)("Username must not be an email address");case"1037-username":return(0,a.Z)("Username contains invalid characters");case"1038-pin":return(0,a.Z)("Pin must be 4 digits");case"1039-passwordConfirmation":return(0,a.Z)("Confirm Password must match Password");case"1040":case"1044":return(0,a.Z)("Invalid Password")}}function c(e,t){const n=e&&e[0];return n?o().isObject(n)?function(e,t){if(!e)return;const n=String(e.code);return l(`${e.code}-${e.field}`,t)||l(n,t)||e.message||(0,a.Z)("An unknown error occurred")}(n,t):n:(0,a.Z)("There was a problem signing in to Plex.")}(r=i||(i={})).Subscription="subscription",r.SendRecoveryCode="sendRecoveryCode"},62334:(e,t,n)=>{"use strict";n.d(t,{Zu:()=>z,dB:()=>H,RG:()=>q,t9:()=>W,Oj:()=>$,nP:()=>G,mp:()=>K,CM:()=>X,e0:()=>Q,ay:()=>J,wQ:()=>ie});var i=n(19755),r=n.n(i),s=n(28941),o=n(31977),a=n(96138),l=n(69726),c=n(71790),d=n(65228),u=n(4545),h=n(34510),p=n(37517),g=n(39620),m=n(54676),f=n(22220),v=n(35785),y=n(11172),b=n(82590),Z=n(79154),S=n(98782),w=n(21235),P=n(50958),C=n(71065),x=n(24729),A=Object.defineProperty,E=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,k=Object.prototype.propertyIsEnumerable,T=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))E.call(t,n)&&T(e,n,t[n]);if(I)for(var n of I(t))k.call(t,n)&&T(e,n,t[n]);return e};const M="provider/fetchCloudProviders",R="provider/populateCloudProviders",D="providers/fetchProvider",_="providers/populateProvider",V="provider/scanLibraryFiles",L="provider/editLibrary",j="provider/analyzeLibrary",N="provider/emptyLibraryTrash",U="provider/deleteLibrary",F="provider/upgradeLibrary",B=(0,o.Z)(M),z=(0,o.Z)(R),H=(0,o.Z)(D,(e=>{const{options:t={}}=e;return O(O({},e),{options:O(O({},t),{allowHeadersInUrl:!1})})})),q=(0,o.Z)(_),W=(0,o.Z)(V),$=(0,o.Z)(L),G=(0,o.Z)(N),K=(0,o.Z)(j),X=(0,o.Z)(U),Q=(0,o.Z)(F),J=(0,o.Z)(V,(e=>O(O({},e),{force:!0})));function Y(e){const t=e.get("key");return e.get("id")||t.substr(t.lastIndexOf("/")+1)}function ee(e,t){const n=(0,S.js)(e,t).get("features").get(v.Z.CONTENT),i={};return t.contentDirectory.key&&(i.key=t.contentDirectory.key),t.contentDirectory.hubKey&&(i.hubKey=t.contentDirectory.hubKey),n.get("directories").findWhere(i)}function te(e,t){const n=e.get("features").get(v.Z.CONTENT).get("key");let i;return i=n?C.Z.join([n,t.get("id")]):t.get("key"),i}function ne(e,t){e(d.lm({serverEntityID:t})),e(d.tU({serverEntityID:t})),e((0,u.jR)({serverEntityID:t}))}(0,o.Z)(V,(e=>O(O({},e),{cancel:!0})));const ie={[M]:(0,a.Z)({key:"providers",getModel:S.VX}),[R]:(0,l.Z)({key:"providers",fetchActionCreator:B,getModel:S.VX}),[D]:(0,a.Z)({getModel:S.js}),[_]:(0,l.Z)({getModel:S.js,fetchActionCreator:H}),[V](e,t,n){const{cancel:i,force:r,metricsPage:s}=t,o=(0,S.SW)(e,t),a=ee(e,t),l={libraryID:Y(a),libraryType:a.get("type"),cancel:i,force:r,allowMetrics:!!s,metricsProperties:{page:s}};a.set("refreshing",!i),(0,c.Z)(o,l).fail((e=>{let t;t=i?(0,w.Z)("There was an unexpected error canceling the scan."):r?503===e.status?(0,w.Z)("An internet connection is required to refresh library metadata. Please check this server's connection and try again."):(0,w.Z)("There was an unexpected error refreshing library metadata."):503===e.status?(0,w.Z)("An internet connection is required to scan library files. Please check this server's connection and try again."):(0,w.Z)("There was an unexpected error scanning library files."),n((0,u.wp)(t))})).always((e=>{n(d.Vk({serverEntityID:t.serverEntityID}))}))},[L](e,t){const n=(0,S.SW)(e,t),i=n.get("desktop").get("libraries"),r=ee(e,t);i.fetch().then((()=>{const e=Y(r),o=i.get(e);b.Z.trigger("show:modal",new x.Z({server:n,model:o})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:g.Yf,type:o.get("type"),context:m.Y3})}))},[N](e,t,n){const i=(0,S.SW)(e,t),o=(0,S.js)(e,t),a=ee(e,t),l=te(o,a),c=C.Z.join([l,"emptyTrash"]),d=i.getXHROptions(c,{type:"PUT"});r().ajax(d).done((()=>{n((0,u.wp)({type:p.M,message:(0,w.Z)("The trash was emptied.")}))})).fail((e=>{n((0,u.wp)((0,w.Z)("There was a problem emptying the trash.")))})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:g.yZ,type:a.get("type"),context:m.Y3})},[j](e,t,n){const i=(0,S.SW)(e,t),o=(0,S.js)(e,t),a=ee(e,t),l=te(o,a),c=C.Z.join([l,"analyze"]),d=i.getXHROptions(c,{type:"PUT"});r().ajax(d).fail((e=>{n((0,u.wp)((0,w.Z)("There was a problem analyzing the library.")))})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:g.JM,type:a.get("type"),context:m.Y3})},[U](e,t,n){const i=(0,S.SW)(e,t),o=(0,S.js)(e,t),a=ee(e,t),l=te(o,a),c=C.Z.join(l,{async:1}),d=i.getXHROptions(c,{type:"DELETE"});o.get("features").get(v.Z.CONTENT).get("directories").remove(a),r().ajax(d).fail((()=>{ne(n,t.serverEntityID),n((0,u.wp)((0,w.Z)("There was a problem deleting the library.")))})),(0,s.DB)("metrics").trackClick({page:t.metricsPage,action:g.b1,type:a.get("type"),context:m.Y3})},[F](e,t,n){const i=(0,S.SW)(e,t),s=(0,S.js)(e,t),o=ee(e,t),a=o.get("type");let l;l=a===P.wR?{agent:h.WX,scanner:y.Lx}:a===P.R0?{agent:h.Ut,scanner:y.c3}:{agent:h.Zb,scanner:y.QQ};const c=te(s,o),p=C.Z.join(c,l),g=i.getXHROptions(p,{type:"PUT"}),m=r().ajax(g).then((()=>{ne(n,t.serverEntityID)}),(()=>{n((0,u.wp)((0,w.Z)("There was a problem upgrading the library.")))}));t.options.refreshMetadata&&m.then((()=>{n(d.iE({serverEntityID:t.serverEntityID,cancel:!1,force:!0,metricsPage:f.xC}))}))},[d.Cs](e,t,n){t.activity.type===Z.y0&&ne(n,t.serverEntityID)}}},97658:(e,t,n)=>{"use strict";n.d(t,{SP:()=>I,r8:()=>R,HM:()=>O,Fi:()=>k,rg:()=>T});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941),l=n(20165),c=n(31977),d=n(4141),u=n(2932);var h=n(42466),p=n(71065);const g=function(e,t,n,i){const s=e.get("user"),o=e.get("cloudServer");return s.get("anonymous")?r().Deferred().reject().promise():r().ajax(o.getXHROptions("/api/claim/token",{headers:{"X-Plex-Token":n}})).promise().then((e=>u.Z.parseXML(e).token)).then((e=>r().ajax(t.getXHROptions(p.Z.join("/myplex/claim",{token:e}),{type:"POST"})))).then((()=>function(e,t){const n=e.get("cloudServer").get("resources"),i={clientIdentifier:t.get("machineIdentifier")};return function(e,t={}){let n=Math.floor(Math.max(t.times||0,0));const i=Math.floor(Math.max(t.delay||0,0));t.cancel&&t.cancel.always((()=>{n=-1}));const s=r().Deferred();let o;return t.maxDuration&&(o=window.setTimeout((()=>{s.reject("maxDuration")}),t.maxDuration)),function t(){n<0||e().done((function(){o&&window.clearTimeout(o),s.resolve(...arguments)})).fail((function(){n-=1,n<0?(o&&window.clearTimeout(o),s.reject(...arguments)):"pending"===s.state()&&window.setTimeout(t,i)}))}(),s.promise()}((()=>n.fetch().then((()=>n.findWhere(i)?r().Deferred().resolve().promise():r().Deferred().reject().promise()))),{times:30,delay:1e3})}(e,t))).then((()=>{let e;return(0,h.Z)(t)&&(e=t.getXHROptions("/media/providers")),t.fetch(e)})).then((()=>function(e,t,n){const i=r().Deferred();return e.get("primaryServer")===t?i.resolve():(e.once("change:primaryServer",i.resolve),n()),function(e,t){const n=r().Deferred(),i=window.setTimeout((()=>{n.reject()}),t);return e.then(n.resolve,n.reject).always((()=>{window.clearTimeout(i)})),n.promise()}(i.promise(),2e3)}(e,t,i))).then((()=>{const e=s.get("email"),n=t.get("desktop").get("cloudAccount");t.set({myPlexSigninState:d.Hq,myPlexUsername:e}),n.set({signedIn:!0,username:e})}))};var m=n(21392);var f=n(72250),v=n(15084),y=n(19738),b=n(54676),Z=n(59140),S=n(82590),w=n(98782),P=n(21235);const C="server/claim/claimServer",x="server/claim/signInThenClaimServer",A="server/claim/signOutServer",E="server/claim/createPIN",I=(0,c.Z)(C),k=(0,c.Z)(x),T=(0,c.Z)(A),O=(0,c.Z)(E);function M(e,t,n){const{authToken:i}=t,r=(0,w.SW)(e,t),s=(0,m.Z)(e);s.set({errorMessage:null,isBusy:!0});const o=(0,a.DB)("metrics");return g(e,r,i,(()=>{n((0,l.h9)({machineIdentifier:r.id,metricsProperties:{context:b.L6}}))})).done((()=>{o.trackEvent({event:Z.Yg,interaction:!0})})).fail((()=>{o.trackEvent({event:Z.Jk,interaction:!1}),s.set({errorMessage:(0,P.Z)("There was a problem claiming this server."),isBusy:!1})}))}const R={[C](e,t,n){M(e,t,n).then((()=>{(0,m.Z)(e).set({errorMessage:null,isBusy:!1})}))},[x](e,t,n){(function(e,t){const n=e.get("user"),{authToken:i}=t;return r().ajax(n.server.getXHROptions(o().result(n,"url"),{headers:{"X-Plex-Token":i}})).then((e=>n.signIn(e,{})))})(e,t).then((()=>M(e,t,n))).then((()=>{(0,m.Z)(e).set({errorMessage:null,isBusy:!1})})).fail((t=>{const n=(0,v.Z)(t);S.Z.trigger("show:alert",{message:(0,y.Z)(n)}),(0,m.Z)(e).set({errorMessage:(0,P.Z)("There was a problem claiming this server."),isBusy:!1})}))},[A](e,t,n){const i=(0,w.SW)(e,t).get("desktop").get("cloudAccount"),r=(0,m.Z)(e);var s;r.set({errorMessage:null,isBusy:!0}),(s=i,s.destroy({timeout:0}).promise().done((()=>{s.server.set({accessToken:void 0,myPlexSigninState:d.Ar,myPlexSubscription:!1}),s.restoreDefaults()}))).done((()=>{r.set({errorMessage:null,isBusy:!1})})).fail((()=>{r.set({errorMessage:(0,P.Z)("There was a problem signing the server out."),isBusy:!1})}))},[E](e,t,n){const i=(0,f.Z)(e),r=(0,m.Z)(e);i.then((e=>{r.set({pinID:e.id,code:e.code,isBusy:!0})})),i.fail((()=>{r.set({fatalErrorMessage:(0,P.Z)("An error occurred"),isBusy:!1})}))}}},65228:(e,t,n)=>{"use strict";n.d(t,{Cs:()=>ae,zg:()=>Me,Wy:()=>$e,JZ:()=>Ke,zl:()=>et,ll:()=>Qe,J3:()=>Oe,Af:()=>Je,Hz:()=>Ye,LW:()=>Ne,f4:()=>je,tU:()=>Fe,lm:()=>Ue,uq:()=>_e,Q6:()=>Xe,R_:()=>He,gj:()=>Be,o1:()=>We,Iy:()=>it,TV:()=>Re,iE:()=>Ge,Vk:()=>Te,UU:()=>De,m7:()=>qe});var i,r,s=n(19755),o=n.n(s),a=n(13469),l=n.n(a),c=n(28941),d=n(74275),u=n(4141),h=n(20165),p=n(31977),g=n(96138),m=n(69726),f=n(33752),v=n(71790),y=n(4545),b=n(39953),Z=n(37517),S=n(39620),w=n(54676);(r=i||(i={})).Relay="relay",r.Upsell="upsell",r.LibraryUpgrade="libraryUpgrade";const P=i;var C=n(82590),x=n(79154),A=n(86076),E=n(80731),I=n(44560),k=n(49521);var T=n(98782),O=n(63542),M=n(21235),R=n(71065),D=n(37131),_=n(57076),V=n(231),L=n.n(V);const j={success:!0,error:!0,notify:!0},N=_.Z.ItemView.extend({className:"alert-bar",template:L(),events:{"click .close-btn":"onCloseClick"},initialize:function(e){const t=e.alert;if(this.alert=t,t){const e=t.type;e&&j[e]&&this.$el.addClass(e)}},hide:function(){C.Z.trigger("hide:bar","alertbar")},serializeData:function(){return this.alert},onCloseClick:function(e){e.preventDefault(),this.hide()}});var U=n(7496),F=n(86190),B=n.n(F);const z=N.extend({className:"alert-bar notify",template:B(),events:l().extend({"click .setup-link":"onSetupClick"},N.prototype.events),serializeData(){return{model:this.model.get("model"),make:this.model.get("make"),dvrSettingsRoute:(0,U.Z)(this.options.machineIdentifier,"manage","dvr")}},disableDevice(){const e=(0,c.DB)("appStore"),t=this.options.serverEntityID;t&&e.dispatch((0,D._w)({serverEntityID:t,deviceID:this.model.id,enabled:!1}))},onSetupClick(){this.hide(),this.disableDevice()},onCloseClick(e){N.prototype.onCloseClick.apply(this,arguments),this.disableDevice()}});var H=n(24729),q=n(32846),W=n(9739),$=n.n(W);const G=q.Z.extend({template:$(),events:l().extend({"click .learn-more":"onLearnMoreClick"},q.Z.prototype.events),onRender:function(){q.Z.prototype.onRender.apply(this,arguments),(0,c.DB)("metrics").trackView({page:"relayNotification",mode:"modal",action:S.GP},{interaction:!1})},onHide(){q.Z.prototype.onHide.apply(this,arguments),(0,c.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:S.GP})},onLearnMoreClick(){(0,c.DB)("metrics").trackClick({page:"relayNotification",mode:"modal",action:S.yq})},serializeData(){return{serverName:this.options.serverName,escapedServerName:l().escape(this.options.serverName)}}});var K=Object.defineProperty,X=Object.prototype.hasOwnProperty,Q=Object.getOwnPropertySymbols,J=Object.prototype.propertyIsEnumerable,Y=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t)=>{for(var n in t||(t={}))X.call(t,n)&&Y(e,n,t[n]);if(Q)for(var n of Q(t))J.call(t,n)&&Y(e,n,t[n]);return e};const te="server/testServer",ne="server/testServers",ie="server/confirmRelayConnection",re="server/addHttpFallbackConnection",se="server/startActivity",oe="server/updateActivity",ae="server/finishActivity",le="server/startSyntheticActivity",ce="server/finishSyntheticActivity",de="server/eventConnectionOpen",ue="server/eventConnectionClose",he="server/fetchProviders",pe="server/populateProviders",ge="server/fetchLibraries",me="server/populateLibraries",fe="server/redispatchLegacyServerAction",ve="server/fetchSettings",ye="server/populateSettings",be="server/updateSetting",Ze="server/saveSetting",Se="server/addLibrary",we="server/startLibrariesRefresh",Pe="server/allowHttpFallback",Ce="server/optimizeDatabase",xe="server/cleanBundles",Ae="server/emptyTrash",Ee="server/deleteServer",Ie="server/discoverMediaGrabberDevice",ke="server/populateHasiTunes",Te=(0,p.Z)(te),Oe=((0,p.Z)(ne),(0,p.Z)(ie)),Me=(0,p.Z)(re),Re=(0,p.Z)(se),De=(0,p.Z)(oe),_e=(0,p.Z)(ae),Ve=(0,p.Z)(le),Le=(0,p.Z)(ce),je=(0,p.Z)(de),Ne=(0,p.Z)(ue),Ue=(0,p.Z)(he),Fe=((0,p.Z)(pe),(0,p.Z)(ge)),Be=((0,p.Z)(me),(0,p.Z)(fe)),ze=(0,p.Z)(ve),He=(0,p.Z)(ye),qe=(0,p.Z)(be),We=(0,p.Z)(Ze),$e=(0,p.Z)(Se),Ge=(0,p.Z)(we),Ke=(0,p.Z)(Pe),Xe=(0,p.Z)(Ce),Qe=(0,p.Z)(xe),Je=((0,p.Z)(Ae),(0,p.Z)(Ee)),Ye=(0,p.Z)(Ie),et=((0,p.Z)(ke),(0,p.Z)(we,(e=>ee(ee({},e),{cancel:!0}))));function tt(e,t){(0,c.DB)("metrics").trackClick({page:t,action:e,context:w.cN})}function nt(e,t){const n=(0,T.SW)(e,t),i=(0,T.Y7)(e,t).get("settings").get(t.setting.id);if(i){const e=i.parse(t.setting);i.set("value",e.value),"FriendlyName"===e.id&&e.value?n.set("friendlyName",e.value):"allowMediaDeletion"===e.id&&n.set("allowMediaDeletion",e.value)}}const it={[te](e,t){const n=(0,T.SW)(e,t);C.Z.trigger("test:server",n)},[ne](){C.Z.trigger("test:servers")},[se](e,t,n){const i=(0,T.Y7)(e,t);if(!i)return;const r=t.activity;i.get("activities").add([r],{parse:!0}),r.synthetic||n(Le({serverEntityID:t.serverEntityID,activityType:r.type}))},[oe](e,t){const n=(0,T.Y7)(e,t);n&&n.get("activities").add([t.activity],{parse:!0,merge:!0})},[ae](e,t){const n=(0,T.Y7)(e,t);n&&n.get("activities").remove(t.activity.uuid)},[le](e,t,n){(0,O.c9)((()=>{const e={type:t.activityType,synthetic:!0,uuid:`${t.activityType}-${Date.now()}`};t.title&&(e.title=t.title),t.Context&&(e.Context=t.Context),n(Re({serverEntityID:t.serverEntityID,activity:e}))}))},[ce](e,t){const n=(0,T.Y7)(e,t);if(!n)return;const i=n.get("activities"),{activityType:r,Context:s,title:o}=t,a=i.findWhere((e=>e.get("type")===r&&!0===e.get("synthetic")&&(!o||e.get("title")===o)&&(!s||l().isEqual(e.get("Context"),s))));a&&i.remove(a)},[de](e,t){const n=(0,T.SW)(e,t),i=(0,T.Y7)(e,t);if(!n||!i)return;const r=i.get("activities");n.set("hasEventConnection",!0),r.fetch()},[ue](e,t){const n=(0,T.SW)(e,t);n&&n.set("hasEventConnection",!1)},[he]:(0,g.Z)({key:"providers",getModel:T.SW}),[pe]:(0,m.Z)({key:"providers",fetchActionCreator:Ue,getModel:T.SW}),[ge]:(0,g.Z)({key:"libraries",getModel:T.Y7}),[me]:(0,m.Z)({key:"libraries",fetchActionCreator:Fe,getModel:T.Y7}),[fe](e,t,n){const{serverModel:i,providerModel:r}=(0,f.Z)(e,t),s=t.legacyAction.type,o=t.legacyAction.payload;n({type:s,payload:ee(ee({},o),{serverEntityID:i.entityID(),providerEntityID:r.entityID()})})},[ve]:(0,g.Z)({key:"settings",getModel:T.Y7}),[ye]:(0,m.Z)({key:"settings",fetchActionCreator:ze,getModel:T.Y7}),[be](e,t){nt(e,t)},[Ze](e,t){const n=(0,T.Y7)(e,t).get("settings").get(t.setting.id);(0,O.c9)((()=>n.set({isSaving:!0}))),nt(e,t),n.save().then((()=>n.set({isSaving:!1})),(()=>n.set({isSaving:!1})))},[ie](e,{machineIdentifier:t,serverName:n},i){const r=e.get("user").get("experienceSettings").get("reminders"),s=`${P.Relay}::${t}`,o=r.get(s);if(o&&!((a=o.get("remindAfter"))&&"string"==typeof a&&Date.now()>=new Date(a).getTime()))return;var a;const l=new G({serverName:n});C.Z.trigger("show:modal",l),i((0,b.JY)({id:s}))},[re](e,t){const n=(0,T.SW)(e,t),i=e.get("user").get("experienceSettings").get("allowHttpFallback");!function(e,t,n,i){if(function(e,t){if(!e.get("isFullServer"))return!1;if(k.Z.isHostedHttps&&!E.Z.allowMixedContent)return!1;const n=t===I.Z.ALWAYS,i=t===I.Z.SAME_NETWORK;return!!(n||i&&e.get("publicAddressMatches"))}(e,i)){const i=e.addConnection({scheme:"http",address:t,port:n,isFallback:!0});(0,A.Z)("[Connections] Added insecure fallback connection for %s at %s",e.get("debugName"),i.id)}else A.Z.warn("[Connections] Prevented fallback to insecure connection for",e.get("debugName"))}(n,t.address,t.port,i)},[Se](e,t){const n=(0,T.SW)(e,t),{options:i={}}=t,r=new H.Z(ee({server:n,redirect:!1!==t.redirect},i));C.Z.trigger("show:modal",r),tt(S.wl,t.metricsPage)},[we](e,t,n){const{cancel:i,force:r,metricsPage:s}=t,o=(0,T.SW)(e,t),a={serverModel:o,libraryID:"all",cancel:i,force:r,allowMetrics:!!s,metricsProperties:{page:s}};t.cancel&&(0,T.Y7)(e,t).get("libraries").each((e=>e.set("refreshing",!1))),(0,v.Z)(o,a).fail((()=>{const e=t.cancel?(0,M.Z)("There was a problem canceling the update."):(0,M.Z)("There was a problem updating libraries.");n((0,y.wp)(e))})).always((()=>{n(Fe({serverEntityID:t.serverEntityID}))}))},[Pe](e,t,n){n((0,b.LN)({allowHttpFallback:t.allowHttpFallback})),n(Te({serverEntityID:t.serverEntityID}))},[Ce](e,t,n){const i=(0,T.SW)(e,t),r=(0,T.Y7)(e,t),s=i.supports("optimizeDatabaseActivity"),a=R.Z.join("/library/optimize",s?{async:1}:{}),l=i.getXHROptions(a,{type:"PUT"});n(Ve({serverEntityID:t.serverEntityID,activityType:x.nJ})),r.set({optimizeDatabaseError:null}),o().ajax(l).done((()=>{s||n(Le({serverEntityID:t.serverEntityID,activityType:x.nJ}))})).fail((()=>{r.set({optimizeDatabaseError:(0,M.Z)("There was a problem optimizing the database.")}),n(Le({serverEntityID:t.serverEntityID,activityType:x.nJ})),t.hideAlerts||n((0,y.wp)((0,M.Z)("There was a problem optimizing the database.")))})),tt(S.nJ,t.metricsPage)},[xe](e,t,n){const i=(0,T.SW)(e,t),r=(0,T.Y7)(e,t),s=R.Z.join("/library/clean/bundles",{async:1}),a=i.getXHROptions(s,{type:"PUT"});n(Ve({serverEntityID:t.serverEntityID,activityType:x.zL})),r.set({cleanBundlesError:null}),o().ajax(a).fail((()=>{r.set({cleanBundlesError:(0,M.Z)("There was a problem removing unused bundles.")}),n(Le({serverEntityID:t.serverEntityID,activityType:x.zL})),t.hideAlerts||n((0,y.wp)((0,M.Z)("There was a problem removing unused bundles.")))})),tt(S.zL,t.metricsPage)},[Ae](e,t,n){const i=(0,T.SW)(e,t),r=(0,T.Y7)(e,t).get("libraries");(t.libraryID?o().Deferred().resolve([t.libraryID]).promise():r.populate().then((()=>r.map((({id:e})=>e))))).then((e=>{const t=e.map((e=>o().ajax(i.getXHROptions(`/library/sections/${e}/emptyTrash`,{type:"PUT"}))));return o().when(...t)})).then((()=>{n((0,y.wp)({type:Z.M,message:(0,M.Z)("The trash was emptied.")}))}),(e=>{n((0,y.wp)((0,M.Z)("There was a problem emptying the trash.")))})),tt(S.yZ,t.metricsPage)},[Ee](e,t,n){const i=(0,T.SW)(e,t),r=e.get("cloudServer");if(!i)return;if(r.get("isResolved")){const e=r.getXHROptions(`/api/servers/${i.id}`,{type:"DELETE"});o().ajax(e)}const s=r.get("resources").get(i.id);s&&s.trigger("destroy",s,s.collection),i.get("isFullOwnedServer")&&i.get("isConnected")?i.get("desktop").get("cloudAccount").destroy().done((()=>{i.set({myPlexSigninState:u.Ar,myPlexSubscription:!1})})).always((()=>{n(Te({serverEntityID:t.serverEntityID})),i.populate().fail((function(){i.trigger("destroy",i,i.collection),n((0,h.im)({route:"home"}))}))})):(i.trigger("destroy",i,i.collection),n((0,h.im)({route:"home"}))),tt(S.FR,t.metricsPage)},[Ie](e,t){const n=(0,T.SW)(e,t),i=e.get("ui").get("dvrSettingsUI"),r=t.device;if(i.get("isUIPopulated"))return;const s=new z({model:new d.ZP(r,{parse:!0}),serverEntityID:t.serverEntityID,machineIdentifier:n.get("machineIdentifier")});C.Z.trigger("show:bar","alertbar",s)},[ke](e,t){const n=(0,T.SW)(e,t),i=(0,T.Y7)(e,t);if(!i.get("isHasiTunesPopulated")){const e=R.Z.join("/music/iTunes"),t=n.getXHROptions(e);o().ajax(t).done((()=>{i.set({hasiTunes:!0,isHasiTunesPopulated:!0})})).fail((()=>{i.set({hasiTunes:!1,isHasiTunesPopulated:!0})}))}}}},40728:(e,t,n)=>{"use strict";n.d(t,{Tz:()=>I,xf:()=>k,xx:()=>T,Or:()=>O,wR:()=>M,KH:()=>R});var i=n(19755),r=n.n(i),s=n(20165),o=n(31977),a=n(49112),l=n(82590),c=n(98782),d=n(21235),u=n(71065),h=n(32846),p=Object.defineProperty,g=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&v(e,n,t[n]);if(m)for(var n of m(t))f.call(t,n)&&v(e,n,t[n]);return e};const b="serverUpdate/fetchServerUpdateStatus",Z="serverUpdate/checkForServerUpdate",S="serverUpdate/dismissServerUpdate",w="serverUpdate/downloadServerUpdate",P="serverUpdate/installServerUpdate";function C(e,t){const{download:n,initialState:i,isChecking:s=!0}=t,o={download:n?"1":"0"},l=u.Z.join("/updater/check",o),c=e.getXHROptions(l,{type:"PUT"}),d=e.get("desktop").get("update"),h={isChecking:s};null!=i&&(h.state=i),d.set(h),r().ajax(c).then(null,(()=>{d.set({isChecking:!1,state:a.ERROR})}))}function x(e,t){const n=u.Z.join(["/updater/apply"],t),i=e.getXHROptions(n,{type:"PUT"});return r().ajax(i)}function A(e){const t=e.get("desktop").get("update");x(e).then((()=>{t.set("state",a.INSTALLING),e.set("isInstallingServerUpdate",!0)}),(()=>{t.set("state",a.ERROR),e.set("isInstallingServerUpdate",!1)}))}function E(e,t,n,i){const r=e.get("deviceSettings").get("dismissedServerUpdateVersions");t((0,s.T5)({dismissedServerUpdateVersions:y(y({},r),{[n.get("machineIdentifier")]:i})}))}const I=(0,o.Z)(b),k=(0,o.Z)(Z),T=(0,o.Z)(S),O=(0,o.Z)(w),M=(0,o.Z)(P),R={[b](e,t){const n=(0,c.SW)(e,t),i=(0,c.Y7)(e,t).get("update");n.get("isFullOwnedServer")&&n.get("updater")&&!n.get("isOutOfDate")&&!i.get("isChecking")&&(i.set({isChecking:!0}),i.fetch().then((()=>{const e=i.get("state"),t=e===a.DONE||e===a.ERROR||e===a.NONE;C(n,{isChecking:t})}),(()=>{i.set({isChecking:!1})})))},[Z](e,t){const{download:n,initialState:i}=t;C((0,c.SW)(e,t),{download:n,initialState:i})},[S](e,t,n){const i=(0,c.SW)(e,t);(0,c.Y7)(e,t).get("update").get("canInstall")?x(i,{skip:1}).then((()=>{n(I(t))}),(()=>{E(e,n,i,t.version)})):E(e,n,i,t.version)},[w](e,t){C((0,c.SW)(e,t),{download:!0,initialState:a.DOWNLOADING})},[P](e,t){const n=(0,c.SW)(e,t);if(n.get("activeConnection").get("isLoopback"))A(n);else{const e=new h.Z({title:(0,d.Z)("Remote Installation"),confirmLabel:(0,d.Z)("Continue"),cancelLabel:(0,d.Z)("Cancel"),message:(0,d.Z)("The installer may display dialogs that require input. Make sure you have desktop access to the computer running Plex Media Server before continuing.")});l.Z.trigger("show:modal",e),e.promise.then((()=>A(n)))}}}},36023:(e,t,n)=>{"use strict";n.d(t,{Sn:()=>f,_S:()=>v,oP:()=>y,fh:()=>b,Pv:()=>Z,N$:()=>P});var i=n(19755),r=n.n(i),s=n(63489),o=n(31977),a=n(9492),l=n(96138),c=n(98782),d=n(71065);const u="ui/dvrSettings/initDVRSettingsUI",h="ui/dvrSettings/clearDVRSettingsUI",p="ui/dvrSettings/fetchDVRs",g="ui/dvrSettings/reloadGuide",m="ui/dvrSettings/cancelReloadGuide",f=(0,o.Z)(u),v=(0,o.Z)(h),y=(0,o.Z)(p),b=(0,o.Z)(g),Z=(0,o.Z)(m);function S(e){return e.get("ui").get("dvrSettingsUI")}function w(e,t,n){const i=(0,c.SW)(e,t),s=d.Z.join(["/livetv/dvrs",t.dvrID,"reloadGuide"]),o=i.getXHROptions(s,{method:n});r().ajax(o)}const P=(0,a.Z)({[p]:(0,l.Z)({key:"dvrs",getModel:S}),[u](e,t,n){const i=S(e),r=i.get("dvr"),o=(0,c.SW)(e,t),a=o.get("machineIdentifier"),l={isUIPopulated:!0};r&&r.server.get("machineIdentifier")===a||(l.dvrs=new s.Z([],{server:o})),i.set(l),(o.hasOwnerFeature("dvr")||o.hasOwnerFeature("livetv"))&&n(y(t))},[h](e){S(e).set("isUIPopulated",!1)},[g](e,t,n){w(e,t,"POST")},[m](e,t,n){w(e,t,"DELETE")}})},37131:(e,t,n)=>{"use strict";n.d(t,{q9:()=>f,JA:()=>v,T5:()=>y,Ao:()=>b,ds:()=>Z,_w:()=>S,on:()=>x});var i=n(19755),r=n.n(i),s=n(31977),o=n(9492),a=n(98782),l=n(71065),c=n(80002);const d="SAVE_DVR_SETTINGS",u="CLEAR_DVR_SETTINGS_SAVE_ERROR",h="SAVE_DEVICE_SETTINGS",p="SAVE_DEVICE_TITLE",g="CLEAR_DEVICE_SETTINGS_SAVE_ERROR",m="SET_DVR_DEVICE_ENABLED",f=(0,s.Z)(d),v=(0,s.Z)(u),y=(0,s.Z)(h),b=(0,s.Z)(p),Z=(0,s.Z)(g),S=(0,s.Z)(m);function w(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function P(e,t){return function(e){return e.get("ui").get("dvrSettingsUI").get("dvrs")}(e).get(t.dvrID)}function C(e,t){const n=w(e),i=t.deviceID;if(t.dvrID&&i){const n=P(e,t).get("devices").get(i);if(n)return n}if(i){const e=n.get("devices").get(i);if(e)return e}return n.get("selectedDevice")}const x=(0,o.Z)({[d](e,t){const n=(0,a.SW)(e,t),i=P(e,t),s=t.prefs,o=l.Z.join(["/livetv/dvrs",t.dvrID,"prefs"],s);i.set("isSaving",!0);const d=n.getXHROptions(o,{type:"PUT"}),u=r().ajax(d);u.done((()=>{const e=i.get("prefs");Object.keys(s).forEach((t=>{e.get(t).set("value",s[t])})),i.set({isSaving:!1,saveError:null})})),u.fail((e=>{i.set({isSaving:!1,saveError:(0,c.Z)(e)})}))},[u](e,t){P(e,t).set("saveError",null)},[h](e,t){const n=(0,a.SW)(e,t),i=C(e,t),s=t.prefs,o=l.Z.join(["/media/grabbers/devices",t.deviceID,"prefs"],s);i.set("isSaving",!0);const d=n.getXHROptions(o,{type:"PUT"}),u=r().ajax(d);u.done((()=>{const e=i.get("prefs");Object.keys(s).forEach((t=>{e.get(t).set("value",s[t])})),i.set({isSaving:!1,saveError:null})})),u.fail((e=>{i.set({isSaving:!1,saveError:(0,c.Z)(e)})}))},[p](e,t){const{title:n}=t,i=(0,a.SW)(e,t),s=C(e,t),o=l.Z.join(["/media/grabbers/devices",t.deviceID],{title:n,enabled:1}),c=i.getXHROptions(o,{type:"PUT"});r().ajax(c).then((()=>{s.set("title",n)}))},[g](e,t){C(e,t).set("saveError",null)},[m](e,t){const n=(0,a.SW)(e,t),i=t.enabled,s=l.Z.join(["/media/grabbers/devices",t.deviceID],{enabled:i?1:0}),o=n.getXHROptions(s,{type:"PUT"});r().ajax(o).promise().done((()=>{if(w(e)){const n=C(e,t);n&&n.set("status",i?"enabled":"disabled")}}))}})},33045:(e,t,n)=>{"use strict";n.d(t,{a$:()=>M,zc:()=>k,yT:()=>T,Dg:()=>O,V7:()=>_,ZP:()=>G,KC:()=>N,qz:()=>V,J6:()=>R,v_:()=>D,$:()=>j,QF:()=>L});var i=n(42699),r=n(313),s=n(31977),o=n(9492),a=n(12274);function l(e,t,n){if(!t)return null;const i=new Date(t);if(!(0,a.Z)(i))return-1;const r=i.getTime();let s,o=0,l=e.length-1;for(;o<=l;){s=Math.floor((o+l)/2);const t=e[s],i=e[s+1],a=new Date(t.time).getTime();if(!i)return r>a?s:s+1;if(r===a)return n<s?s:s+1;const c=new Date(i.time).getTime();if(r>a&&r<c)return s+1;r>a?o=s+1:r<a&&(l=s-1)}return Math.max(0,s)}var c=n(56514);function d(e){return(0,c.Z)(e,"MMM dd, yyyy HH:mm:ss.SSS",new Date)}var u=n(95180),h=Object.defineProperty,p=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&f(e,n,t[n]);if(g)for(var n of g(t))m.call(t,n)&&f(e,n,t[n]);return e};const y="ui/serverLogPageActions/changeTextFilter",b="ui/serverLogPageActions/changeTimeFilter",Z="ui/serverLogPageActions/clearFilter",S="ui/serverLogPageActions/addLogLine",w="ui/serverLogPageActions/resetLogLevels",P="ui/serverLogPageActions/toggleLogLevel",C="ui/serverLogPageActions/clearLog",x="ui/serverLogPageActions/loadLogfile",A="ui/serverLogPageActions/toggleTimeFilter",E="ui/serverLogPageActions/toggleRaw",I="ui/serverLogPageActions/highlightLine",k=(0,s.Z)(y),T=(0,s.Z)(b),O=(0,s.Z)(Z),M=(0,s.Z)(S),R=(0,s.Z)(w),D=(0,s.Z)(P),_=(0,s.Z)(C),V=(0,s.Z)(x),L=(0,s.Z)(A),j=(0,s.Z)(E),N=(0,s.Z)(I);function U(e,t,n){return t.all||(t.all=[]),e.index=t.all.length,z(e,{filter:n.get("filter"),timeFilterStart:n.get("timeFilterStart"),timeFilterEnd:n.get("timeFilterEnd"),logLevels:n.get("logLevels")})?t.filtered&&t.filtered.push(e):t.filtered||(t.filtered=t.all.slice(0)),t.all.push(e),t}function F(e){return e.get("ui").get("serverLogPage")}function B(e){return e.split(/\s+/).map((e=>new RegExp((0,u.Z)(e),"i")))}function z(e,t){const{filter:n,timeFilterStart:s,timeFilterStartIndex:o,timeFilterEnd:a,timeFilterEndIndex:l,logLevels:c}=t;if(c.length&&-1===c.indexOf(e.level))return!1;if(s||null!=o||a||null!=l){let t,n,c;if(null!=o&&null!=l||(t=d(e.time),null==o&&(n=s&&d(s)),null==l&&(c=a&&d(a))),null!=o&&o>e.index||null!=l&&l<e.index||n&&(0,i.Z)(n,t)||c&&(0,r.Z)(c,t))return!1}return!n||(t.regexps||B(n)).every((t=>t.test(e.message)||t.test(e.thread)))}function H(e){const t=e.get("filter"),n=e.get("timeFilterStart"),i=e.get("timeFilterEnd"),r=e.get("logLevels"),s=e._unfilteredLogLines,o=l(s,n,-1/0),a=l(s,i,1/0),c=function(e,t){const n=B(t.filter);return e.filter((e=>z(e,v(v({},t),{regexps:n}))))}(s,{logLevels:r,filter:t,timeFilterStart:n,timeFilterStartIndex:-1===o?null:o,timeFilterEndIndex:-1===a?null:a,timeFilterEnd:i});e.set({logLines:c,unfilteredLogLinesCount:s.length,isTimeFilterStartValid:-1!==o,isTimeFilterEndValid:-1!==a})}const q=/^([^[]+)\[([^\]]+)]\s+([^\s]+)\s+-\s+(.*)/,W={ERROR:0,WARN:1,INFO:2,DEBUG:3,VERBOSE:4};function $(e){if(!e)return null;const t=e.match(q),[,n,i,r,s]=t;return{time:n.trim(),thread:i.trim(),level:W[r],message:s.trim()}}const G=(0,o.Z)({[S](e,t){const{message:n}=t,i=F(e);i._unfilteredLogLines||(i._unfilteredLogLines=[]);const r=i.get("logLines").length!==i._unfilteredLogLines.length,s=r?i.get("logLines"):null,o=r?s.length:null,a=U(n,{all:i._unfilteredLogLines.slice(0),filtered:s},i);a.filtered&&a.filtered.length!==o&&(a.filtered=a.filtered.slice(0)),i._unfilteredLogLines=a.all,i.set({unfilteredLogLinesCount:a.all.length,logLines:a.filtered||a.all})},[y](e,t){const n=F(e),{filter:i}=t;n.set({filter:i}),H(n)},[b](e,t){const n=F(e),{timeFilterStart:i,timeFilterEnd:r}=t;n.set({showTimeFilter:!(!i&&!r),timeFilterStart:i,timeFilterEnd:r}),H(n)},[Z](e){const t=F(e);t.set({filter:"",timeFilterStart:"",timeFilterEnd:"",logLevels:[]}),H(t)},[w](e){const t=F(e);t.set({logLevels:[]}),H(t)},[P](e,t){const n=F(e),i=n.get("logLevels"),r=i.slice(0),s=i.indexOf(t.logLevel);-1===s?r.push(t.logLevel):r.splice(s,1),n.set({logLevels:r}),H(n)},[C](e){const t=F(e);t.set({logLines:[],unfilteredLogLinesCount:0,highlightedLineIndex:null,showRawText:!1}),t._unfilteredLogLines=[]},[x](e,t){const{result:n}=t,i=F(e);let r={all:[]};i.set({logLines:[],unfilteredLogLinesCount:0});try{n.split(/\n+/).map($).forEach((e=>{e&&(r=U(e,r,i))})),i._unfilteredLogLines=r.all,i.set({unfilteredLogLinesCount:r.all.length,logLines:r.filtered||r.all})}catch(e){}},[A](e){const t=F(e),n=t.get("showTimeFilter");t.set({timeFilterStart:"",timeFilterEnd:"",showTimeFilter:!n}),H(t)},[E](e){const t=F(e);t.set("showRawText",!t.get("showRawText"))},[I](e,t){F(e).set("highlightedLineIndex",t.index)}})},4545:(e,t,n)=>{"use strict";n.d(t,{jR:()=>a,wp:()=>l,J0:()=>c});var i=n(31977),r=n(37517),s=n(82590);const o="ui/showAlert",a=(0,i.Z)("ui/repopulatePage"),l=(0,i.Z)(o,(e=>"string"==typeof e?{type:r.p,message:e}:e)),c={[o](e,t){s.Z.trigger("show:alert",t)}}},58390:(e,t,n)=>{"use strict";n.d(t,{gK:()=>C,W$:()=>Z,fJ:()=>y,Ty:()=>v,tD:()=>b,WW:()=>w,FN:()=>S});var i=n(19755),r=n.n(i),s=n(31977),o=n(21392);const a=function(e,t){const n=e.get("cloudServer");return r().ajax(n.getXHROptions(`/api/v2/pins/${t}`,{dataType:"json"})).promise().then((e=>e))};var l=n(21235);var c=n(72250),d=n(63542);const u="user/authCodeExchange/readStoredPIN",h="user/authCodeExchange/preloadPIN",p="user/authCodeExchange/resetAuthCodeExchange",g="user/authCodeExchange/beginPolling",m="user/authCodeExchange/stopPolling",f="user/authCodeExchange/skipSignIn",v=(0,s.Z)(u),y=(0,s.Z)(h),b=(0,s.Z)(p),Z=(0,s.Z)(g),S=(0,s.Z)(m),w=(0,s.Z)(f);function P(e,t){const n=(0,o.Z)(e);return n.set({isBusy:!0}),(0,c.Z)(e).then((({id:e,code:i,expiresIn:r})=>{const s=window.setTimeout((()=>{t(S())}),1e3*r);n.set({code:i,pinID:e,pinTimeout:s,isBusy:!1})})).fail((()=>{n.set({fatalErrorMessage:(0,l.Z)("An error occurred"),isBusy:!1})}))}const C={[p](e,t,n){const i=(0,o.Z)(e);(0,d.c9)((()=>{i.set({code:null,pinID:null,authToken:null,errorMessage:null})}))},[u](e,t,n){const i=(0,o.Z)(e),s=i.get("pinIDInitial"),c=(s?r().Deferred().resolve(s).promise():r().Deferred().reject().promise()).then((()=>a(e,s).fail((()=>{i.set({errorMessage:(0,l.Z)("There was an error signing in")})})))).then((({authToken:e})=>e?r().Deferred().resolve(e).promise():(i.set({errorMessage:(0,l.Z)("There was an error signing in")}),r().Deferred().reject().promise()))).then((e=>{i.set({authToken:e})}));t.shouldCreatePIN&&c.fail((()=>P(e,n)))},[h](e,t,n){(0,o.Z)(e).set({isBusy:!0,code:null,pinID:null}),P(e,n)},[g]:function(e,t,n){const{pinID:i}=t,r=(0,o.Z)(e);function s(){const t=r.get("pinID");i===t&&a(e,i).then((({authToken:e})=>{e?r.set({authToken:e}):c()})).fail((e=>{r.set({code:null,pinID:null,isBusy:!1,fatalErrorMessage:e&&404===e.status?null:(0,l.Z)("An error occurred")})}))}function c(){window.setTimeout(s,2e3)}c()},[m](e,t,n){const i=(0,o.Z)(e),r=i.get("pinTimeout");r&&window.clearTimeout(r),i.set({pinID:null,pinTimeout:null,code:null})},[f](e,t,n){e.set({skipSignIn:!0})}}},39953:(e,t,n)=>{"use strict";n.d(t,{ZQ:()=>N,BT:()=>z,Bl:()=>j,$Q:()=>_,LN:()=>V,JY:()=>B,Xe:()=>F,Z$:()=>U,Kq:()=>$});var i=n(19755),r=n.n(i),s=n(80731),o=n(62481),a=n(31977),l=n(96138),c=n(69726),d=n(77349);const u=[7,30,60,90];function h(e=0){return(0,d.Z)(Date.now(),u[e]||180)}var p=n(98782),g=n(21235),m=n(71065),f=n(97102),v=Object.defineProperty,y=Object.prototype.hasOwnProperty,b=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&S(e,n,t[n]);if(b)for(var n of b(t))Z.call(t,n)&&S(e,n,t[n]);return e};const P="user/fetchUserFeatures",C="user/populateUserFeatures",x="user/saveExperienceSettings",A="user/fetchAllFriends",E="user/populateAllFriends",I="user/fetchPlans",k="user/saveSetting",T="user/syncSettings",O="user/syncExperienceSettings",M="user/setReminder",R="user/fetch",D=(0,a.Z)(P),_=(0,a.Z)(C),V=(0,a.Z)(x),L=(0,a.Z)(A),j=(0,a.Z)(E),N=(0,a.Z)(I),U=((0,a.Z)(k),(0,a.Z)(T)),F=(0,a.Z)(O),B=(0,a.Z)(M),z=(0,a.Z)(R);function H(e,t){if(!e.get("isSignedIn")||!s.Z.allowSyncSettings)return r().Deferred().resolve().promise();const n=Array.isArray(t)?t:[t],i=m.Z.join("/api/v2/user/settings",{sharedSettings:(0,f.Z)(e)?1:0}),o=e.server.getXHROptions(i,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({value:JSON.stringify(n)})});return r().ajax(o).promise()}function q(e,t){if(!e)return null;const n=e.find((e=>e.id===t));return n&&n.updatedAt}function W(e){return e.get("user")}const $={[P]:(0,l.Z)({key:"features",getModel:p.VX}),[C]:(0,c.Z)({key:"features",fetchActionCreator:D,getModel:p.VX}),[A]:(0,l.Z)({key:"allFriends",getModel:W}),[E]:(0,c.Z)({key:"allFriends",fetchActionCreator:L,getModel:W}),[I]:(0,l.Z)({key:"plans",getModel:p.bg}),[k](e,t,n){e.get("user").get("settings").get(t.id).set({value:t.value,isDirty:!0}),n(U([t.id]))},[T](e,t){const n=e.get("user"),i=n.get("settings");H(n,t.map((e=>i.get(e).toJSON({syncedOnly:!0})))).then((e=>{t.forEach((t=>{const n=i.get(t),r=q(e,t);r&&n.set({updatedAt:r,isDirty:!1})}))}))},[x](e,t,n){e.get("user").get("experienceSettings").set(w(w({},t),{isDirty:!0})),n(F())},[O](e){const t=e.get("user"),n=t.get("experienceSettings"),i=n.toJSON({excluded:["updatedAt"],syncedOnly:!0,excludeDefaults:!0});n.set({isSaving:!0,saveError:null}),H(t,{id:o.U,type:"json",value:JSON.stringify(i),hidden:!0}).then((e=>{const t=q(e,o.U),i={isSaving:!1};t&&(i.updatedAt=t,i.isDirty=!1),n.set(i)}),(()=>{n.set({isSaving:!1,saveError:{message:(0,g.Z)("An error occurred while syncing settings")}})}))},[M](e,t,n){const i=e.get("user").get("experienceSettings"),{id:r,data:s,remindAfter:o}=t,a=i.get("reminders"),l=a.get(r),c=l?l.get("times")+1:0;a.add({data:s,id:r,times:c,remindAfter:(o||h(c)).toISOString()},{merge:!0}),n(V())},[R](e,t,n){e.get("user").fetch()}}},40271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),r=n(13469),s=n.n(r);const o=(0,i.wN)(i.PW,s().isEqual)},72059:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(98956);const s=(0,i.wN)(i.PW,r.Z)},59634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(27957);function s(){return(0,i.P1)(((e,{providerEntityID:t})=>t),r.Z,((e,t)=>t[e]))}},27957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(63457);const s=(0,i.P1)(r.Z,(e=>e.providers))},40738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(22222),r=n(40271),s=n(35785);function o(e){return e?{entityID:e.entityID,id:e.id,parentID:e.parentID,identifier:e.identifier,metricsIdentifier:e.metricsIdentifier,isLibraryProvider:e.isLibraryProvider,isPopulated:!!e.isPopulated,epgSource:e.epgSource,title:e.title,sourceTitle:e.sourceTitle,protocols:e.protocols.reduce(((e,t)=>(e[t]=!0,e)),{}),features:e.features.reduce(((e,t)=>{let n=t;if(t.type===s.Z.ACTIONS){let e={type:s.Z.ACTIONS};e=t.actions.reduce(((e,t)=>(e[t.id]=t,e)),e),n=e}return e[t.type]=n,e}),{})}:null}const a={};function l(e,{providerEntityID:t}){let n=a[t];return n||(n=(0,r.Z)((0,i.P1)(((e,t)=>e.entities.providers[t]),o),(e=>e)),a[t]=n),n(e,t)}},63457:(e,t,n)=>{"use strict";function i(e){return e.entities}n.d(t,{Z:()=>i})},47397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(53621);function s(){return(0,i.P1)((0,r.Z)(),(e=>e&&e.desktop))}},25787:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(53621);function s(){return(0,i.P1)((0,r.Z)(),(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>{var n;if(!e)return 0;const i=t[e.machineIdentifier],r=null==i?void 0:i.sessionKeys;return null!=(n=null==r?void 0:r.length)?n:0}))}},53621:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(1990);function s(){return(0,i.P1)(((e,{serverEntityID:t})=>t),r.Z,((e,t)=>t[e]))}},1990:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(63457);const s=(0,i.P1)(r.Z,(e=>e.servers))},66307:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(1990);const s=(0,i.P1)(r.Z,(e=>e.cloudServer),((e,t)=>e[t]))},46611:(e,t,n)=>{"use strict";function i(e){return e.embeddedServer}n.d(t,{Z:()=>i})},9306:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),r=n(40271),s=n(24533);const o=(0,r.Z)(s.Z,(e=>e.filter((e=>e.isPrimaryEligible)))),a=(0,i.P1)(o,(e=>e.reduce(((e,t)=>(t.isShared||t.isOutOfDate||e.push(t.entityID),e)),[])))},24533:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(1990);const s=(0,i.P1)(r.Z,(e=>e.servers),(e=>e.embeddedServer),((e,t,n)=>{const i=t?t.map((t=>e[t])):[];return n&&e[n]&&i.push(e[n]),i}))},57788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),r=n(72059);function s(e){return e?{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isCloud:e.isCloud,isShared:e.isShared,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}:null}const o={};function a(e,{serverEntityID:t}){let n=o[t];return n||(n=(0,r.Z)((0,i.P1)(((e,t)=>e.entities.servers[t]),s),(e=>e)),o[t]=n),n(e,t)}},33024:(e,t,n)=>{"use strict";function i(e){return e.deviceSettings}n.d(t,{Z:()=>i})},52366:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(40271),r=n(27957),s=n(1990),o=n(9306),a=n(22478),l=n(50958),c=n(36800);const d=(0,i.Z)(o.Z,s.Z,r.Z,((e,t,n)=>e.reduce(((e,i)=>{const r=t[i],s=(o=r.providers.map((e=>n[e])),d=[l.wR,l.nr,l.R0],o.reduce(((e,t)=>{const n=(0,c.Z)(t);return(n?n.directories:[]).filter((e=>e.type&&d.includes(e.type))).map((e=>[t.entityID,e])).forEach((t=>{e.push(t)})),e}),[])).map((([e,t])=>{const n=(0,a.Z)(r,t);return[e,t,n.hasPlexMusicUpgrade||n.hasPlexMovieUpgrade||n.hasPlexSeriesUpgrade]})).filter((([,,e])=>e));var o,d;return s.length>0&&s.forEach((([t,n])=>{e.push([r.machineIdentifier,i,t,n])})),e}),[])))},44553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),r=n(30271);const s={};function o(e){if(s[e])return s[e];const t=(0,i.P1)(r.Z,(t=>t[e]));return s[e]=t,t}},42456:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e.ui.authCodeExchange}},16916:(e,t,n)=>{"use strict";function i(e){return!!e.user.anonymous}n.d(t,{Z:()=>i})},30271:(e,t,n)=>{"use strict";function i(e){return e.user}n.d(t,{Z:()=>i})},87893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(30271);const s=(0,i.P1)(r.Z,(e=>e.experienceSettings))},78283:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),r=n(40446);var s=n(44553);const o=(0,i.P1)((0,s.Z)("features"),(e=>{return t=e||[],(0,r.Z)(t,(e=>e.uuid),(()=>!0));var t}))},80204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(87893);const s=(0,i.P1)(r.Z,(({language:e})=>e))},55327:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i);function s(){r().isFunction(this.initialize)&&this.initialize.apply(this,arguments)}s.extend=function(e,t){const n=this;let i;i=e&&r().has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)||null},r().extend(i,n,t);const s=function(){this.constructor=i};if(s.prototype=n.prototype,i.prototype=new s,e&&e.hasOwnProperty("mixins")){let t=e.mixins;delete e.mixins,Array.isArray(t)||(t=[t]),r().each(t,(function(e){r().extend(i.prototype,e)}))}return e&&r().extend(i.prototype,e),i.__super__=n.prototype,i};const o=s},40446:(e,t,n)=>{"use strict";function i(e,t,n){return e.reduce(((i,r,s)=>(i[t(r,s,e)]=n(r,s,e),i)),{})}n.d(t,{Z:()=>i})},90067:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),r=n.n(i),s=n(55327),o=n(82590),a=n(86076),l=n(51401);const c=s.Z.extend({mixins:l.Z,maxCycles:3,maxSize:50,isListening:!1,initialize:function(){this._cache={},this.size=0,this.cycles=[],this.cycle()},startListening:function(){this.isListening||(this.isListening=!0,this.listenTo(o.Z,{"cycle:cache":this.cycle,"clearWhere:cache":this.clearWhere,"clearAll:cache":this.clearAll,"clearCycles:cache":this.clearCycles}))},get:function(e){const t=this._cache[e];return t&&t._cacheCycle&&this.setItemCycle(t,e,r().first(this.cycles)),t},store:function(e,t){t||(t=this.getItemCacheKey(e)),this.remove(e),t&&(this.startListening(),e._cacheKey=t,this._cache[t]=e,this.size++,e.persistInCache||this.setItemCycle(e,t,r().first(this.cycles)))},getItemCacheKey:function(e){return r().result(e,"cacheKey")},setItemCycle:function(e,t,n){const i=e._cacheCycle;i&&i.hasOwnProperty(t)&&delete i[t],e._cacheCycle=n,n[t]=e},cycle:function(){this.size>this.maxSize&&(a.Z.warn("Cache overflow, size: "+this.size),r().each(this.cycles.slice(1),this.removeCycle,this)),this.cycles.unshift({}),this.cycles.length>Math.max(this.maxCycles,1)&&this.removeCycle(r().last(this.cycles))},remove:function(e){if(!e||!e._cacheKey)return;const t=e._cacheKey;this._cache.hasOwnProperty(t)&&(delete this._cache[t],this.size--),e._cacheCycle&&(e._cacheCycle.hasOwnProperty(t)&&delete e._cacheCycle[t],delete e._cacheCycle),delete e._cacheKey},removeCycle:function(e){r().each(r().values(e),this.remove,this);const t=r().indexOf(this.cycles,e);this.cycles.splice(t,1)},clearWhere:function(e){const t=r().where(r().values(this._cache),e);r().each(t,this.remove,this)},clearAll:function(){r().each(r().values(this._cache),this.remove,this),this.cycles.length=0,this.cycle(),this.stopListening(),this.isListening=!1},clearCycles:function(){const e=this.cycles;for(;e.length;)this.removeCycle(e[e.length-1]);this.cycle()}})},76580:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(90067);const o=s.Z.extend({maxCycles:3,maxSize:20,get:function(e){const t=s.Z.prototype.get.apply(this,arguments);return t&&t.every((function(e){return!(!e.cache||!e.cache.isListening||(e.cache.store(e),0))})),t},getItemCacheKey:function(e){let t=r().result(e,"url");return e.server&&(t=e.server.getScopedKey(t)),e.provider&&(t=e.provider.getScopedKey(t)),t}})},78542:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(49521),o=n(90067);const a=o.Z.extend({maxCycles:3,maxSize:50,imageParamsRegex:/&?(size|scale|width|height)=([^&]+)/g,initialize:function(){o.Z.prototype.initialize.apply(this,arguments),this._infoMemo={}},store:function(e,t){if(t||(t=this.getItemCacheKey(e)),!t)return;const n=e.url,i=this.getImageInfo(n),s={url:n,blobUrl:e.blobUrl,size:i.size};let o=this.get(t);if(o){if(!o.images.hasOwnProperty(n)){const e=o.sizes;o.images[n]=s;const t=r().sortedIndex(e,s,"size");e.splice(t,0,s)}}else o={images:{},sizes:[s]},o.images[n]=s,this.startListening(),o._cacheKey=t,this._cache[t]=o,this.size++,e.persistInCache||this.setItemCycle(o,t,r().first(this.cycles))},getItemCacheKey:function(e){return this.getImageInfo(e.url).key},getImageInfo:function(e){if(this._infoMemo.hasOwnProperty(e))return this._infoMemo[e];const t={width:"0",scale:"1"},n=e.replace(this.imageParamsRegex,(function(e,n,i){return t[n]=i,""})),i=t.size&&t.size.split("-"),r={key:n,size:(i&&2===i.length?i[1]:parseInt(t.width,10))*parseInt(t.scale,10)};return this._infoMemo[e]=r,r},removeImageInfo:function(e){this._infoMemo.hasOwnProperty(e)&&delete this._infoMemo[e]},getBlobUrl:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){const t=n.images[e];if(t)return t.blobUrl}},getPlaceholder:function(e){const t=this.getImageInfo(e),n=this.get(t.key);if(n){if(n.images[e])return;return r().last(n.sizes).blobUrl}},remove:function(e,t){o.Z.prototype.remove.apply(this,arguments),r().each(e.sizes,(function(e){this.removeImageInfo(e.url),s.Z.hasObjectUrl&&window.URL.revokeObjectURL(e.blobUrl)}),this)}})},48497:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);const s=n(90067).Z.extend({maxCycles:5,maxSize:100,getItemCacheKey:function(e,t){if(r().isFunction(e.cacheKey))return t||(t=e.toJSON()),e.cacheKey(t)}})},34510:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,E4:()=>r,Hn:()=>s,zR:()=>o,Ut:()=>a,WX:()=>l,iW:()=>c,Zb:()=>d,A2:()=>u,NV:()=>h});const i="com.plexapp.agents.imdb",r="com.plexapp.agents.lastfm",s="com.plexapp.agents.none",o="com.plexapp.agents.plexmusic",a="tv.plex.agents.music",l="tv.plex.agents.movie",c="tv.plex.agents.none",d="tv.plex.agents.series",u="com.plexapp.agents.themoviedb",h="com.plexapp.agents.thetvdb"},37517:(e,t,n)=>{"use strict";n.d(t,{p:()=>i,M:()=>r});const i="error",r="success"},25525:(e,t,n)=>{"use strict";n.d(t,{bB:()=>i,_N:()=>r,jv:()=>s,S7:()=>o,av:()=>l,cW:()=>c,hJ:()=>d,pQ:()=>u,nJ:()=>h,GF:()=>p});const i="https://forums.plex.tv",r="https://www.plex.tv/media-server-downloads",s=`${r}/#plex-app`,o="https://status.plex.tv",a="?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",l="https://support.plex.tv"+a,c="https://support.plex.tv/articles/225877427-supported-dvr-tuners-and-antennas/"+a,d="https://support.plex.tv/articles/community-supported-tuners/"+a,u="https://support.plex.tv/articles/206225077-how-to-use-secure-server-connections/"+a,h="https://support.plex.tv/articles/200241558-agents/",p="https://support.plex.tv/articles/204604227-why-can-t-the-plex-app-find-or-connect-to-my-plex-media-server/"},6312:(e,t,n)=>{"use strict";function i(){return window.viewport&&window.viewport.pixelRatio||window.devicePixelRatio||1}n.d(t,{Z:()=>i})},44560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i={NEVER:"never",SAME_NETWORK:"samenetwork",ALWAYS:"always"};i.settings=[{value:i.NEVER,title:"Never"},{value:i.SAME_NETWORK,title:"On same network as server"},{value:i.ALWAYS,title:"Always"}];const r=i},6539:(e,t,n)=>{"use strict";n.d(t,{EU:()=>i,yy:()=>r,it:()=>s,bS:()=>o,Rr:()=>a,Ko:()=>l,ES:()=>c,oP:()=>d});const i="small-60",r="small-120",s="medium-240",o="medium-360",a="large-480",l="large-720",c="large-1280",d="large-1920"},1475:(e,t,n)=>{"use strict";n.d(t,{Mf:()=>i,hY:()=>r});const i=9,r=27},39620:(e,t,n)=>{"use strict";n.d(t,{ql:()=>i,GP:()=>r,AM:()=>s,ae:()=>o,n1:()=>a,yq:()=>l,ly:()=>c,dm:()=>d,qe:()=>u,h3:()=>h,RG:()=>p,_R:()=>g,Zy:()=>m,RF:()=>f,FH:()=>v,yY:()=>y,$M:()=>b,zw:()=>Z,xs:()=>S,nJ:()=>w,zL:()=>P,yZ:()=>C,FR:()=>x,wl:()=>A,i0:()=>E,fV:()=>I,uz:()=>k,Yf:()=>T,JM:()=>O,b1:()=>M,mX:()=>R,pg:()=>D,kD:()=>_});const i="claim",r="dismiss",s="skip",o="confirm",a="cancel",l="learn",c="complete",d="edit",u="markAsWatched",h="markAsUnwatched",p="refresh",g="analyze",m="unmatch",f="splitApart",v="optimize",y="delete",b="getInfo",Z="rate",S="selectStream",w="optimizeDatabase",P="cleanBundles",C="emptyTrash",x="deleteServer",A="addLibrary",E="updateLibrary",I="cancelLibraryUpdate",k="forceRefreshLibrary",T="editLibrary",O="analyzeLibrary",M="deleteLibrary",R="optOutMetrics",D="remoteAccess",_="subscribe"},54676:(e,t,n)=>{"use strict";n.d(t,{jd:()=>i,DJ:()=>r,cN:()=>s,Y3:()=>o,L6:()=>a,uf:()=>l,uh:()=>c,od:()=>d,$s:()=>u,SO:()=>h,dS:()=>p,oM:()=>g,IL:()=>m,fr:()=>f,W3:()=>v,cI:()=>y});const i="fallback",r="startup",s="server",o="library",a="settings",l="setupWizard",c="navBar",d="dvrSetup",u="content.discover",h="content.library",p="content.playlists",g="content.collections",m="content.timeline",f="content.dvr.discover",v="content.dvr.guide",y="content.dvr.schedule"},59140:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>i,Jk:()=>r,Ip:()=>s,dV:()=>o,EE:()=>a,$R:()=>l,CM:()=>c,o$:()=>d,PS:()=>u,fB:()=>h,Jw:()=>p});const i="client:claimServer",r="client:claimServerFailure",s="client:click",o="client:mmp:start",a="client:relayTested",l="client:shutdown",c="client:signout",d="client:start",u="client:switchuser",h="client:view",p="client:upsell"},22220:(e,t,n)=>{"use strict";n.d(t,{Sd:()=>i,Hx:()=>r,G5:()=>s,H4:()=>o,dp:()=>a,YB:()=>l,yl:()=>c,Q_:()=>d,Vr:()=>u,YX:()=>h,mw:()=>p,Bc:()=>g,lz:()=>m,L6:()=>f,Rs:()=>v,TD:()=>y,od:()=>b,qT:()=>Z,RN:()=>S,xC:()=>w,cJ:()=>P,yW:()=>C,Y0:()=>x,iw:()=>A,O6:()=>E});const i="home",r="source",s="plexpass",o="signIn",a="signOut",l="setupWizard",c="unclaimedServer",d="status",u="stopServerSession",h="stopServerSessionError",p="playHistory",g="releaseNotes",m="unknown",f="settings",v="settingsSidebar",y="dvrSettings",b="dvrSetup",Z="dvrDeviceSettings",S="confirmDeleteServer",w="confirmUpgradeLibrary",P="confirmAnalyzeLibrary",C="confirmForceRefreshLibrary",x="confirmEmptyTrashLibrary",A="confirmDeleteLibrary",E="confirmRemoveDVR"},22182:(e,t,n)=>{"use strict";n.d(t,{km:()=>i,IY:()=>r,t3:()=>s});const i="hub",r="list",s="view"},45200:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});const i="0"},75134:(e,t,n)=>{"use strict";n.d(t,{lq:()=>i,LE:()=>r,JL:()=>s,zw:()=>o});const i="scrobble",r="save",s="addToWatchlist",o="rate"},35785:(e,t,n)=>{"use strict";var i,r;n.d(t,{Z:()=>s}),(r=i||(i={})).ACTION="action",r.ACTIONS="actions",r.CONTENT="content",r.CONTINUE_WATCHING="continuewatching",r.GRID="grid",r.IMAGE_TRANSCODER="imagetranscoder",r.INTEGRATIONS="integrations",r.LINEUPS="lineups",r.LOCATION="location",r.MANAGE="manage",r.MATCH="match",r.METADATA="metadata",r.PLAY_QUEUE="playqueue",r.PLAYLIST="playlist",r.PROMOTED="promoted",r.RATE="rate",r.SEARCH="search",r.SETTINGS="settings",r.SUBSCRIBE="subscribe",r.TIMELINE="timeline",r.UNIVERSAL="universal";const s=i},71746:(e,t,n)=>{"use strict";n.d(t,{vP:()=>i,Ll:()=>r,zY:()=>s,Y3:()=>o,xF:()=>a,uk:()=>l,_:()=>c,wB:()=>d});const i="tv.plex.provider.epg",r="tv.plex.providers.epg",s="tv.plex.providers.epg.xmltv",o="com.plexapp.plugins.library",a="tv.plex.provider.music",l="tv.plex.provider.vod",c="synthetic.provider.home";function d(e,t){return!!e&&(Array.isArray(t)||(t=[t]),t.some((t=>-1!==e.indexOf(t))))}},59387:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});const i="livetv"},55232:(e,t,n)=>{"use strict";n.d(t,{Pt:()=>i,x8:()=>r});const i="lineup",r="recentChannelsInGrid"},57840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={NORMAL:0,LOCAL:42,CLOUD:43}},11172:(e,t,n)=>{"use strict";n.d(t,{uN:()=>i,wz:()=>r,c3:()=>s,Lx:()=>o,QQ:()=>a,OQ:()=>l,RZ:()=>c,N6:()=>d,VA:()=>u,S5:()=>h});const i="Plex Audiobook",r="Plex Movie Scanner",s="Plex Music",o="Plex Movie",a="Plex TV Series",l="Plex Music Scanner",c="Plex Photo Scanner",d="Plex Premium Music Scanner",u="Plex Series Scanner",h="Plex Video Files Scanner"},49037:(e,t,n)=>{"use strict";n.d(t,{uf:()=>i,hA:()=>r,nm:()=>s,WY:()=>o,nZ:()=>a,c9:()=>l});const i="untested",r="pending",s="connected",o="unauthorized",a="unavailable",l="aborted"},80177:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});const i="myPlex"},49112:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AVAILABLE:()=>i,DONE:()=>r,DOWNLOADED:()=>s,DOWNLOADING:()=>o,ERROR:()=>a,INSTALLING:()=>l,NONE:()=>c,NOTIFY:()=>d});const i="available",r="done",s="downloaded",o="downloading",a="error",l="installing",c="none",d="notify"},79567:(e,t,n)=>{"use strict";n.d(t,{od:()=>i,uh:()=>r,pp:()=>s});const i="dvr-setup",r="nav-bar",s="server-setup"},15856:(e,t,n)=>{"use strict";n.d(t,{km:()=>i,wz:()=>r,ie:()=>s,vm:()=>o,sy:()=>a,Oo:()=>l,TE:()=>c,KH:()=>d,Ix:()=>u,je:()=>h,dX:()=>p});const i="222020fb-1504-492d-af33-a0b80a49558a",r="f3235e61-c0eb-4718-ac0a-7d6eb3d8ff75",s="d9528436-ee7c-42e3-ab7b-814f85ef74b4",o="65685ff8-4375-4e4c-a806-ec1f0b4a8b7f",a="nonAnonymousAccount",l="6aaaf4fc-c55f-4042-92c8-b35f7886d249",c="3c376154-d47e-4bbf-9428-2ea2592fd20a",d="f3a99481-9671-4274-a0d3-4c06a72ef746",u="85410409-ebe4-47f8-9814-034ff05c47d7",h="fc3e8322-5e6e-4f4a-9d71-728c6d5656bd",p="1cf01402-f900-4105-8528-f168b2797edb"},21451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(13469),r=n.n(i),s=n(94566),o=n(58905),a=n(92264),l=n(41120),c=n(21235);var d=n(50958),u=n(71065),h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable;const m={uri:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataURI(n,t);e||(e=r().first(n))}if(e instanceof s.ZP.Model){if(e.get("isSection"))return this.getSectionURI(e,t);if(e.get("isMetadataList"))return this.getMetadataListURI(e,t);if(e.get("isPlaylist"))return this.getPlaylistURI(e,t)}return this.getLibraryMetadataURI(e,t)},parseLibraryUri:function(e){const t=u.Z.getLastSegment(e),n=decodeURIComponent(t).match(/(\/library\/sections\/\w+)\/all(?:\?(.*))?/),[,i,r=""]=n,s={};for(const e of r.split("&")){const[t,n]=e.split("=");t.startsWith("include")||(s[t]=n)}const o=s,{type:a,sourceType:l,sort:c,limit:d}=o,m=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&g.call(e,i)&&(n[i]=e[i]);return n})(o,["type","sourceType","sort","limit"]);return{sectionKey:i,type:a,sourceType:l,sort:c,limit:d,filterString:Object.entries(m).map((([e,t])=>`${e}=${t}`)).join("&")}},getSectionURI:function(e,t){const n=r().result(e,"url"),i=e.get("currentSubset"),s=e.get("currentFolderKey"),o=e.get("currentType");let a;if("folder"===i.id)a=s||u.Z.join([n,"all"]);else{const t=e.get("items"),r=t.getParams();r.type&&delete r.type,r.timelineState&&delete r.timelineState,r.unwatchedLeaves&&(r[(0,d.A_)(e.get("type")).typeString+".unwatched"]=1,delete r.unwatchedLeaves),o&&(r.sourceType=o.id),a=u.Z.join([n,i.id],r),a=t.replaceSpecialFilterOperators(a)}return this._resolveURI({prefix:"library",parts:[e.get("uuid"),"directory",a]})},getBatchLibraryMetadataURI:function(e,t){const n=this._getSectionInfo(r().first(e)),i="/library/metadata/"+r().map(e,(function(e){return e.get("ratingKey")})).join(",");return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",i]})},getLibraryMetadataURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);let i,s=r().result(e,"url");return t.excludeSeedItem&&(s=u.Z.join(s,{excludeSeedItem:1})),i=e.models||e.collectionName||e instanceof o.Z?"directory":e.get("radio")?"station":"item",this._resolveURI({prefix:"library",parts:[n.sectionUUID,i,s]})},getMetadataListURI:function(e,t){t||(t={});const n=this._getSectionInfo(e);return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",u.Z.join(e.get("containerKey"),{sourceType:t.sourceType})]})},getPlaylistURI:function(e,t){return this._resolveURI({prefix:"playlist",parts:["",e.get("guid")]})},title:function(e,t){const n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataTitle(n,t);e=r().first(n)}return e.get("isSection")?this.getSectionTitle(e,t):e.get("isMetadataList")?this.getMetadataListTitle(e,t):this.getLibraryMetadataTitle(e,t)},getSectionTitle:function(e){const t=e.get("title"),n=e.get("currentSubset"),i=e.get("currentFilters");return"all"!==n.id?t+": "+n.get("title"):i.length?t+": "+r().flatten(r().map(i,(function(e){return e.titles}))).join(", "):t},getMetadataListTitle:function(e){return e.get("containerTitle")||e.get("title")},getBatchLibraryMetadataTitle:function(e){return function(e){if(!e||!e.length)return;const t=e.length;return 1===t?e[0]:2===t?(0,c.Z)("{1} and {2}",e[0],e[1]):3===t?(0,c.Z)("{1}, {2}, and {3}",e[0],e[1],e[2]):(0,c.Z)("{1}, {2}, and {3} others",e[0],e[1],e.length-2)}(r().map(e,(function(e){return e.get("title")})))},getLibraryMetadataTitle:function(e){const t=e.get("grandparentTitle")||e.get("parentTitle");let n=e.get("title");return t&&(n=t+" - "+n),"episode"===e.get("type")&&(n+=" ("+(0,a.Z)({seasonIndex:e.get("parentIndex"),episodeIndex:e.get("index"),date:e.get("originallyAvailableAt"),noLeadingZero:!0,separator:" "})+")"),n},_resolveURI:function(e){const t=e.parts,n=r().map(t,(function(e){return e?encodeURIComponent(e):""}));return e.prefix+"://"+n.join("/")},_getSectionInfo:function(e){let t=e.get("librarySectionUUID"),n=e.get("librarySectionID");if(!t||!n){const i=(0,l.Z)(e);r().isEmpty(i)||(t=i.get("uuid"),n=i.id)}return{sectionUUID:t,sectionID:n}}}},54148:(e,t,n)=>{"use strict";n.d(t,{DF:()=>i,_G:()=>r,ZP:()=>c});const i=30,r=365,s=36e5,o=24*s,a=["years","months","days","hours","minutes","seconds","milliseconds"],l={years:o*r,months:o*i,days:o,hours:s,minutes:6e4,seconds:1e3,milliseconds:1};function c(e){const t=e<0?-1:1,n={};let i=e*t,r=-1;for(;++r<a.length;){const e=a[r],s=l[e],o=Math.floor(i/s);n[e]=o&&o*t,i%=s}return n}},25664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(54148);const o=function(e){if(e<=0||!r().isNumber(e))return"0:00";const t=(0,s.ZP)(e),n=t.seconds,i=t.minutes,o=t.hours+24*t.days;let a="";return a=n<10?":0"+n:":"+n,a=i<10&&o>0?"0"+i+a:i+a,o>0&&(a=o+":"+a),a}},80100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(53246);const r=/version\/(\d+(\.\d+)?)/i,s=/\/([^\s]+)\s+\(Vizio/,o=/(?:applewebkit|safari)\/(\d+(\.\d+)?)/i,a=function(e){const t=/\(.* ([^)]+)\)$/.exec(e);return t&&t[1]||void 0};function l(e){let t="",n="";e?(t=e.userAgent,n=e.platform):i.Z&&null!=window.navigator&&(t=window.navigator.userAgent,n=window.navigator.platform),this.platformVersion="0",this.detect({userAgent:t,platform:n})}l.prototype={constructor:l,browsers:[{id:"konvergo",name:"Plex Media Player",webkit:!0,regex:/plexmediaplayer/i,versionRegex:/plexmediaplayer (\d+\.\d+\.\d+)/i},{id:"wiiu",name:"Wii U",regex:/wiiu/i,versionRegex:o,webkit:!0},{id:"ps3",name:"Unknown Browser",webkit:!0,regex:/\(PLAYSTATION 3 \d\./},{id:"ps4",name:"Unknown Browser",webkit:!0,regex:/\(PlayStation 4 \d\./},{id:"ps3",name:"PlayStation 3",webkit:!0,regex:/\(PlayStation 3\)/,versionRegex:o},{id:"ps4",name:"PlayStation 4",webkit:!0,regex:/\(PlayStation 4\)/,versionRegex:o},{id:"edge",name:"Microsoft Edge",regex:/edge?|(windows phone.+chrome)/i,versionRegex:/edge?\/(\d+(\.\d+)?)/i},{id:"ie",name:"Internet Explorer",msie:!0,regex:/(msie|trident|iemobile)/i,versionRegex:/(msie |rv:)(\d+(\.\d+)?)/i,versionMatchIndex:2},{id:"opera",name:"Opera",presto:!0,regex:/opera/i,versionRegex:r},{id:"opera",name:"Opera",webkit:!0,regex:/OPR\//,versionRegex:/OPR\/\s?(\d+(\.\d+)?)/},{id:"vivaldi",name:"Vivaldi",webkit:!0,regex:/vivaldi/i,versionRegex:/Vivaldi\/\s?(\d+(\.\d+)?)/},{id:"chrome",name:"Chrome",webkit:!0,regex:/(chrome|crios|gfiber|netbox)/i,versionRegex:/(?:chrome|crios|gfibertv)[/-](\d+(\.\d+)?)/i},{id:"firefox",name:"Firefox",gecko:!0,regex:/firefox/i,versionRegex:/firefox[ /](\d+(\.\d+)?)/i},{id:"safari",name:"Safari",webkit:!0,regex:/macintosh.+safari/i,versionRegex:r},{id:"safari",name:"Safari",webkit:!0,regex:/applewebkit/i,versionRegex:o}],platforms:[{id:"metrological",name:"Metrological",tv:!0,regex:/WPE([-\w]+)?$/,version:function(e=""){const t=/WPE(?:-(\w*))?$/.exec(e);if(t&&t[1])return t[1]}},{id:"netgem",name:"Netgem",tv:!0,regex:/^Netbox/,version:function(e=""){return e.split("/")[1]||e}},{id:"netcast",name:"NetCast",tv:!0,predicate:function(e){return/netcast/i.test(e)&&!/web[o0]s/i.test(e)}},{id:"webos",name:"webOS",tv:!0,predicate:function(e){return/web[o0]s/i.test(e)&&/smarttv/i.test(e)}},{id:"blackberry",name:"Blackberry",mobile:!0,regex:/BlackBerry|RIM|BB10/,version:function(e){const t=(/PlayBook/.test(e)?/Tablet OS (\d+\.\d+)/:r).exec(e);return t&&t[1]}},{id:"ps3",name:"PlayStation 3",tv:!0,regex:/P(lay)?S(tation )?3/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"ps4",name:"PlayStation 4",tv:!0,regex:/P(lay)?S(tation )?4/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"wiiu",name:"Wii U",tv:!0,regex:/Nintendo WiiU/},{id:"tizen",name:"Tizen",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Tizen (\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"winvergo",name:"Windows",tv:!0,predicate:function(e){return i.Z&&!!window.Windows},version:function(e){try{const e=window.Windows.System.Profile.AnalyticsInfo.versionInfo.deviceFamilyVersion,t=("0000000000000000"+parseInt(e,10).toString(16)).slice(-16),n=[];let i=0;for(;i<t.length;){const e=t.substring(i,i+4),r=parseInt(e,16);n.push(r),i+=4}return n.join(".")}catch(e){}}},{id:"viera",name:"Viera",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){const t=/Viera\/(\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"sta",name:"Smart TV Alliance",tv:!0,version:function(e){let t,n;if(/SmartTvA/.test(e))n=/SmartTvA\/(\d+\.\d+)/.exec(e),t=n&&n[1]||t;else{const n=[/nettv\/4/i],i=[/nettv/i],r=function(t){return t.test(e)};[/Linux i686.+Chromium\/18/,/nettv\/4.2/i,/toshiba-dtv/i,/viera/i].some(r)?t="2.0":n.some(r)?t="1.0":i.some(r)&&(t="0")}return t},predicate:function(e){return void 0!==this.version(e)}},{id:"tivo",name:"TiVo",tv:!0,regex:/TiVo/,version:function(e){const t=/TCD[^,]+/.exec(e);return t&&t[0]||void 0}},{id:"viziosmartcast",name:"Vizio SmartCast",tv:!0,predicate:function(e){return i.Z&&window.VIZIO&&window.VIZIO.isSmartCastDevice},version:function(e){}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return/opera/i.test(e)&&"undefined"!=typeof iMTK_JSP}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,predicate:function(e){return/opera/i.test(e)&&/vizio/i.test(e)},version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return s.test(e)&&"undefined"!=typeof iMTK_JSP},version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,regex:s,version:function(e){const t=s.exec(e);return t&&t[1]||void 0}},{id:"operatvstore",name:"Opera TV Store",tv:!0,predicate:function(e){const t=/Opera TV Store/.test(e),n=/TV Store/.test(e)&&/OMI\//.test(e);return t||n}},{id:"operatv",name:"Opera TV",tv:!0,regex:/opera\/\d+\.\d+ \(linux (mips|arm)/i},{id:"ios",name:"iOS",mobile:!0,regex:/(iphone|ipad|ipod)/i,version:function(e){const t=/OS (\d+_\d+)/.exec(e);return t&&t[1]?t[1].replace("_","."):void 0}},{id:"windowsphone",name:"Windows Phone",mobile:!0,regex:/windows phone/i,version:function(e){const t=/windows phone[ os]*(\d+\.\d+);/i.exec(e);return t&&t[1]}},{id:"android",name:"Android",mobile:!0,regex:/android/i,version:function(e){const t=/Android (\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"webos",name:"webOS",mobile:!0,predicate:function(e){return/hpwOS/.test(e)||/web[o0]s/i.test(e)&&!/smarttv/i.test(e)},version:function(e){const t=/(?:hpw|web)OS\/(\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"openelec-rpi2",name:"Embedded (Raspberry Pi)",tv:!0,regex:/plexmediaplayer.*openelec-rpi2/i,version:a},{id:"openelec",name:"Embedded",tv:!0,regex:/plexmediaplayer.*openelec/i,version:a},{id:"linuxkonvergo",name:"Linux",tv:!0,regex:/plexmediaplayer.*linux/i,version:a},{id:"osxkonvergo",name:"OSX",tv:!0,regex:/plexmediaplayer.*mac/i,version:a},{id:"windowskonvergo",name:"Windows",tv:!0,regex:/plexmediaplayer.*win/i,version:a},{id:"linux",name:"Linux",regex:/linux/i},{id:"osx",name:"OSX",regex:/Macintosh/,version:function(e){const t=/OS X (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}},{id:"windows",name:"Windows",regex:/Windows/,version:function(e){const t=/Windows [^\d;)]*(\d+\.\d+)/.exec(e);if(t)return{"6.0":"Vista / Server 2008",6.1:"7 / Server 2008 R2",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"}[t[1]]}},{id:"chromeos",name:"Chrome OS",regex:/CrOS/,version:function(e){const t=/CrOS [\S]* (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}}],detect:function(e){const t=this.runTests(this.browsers,e),n=this.runTests(this.platforms,e);let i;t?(this.id=t.id,this.name=t.name,this.version=this.getVersion(e.userAgent,t.versionRegex,t.versionMatchIndex||1),this.webkit=!!t.webkit,this.gecko=!!t.gecko,this.msie=!!t.msie,this.presto=!!t.presto):(this.id="unknown",this.name="Unknown Browser",this.version="0",this.webkit=!1,this.gecko=!1,this.msie=!1,this.presto=!1),n?(i="function"==typeof n.version?n.version(e.userAgent):n.version,this.platform=n.name,this.platformID=n.id,this.platformVersion=i||this.platformVersion,this.mobile=!!n.mobile,this.tv=!!n.tv):(this.platformID="unknown",this.platform="Unknown Platform",this.mobile=!1,this.tv=!1),this.tv||(this.platformModifierKey="osx"===this.platformID||"ios"===this.platformID?"command":"ctrl")},runTests:function(e,t){let n,i,r,s=0;for(;!0!==i&&(r=e[s++]);)n=t[r.context||"userAgent"],r.regex?i=r.regex.test(n):r.predicate&&(i=r.predicate(n));return r},getVersion:function(e,t,n){const i=e.match(t);return i&&i.length>n&&i[n]||"0"},toJSON:function(){const e={};for(const t in this)this[t]&&"browsers"!==t&&"platforms"!==t&&(e[t]=this[t]);return e}};const c=new l},53246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)},49521:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(80100),r=n(53246);const s=function(){if(!r.Z)return!1;const e=document.createElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}(),o={isHostedHttps:r.Z&&"https:"===window.location.protocol,hasConsole:!!(window.console&&window.console.log&&window.console.log.call),hasWebSocket:r.Z&&!!window.WebSocket,hasEventSource:r.Z&&!!window.EventSource,hasReplaceState:r.Z&&!(!window.history||!window.history.replaceState),hasFileUpload:r.Z&&!!(window.File&&window.FileList&&window.FileReader),hasMediaSource:r.Z&&!(!window.MediaSource&&!window.WebKitMediaSource),hasObjectUrl:!i.Z.presto&&r.Z&&!(!window.URL||"function"!=typeof window.URL.createObjectURL||"function"!=typeof window.URL.revokeObjectURL),hasBlob:function(){try{return!!new window.Blob}catch(e){return!1}}(),hasFullscreen:function(){if(!r.Z)return!1;const e=document.createElement("div");return!!(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen)}(),hasCanvas:s,hasWebGL:function(){if(!s)return!1;const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!t&&t instanceof window.WebGLRenderingContext}(),hasTouchScreen:r.Z&&!!("ontouchstart"in window),hasPageVisibility:r.Z&&(!0===document.hidden||!1===document.hidden),hasWebKitPageVisibility:r.Z&&(!0===document.webkitHidden||!1===document.webkitHidden),hasPassiveEventListeners:function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),hasWebSpeech:r.Z&&!!window.speechSynthesis,hasMediaSession:r.Z&&"mediaSession"in window.navigator,hasLocalStorage:(()=>{if(!r.Z)return!1;let e=!1;try{window.localStorage.setItem("testKey","test"),window.localStorage.removeItem("testKey"),e=!0}catch(e){}return e})()}},82590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(55327),r=n(51401);const s=new(i.Z.extend({mixins:r.Z}))},68468:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o,LL:()=>a,tZ:()=>l,we:()=>c});var i=n(14398),r=n(71065);function s(e){const t=new URLSearchParams(window.location.search).get(e);return t?function(e){return/^https:\/\/(?:(\w|-)+\.)*plex\.tv(?:\/|$)/i.test(e)?e:void 0}(t):void 0}function o(e){const t=s("myPlexUrl")||"https://plex.tv";return e?r.Z.join([t,e]):t}function a(e){const t=s("wwwPlexUrl")||"https://www.plex.tv";return e?r.Z.join([t,e]):t}function l(e){const t=s("authAppUrl")||"https://app.plex.tv/auth",n={myPlexUrl:s("myPlexUrl"),wwwPlexUrl:s("wwwPlexUrl")};let o=r.Z.join(t,n,{trailingSlash:!0});return e&&!(0,i.Z)(o)&&(o=r.Z.join([window.location.origin,o])),o}function c(e){const t=s("webClientUrl")||"/";return e?r.Z.join([t,e]):t}},91487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(87023);function r(e){return function(e){return!!e&&(!!e.get("isCloud")||e.supports("json")&&!e.get("onlyXML")&&!e.get("isMobileServer"))}(e)?i.AV:i.Ls}},96153:e=>{e.exports=function(e,t,n){return e===t?n.fn(this):n.inverse(this)}},75921:e=>{e.exports=function(e,t,n){return e!==t?n.fn(this):n.inverse(this)}},87601:(e,t,n)=>{const i=n(50673).Z,r=n(25151);e.exports=r(i)},21125:(e,t,n)=>{const i=n(64027).Z,r=n(25151);e.exports=r(i)},51956:(e,t,n)=>{const i=n(47673).Z,r=n(25151);e.exports=r(i)},68325:(e,t,n)=>{const i=n(13469),r=n(40202);e.exports=function(e,t){const n=r.partials[e],s=i.extend({},t.hash.context||this,t.hash);return new r.SafeString(n(s))}},10424:(e,t,n)=>{const i=n(6224).Z,r=n(25151);e.exports=r(i)},96843:(e,t,n)=>{const i=n(46171).Z,r=n(25151);e.exports=r(i)},25151:(e,t,n)=>{const i=n(13469);e.exports=function(e){return function(){return e.apply(this,i.initial(arguments))}}},88920:(e,t,n)=>{const i=n(13469),r=n(21235).U,s=n(40202);e.exports=function(){const e=i.initial(arguments),t=i.last(arguments).hash;return i.isObject(t)&&!i.isEmpty(t)&&e.splice(1,0,t),new s.SafeString(r.apply(r,e))}},63033:(e,t,n)=>{const i=n(71065).Z.getLastSegment,r=n(25151);e.exports=r(i)},26120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(14710);function r(e,t){(0,i.Z)(null!=e,"No `version` supplied to `isVersionOrNewer`."),(0,i.Z)(null!=t,"No `minVersion` supplied to `isVersionOrNewer`. Have you misspelled a constant?");const n=t.split("."),r=e.split(".");for(let e=0,t=n.length;e<t;e++)if(e<r.length){const t=parseInt(n[e],10),i=parseInt(r[e],10);if(t<i)return!0;if(t>i)return!1}return!0}},40688:(e,t,n)=>{"use strict";n.d(t,{MP:()=>o,ZP:()=>a});const i={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"",an:"Aragons",hy:"",as:"Assamese",av:" ",ae:"avesta",ay:"aymar aru",az:"azrbaycan dili",ba:" ",bm:"bamanankan",eu:"euskara",be:"",bn:"Bengali",bh:"",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:" ",my:"Burmese",ca:"Catal",ch:"Chamoru",ce:" ",cu:" ",cv:" ",kw:"Kernewek",co:"corsu",cr:"",dv:"Divehi",dz:"",en:"English","en-GB":"English (UK)",eo:"Esperanto",et:"eesti",ee:"Eegbe",fo:"froyskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"",gd:"Gidhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"Avae&apos;",gu:"",ht:"Kreyl ayisyen",ha:"",hz:"Otjiherero",hi:"",ho:"Hiri Motu",hr:"hrvatski",ig:"Ass Igbo",is:"slenska",io:"Ido",ii:" Nuosuhxop",iu:"",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"Iupiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"",ks:"",kr:"Kanuri",kk:" ",km:"Khmer",ki:"Gky",rw:"Ikinyarwanda",ky:" ",kv:" ",kg:"KiKongo",kj:"Kuanyama",ku:"Kurd",lo:"Lao",la:"latine",lv:"latvieu valoda",li:"Limburgs",ln:"Lingla",lt:"lietuvi kalba",lb:"Ltzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:" ",mh:"Kajin Maje",ml:"Malayalam",mi:"te reo Mori",mr:"",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"",na:"Ekakair Naoero",nv:"Din bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"",nn:"Norsk nynorsk",nb:"Norsk bokml",ny:"chiChea",oc:"Occitan",oj:"",or:"Oriya",om:"Afaan Oromoo",os:" ",pa:"",pi:"",ps:"",qu:"Runa Simi",rm:"rumantsch grischun",ro:"romn",rn:"kiRundi",sg:"yng t sng",sa:"",sr:" ",si:"Sinhala",sk:"slovenina",sl:"Slovenina",se:"Davvismegiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"",tt:"",te:"Telugu",tg:"",tl:"Wikang Tagalog",th:"",bo:"",ti:"Tigrinya",to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"Trkmen",tw:"Twi",ug:"Uyurq",uk:"",ur:"",uz:"O&apos;zbek",ve:"Tshivena",vi:"Ting Vit",vo:"Volapk",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"",yo:"Yorb",za:"Sa cue",zu:"isiZulu",pb:"Portugus (Brasil)",fr:"Franais","fr-CA":"Franais Canadien",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeksi",nl:"Nederlands",it:"Italiano",es:"Espaol","es-419":"Espaol (Latinoamrica)",pl:"Polski",hu:"Magyar",el:"",tr:"Trke",zh:"","zh-TW":"",ru:" ",he:"",ja:"",pt:"Portugus","pt-BR":"Portugus Brasileiro",ko:"",cs:"etina",fa:"",xx:"Unknown",xn:"None"};function r(e,t){return i[e].localeCompare(i[t])}const s=["xx","xn"],o=function(){const e=Object.keys(i).filter((e=>-1===s.indexOf(e)));return e.sort(r),e.concat(s)}(),a=i},14710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(86076);const r=function(e,t="`assert` requires an error message argument",n=!1){if(e)return!0;if(i.Z.error(t),n)throw new Error(t);return!1}},86076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(82590);const r="log:message",s="log:groupEnd",o={accessToken:1,address:1,auth_token:1,authToken:1,Authorization:1,clientIdentifier:1,email:1,host:1,myPlexAccessToken:1,password:1,uri:1,"X-Plex-Token":1},a=new RegExp("("+Object.keys(o).join("|")+")(\\s?=\\s?)(['\"]?)[^'\"\n]+(['\"]?)","g"),l=/%[sdifo]/g,c=/(error|exception)\]$/i,d={"%s":e=>e,"%d":e=>Number.parseInt(e,10),"%f":e=>Number.parseFloat(e),"%o":e=>e},u=(e,t,n)=>function(){let r;const s=arguments.length;let o;if(t=void 0===t?h.LEVEL_LOG:t,!(h.level<t)){if(0===s&&n)o=n;else if(1===s)o=h.serialize(arguments[0]);else if(s>1){const e=Array(s);let t=-1;for(;++t<s;)e[t]=h.serialize(arguments[t]);e[0]=e[0].replace(l,((t,n)=>{let i=t;return e.length>1&&(i=d[t](e[1]),e.splice(1,1)),i})),o=e.join(" ")}return!o||r&&!r.test(o)||i.Z.trigger(e,{type:e,level:t,message:o}),o}},h=u(r);h.LEVEL_NONE=-1,h.LEVEL_ERROR=0,h.LEVEL_WARN=1,h.LEVEL_INFO=2,h.LEVEL_DEBUG=3,h.LEVEL_LOG=4,h.LEVEL_GROUP=h.LEVEL_INFO,h.LEVEL_GROUP_END=h.LEVEL_INFO,h.level=h.LEVEL_LOG,h.redacts=!0,h.setLevel=e=>{h.level=Math.max(h.LEVEL_NONE,Math.min(e,h.LEVEL_LOG))},h.debug=u(r,h.LEVEL_DEBUG),h.info=u(r,h.LEVEL_INFO),h.warn=u(r,h.LEVEL_WARN),h.error=u(r,h.LEVEL_ERROR),h.group=u("log:group",h.LEVEL_GROUP,"Group"),h.groupCollapsed=u("log:groupCollapsed",h.LEVEL_GROUP,"Group"),h.groupEnd=()=>{h.level<h.LEVEL_GROUP_END||i.Z.trigger(s,{type:s,level:h.LEVEL_GROUP_END})},h.serialize=e=>{let t;switch(t=void 0===e?"[object Undefined]":null===e?"[object Null]":Object.prototype.toString.call(e),t){case"[object String]":return h.redacts?e.replace(a,"$1$2$3REDACTED$4"):e;case"[object Object]":case"[object Array]":try{const t=h.redacts?h._jsonReplacer:null;return JSON.stringify(e,t,2)}catch(e){return"Unable to serialize value"}case"[object Boolean]":case"[object Number]":case"[object Function]":case"[object RegExp]":return e.toString();case"[object Date]":return e.toUTCString();case"[object Undefined]":return"undefined";case"[object Null]":return"null";default:if(c.test(t)){const n=h._getMaxStackLength();let i=e.stacktrace||e.stack;return i&&i.length>n&&(i=i.substr(0,n-3)+"..."),h.serialize({type:t,stack:i,name:e.name,message:e.message})}return e.toString()}},h._jsonReplacer=(e,t)=>o[e]?"REDACTED":"[object String]"===Object.prototype.toString.call(t)?h.serialize(t):t,h._getMaxStackLength=()=>1e3;const p=h},92264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(64381),r=n(55855),s=n(78966),o=n(19013),a=n(13469),l=n.n(a);const c=function(e){return e=parseInt(e,10),l().isNaN(e)?"":(e<10?"0":"")+e};var d=n(21235);const u=function(e){let t=e.seasonIndex,n=e.episodeIndex;if((n>0||0===n)&&t<1e3){e.noLeadingZero||(t=c(t),n=c(n));const i=e.separator;return e.useLongName?`${(0,d.Z)("Season {seasonNumber}",{seasonNumber:t})}${i||" "}${(0,d.Z)("Episode {episodeNumber}",{episodeNumber:n})}`:`${(0,d.Z)("S{seasonNumber}",{seasonNumber:t})}${i||""}${(0,d.Z)("E{episodeNumber}",{episodeNumber:n})}`}if(e.date){const t=(0,o.Z)(e.date);return(0,d.Z)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:(0,s.Z)(t)+1,dayNumber:(0,r.Z)(t),shortYear:(0,i.Z)(t,"yy")})}return""}},41120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(51394);function o(e,t={}){const{onlyIfCached:n=!0}=t;if(!e)return;if(e.section)return e.section;if(e.get("isSection"))return e;const i=e.get("librarySectionID");if(i){const t=new s.Z({key:i},{server:e.server,onlyIfCached:n});return r().isEmpty(t)?void 0:t}return e.parent?o(e.parent,t):void 0}},16215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(44333),o=n(52637);const a=function(e){const t=s.Z.get("video").id,n=(0,o.Z)(e,{streamType:t});return r().first(n)}},52637:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);const s=function(e,t){const n=[];if(e){const i=r().first(e.Part);i&&i.Stream&&n.push.apply(n,r().where(i.Stream,t))}return n}},30712:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(71746),r=n(80177);function s(e){const{providerIdentifier:t=i.Y3,serverIdentifier:n,key:s}=e;let o=n!==r.X?`server://${n}/${t}`:`provider://${t}`;return s&&(o=`${o}${s}`),o}},33204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i=["B","KB","MB","GB","TB"],r=function(e,t=2){if(0===e)return`${(0).toFixed(t)} ${i[0]}`;const n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return`${(e/Math.pow(1024,n)).toFixed(t)} ${i[n]}`}},50673:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){return e?/^\d+$/.test(e)?e+((null==t?void 0:t.length)?t[0]:"p"):e.toUpperCase():""}},64027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e>=100?function(e){if(!(e>0))return"";let t=e/1e3;return t=t>=.1?Number(t.toFixed(1)):t,t+" Mbps"}(e):function(e){return e>0?`${e} kbps`:""}(e)}},47673:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(29045),r=n(21235),s=n(50673),o=n(64027);const a=function(e){if(e.index===i.Z.CONVERT_AUTOMATICALLY)return(0,r.Z)("Convert Automatically");if(e.index===i.Z.ORIGINAL)return(0,r.Z)("Original");const t=e.bitrate||e.maxVideoBitrate,n=e.videoResolution;if(!t&&!n)return(0,r.Z)("Unknown");const a=[];if(t&&a.push((0,o.Z)(t)),n&&(!t||t>=1e3)){const e=i.Z.getResolutionFromSize(n);a.push((0,s.Z)(e))}const l=a.join(", ");return e.description?l+" "+e.description:l}},34738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(71746),r=n(80177),s=n(71065);const o=/\/([^/]+)([^$]+)?/,a={};function l(e){if(a[e])return a[e];const{protocol:t,host:n,pathname:l,search:c}=s.Z.parseUri(e),d="provider:"===t,u="server:"===t;if(!d&&!u)throw new Error("Source identifier is lacking provider or server scheme");const h=l.replace(/\/$/,"")||void 0,p=(null==h?void 0:h.match(o))||[],g=h&&"media"===p[1],m=g?i.Y3:p[1],f=d||g?h:p[2],v=f?f.slice(f.lastIndexOf("/")+1):void 0;return a[e]={isServer:u,serverIdentifier:d?r.X:n,providerIdentifier:d?n:m||i.Y3,key:f?`${f}${c}`:"",ratingKey:v||""},a[e]}},96637:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),n(86076);var i=n(80731);let r;function s(){if(void 0===r){const e=window.location.search.match(new RegExp("performanceReportingHost=([^&=]+)"));r=(e&&e[1]?decodeURIComponent(e[1]):i.Z.performanceReportingHost)||null}return r}const o=function(e=s){const t={};function n(n){return n&&!t[n]&&(t[n]=/^(client|playback):/.test(n)||!!e()),!!n&&t[n]}const i={startPeriod:e=>i.mark(`${e}-start`),endPeriod:(e,t)=>i.measure(e,t||`${e}-start`),mark(e){let t=null;if(n(e)){window.performance.mark(e);const n=window.performance.getEntriesByName(e);t=n[n.length-1]}return t},measure(e,t,i){let r=null;if(n(e))try{window.performance.measure(e,t,i),window.performance.clearMarks(t);const n=window.performance.getEntriesByName(e);r=n[n.length-1]}catch(e){}return r}};return i}()},51401:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13469),r=n.n(i);n(22977);const s=/\s+/,o=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(const r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(s.test(n)){const r=n.split(s);for(let n=0,s=r.length;n<s;n++)e[t].apply(e,[r[n]].concat(i));return!1}return!0},a=function(e,t){let n,i=-1;const r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},l={on:function(e,t,n){return o(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!o(this,"once",e,[t,n])||!t)return this;const i=this,s=r().once((function(){i.off(e,s),t.apply(this,arguments)}));return s._callback=t,this.on(e,s,n)},off:function(e,t,n){let i,s,a,l,c,d,u;if(!this._events||!o(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;const h=e?[e]:r().keys(this._events);for(l=0,c=h.length;l<c;l++)if(e=h[l],a=this._events[e],a){if(this._events[e]=i=[],t||n)for(d=0,u=a.length;d<u;d++)s=a[d],(t&&t!==s.callback&&t!==s.callback._callback||n&&n!==s.context)&&i.push(s);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;const t=[].slice.call(arguments,1);if(!o(this,"trigger",e,t))return this;const n=this._events[e],i=this._events.all;return n&&a(n,t),i&&a(i,arguments),this},stopListening:function(e,t,n){let i=this._listeningTo;if(!i)return this;const s=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(const o in i)(e=i[o]).off(t,n,this),(s||r().isEmpty(e._events))&&delete this._listeningTo[o];return this},hasListener:function(e){const t=this._events&&this._events[e];return Array.isArray(t)&&t.length>0}};r().each({listenTo:"on",listenToOnce:"once"},(function(e,t){l[t]=function(t,n,i){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=r().uniqueId("l"))]=t,i||"object"!=typeof n||(i=this),t[e](n,i,this),this}})),l.bind=l.on,l.unbind=l.off;const c=l},22977:(e,t,n)=>{"use strict";n(14710)},35922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const i=e=>Function.prototype.toString.call(e),r=i(Object);function s(e){if(!e||"object"!=typeof e)return!1;const t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;const n=t.constructor;return"function"==typeof n&&n instanceof n&&i(n)===r}},60964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(86076);function o(e,t){Array.isArray(t)?r().each(t,e):e(t)}const a={parseXML:n(15421).Z,replaceXMLElementNames:function(e,t,n){Array.isArray(t)||(t=[t]);const i=t.join("|"),r=new RegExp("<("+i+")","g"),s=new RegExp("</("+i+")>","g");return(e=e.replace(r,"<"+n+' elementName="$1"')).replace(s,"</"+n+">")},parseEncodedString:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];if(null==n)e[t]="";else try{e[t]=decodeURIComponent(n)}catch(e){}}}),t)},parseInteger:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null==n||""===n?0:parseInt(n,10)}}),t)},parseFloat:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=null===n||""===n?0:parseFloat(n)}}),t)},parseBoolean:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];e[t]=1===Number(n)||"true"===n}}),t)},parseArray:function(e,t){e&&o((function(t){if(e.hasOwnProperty(t)){const n=e[t];Array.isArray(n)||(e[t]=[n])}else e[t]=[]}),t)},parseQueryString:function(e,t,n){e&&(n||(n="&"),o((function(t){if(!e.hasOwnProperty(t))return;let i=e[t];var o;r().isObject(i)||(r().isString(i)?(i=i.trim().replace(/^(\?|#)/,""),e[t]=i?(o=i.split(n),r().reduce(o,(function(e,t){const n=t.split("=");let i=n[0],r=n[1];try{i=decodeURIComponent(i),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r}catch(e){s.Z.warn("Unable to decode query string at "+i)}return e}),{})):{}):e[t]={})}),t))}}},25798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return 1===Number(e)||"true"===e}},80622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return null==e||""===e?0:parseInt(e,10)}},26603:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(86076),r=n(43741);const s=function(e,t={}){try{return JSON.parse(e)}catch(n){const s=(0,r.Z)(e)?e.substring(0,50):"no response";return i.Z.warn(`[Parser] Unable to parse JSON: ${n.message} (${s})`),t}}},57020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(86076),r=n(35922),s=n(43741);const o=function(e,t){if(t||(t={}),(0,r.Z)(e))return e;if(!(0,s.Z)(e))return{};if(!(e=e.trim().replace(/^(\?|#)/,"")))return{};const n=t.separators&&t.separators.join("")||t.separator||"&",o=new RegExp(`[${n}]+`);return e.split(o).reduce(((e,t)=>{let[n,r]=t.split("=");try{n=decodeURIComponent(n),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r}catch(e){i.Z.warn(`[Parser] Unable to decode query string at ${n}`)}return e}),{})}},15421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(27098),r=n.n(i),s=n(86076);let o;const a=function(e){const t={};let n;if(!e)return s.Z.warn("[Parser] Empty XML source"),t;o=o||new(r())({attributePrefix:"",emptyNodeForm:{},ignoreRoot:!0});try{n=e&&o.xml2js(e)}catch(e){s.Z.warn("[Parser] Unable to parse XML: "+e.message)}return n||t}},61194:(e,t,n)=>{"use strict";n.d(t,{l:()=>s,Z:()=>o});var i=n(50958);let r;const s=["Video","Track","Photo","Playlist"],o=function(e,t){const n=t&&t.includeDirectories,o=function(e,t,n){Array.isArray(t)||(t=[t]);const i=t.join("|"),r=new RegExp(`<(${i})`,"g"),s=new RegExp(`</(${i})>`,"g");return e.replace(r,`<${n} elementName="$1"`).replace(s,`</${n}>`)}(e,n?["Directory",...s]:s,"Metadata");return n?o:function(e){r||(r=(0,i.lh)().map((e=>e.typeString)).join("|"));const t=new RegExp(`<Directory([^>]*?)type="(${r})"([\\s\\S]*?)</Directory>`,"gm"),n=new RegExp(`<Directory([^>]*?)type="(${r})"([\\s\\S]*?)/>`,"gm");return e.replace(t,'<Metadata$1type="$2" elementName="Directory"$3</Metadata>').replace(n,'<Metadata$1type="$2" elementName="Directory"$3/>')}(o)}},38744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?"1":"0"}},80441:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e={},t={}){return function(e,t){const n=Object.keys(e);return t.orFields&&t.andFields&&n.sort(((e,n)=>t.orFields.includes(e)&&t.andFields.includes(n)?-1:t.andFields.includes(e)&&t.orFields.includes(n)?1:0)),n}(e,t).reduce(((n,i,r)=>{let s=t.separator||"&";return 0===r?s="":t.orFields&&t.orFields.includes(i)?s="|":t.andFields&&t.andFields.includes(i)&&(s="&"),n+`${s}${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`}),"")}},2932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(13469),r=n.n(i);var s=n(25798),o=n(86076);var a=n(80622),l=n(26603);var c=n(57020);var d=n(15421),u=n(38744);var h=n(80441);const p={parseType:function(e,t,n){const i=this.getByType("parse",e,this._parseTypeMap);return i?i(t,n):t},stringifyType:function(e,t,n){if(r().isString(t))return t;if(null==t)return"";const i=this.getByType("stringify",e,this._stringifyTypeMap);return i?i(t,n):t},getByType:function(e,t,n){if(n&&r().has(n,t))return n[t];const i=e+(t.charAt(0).toUpperCase()+t.slice(1));return r().has(this,i)?(n[t]=this[i],this[i]):void 0},parseBoolean:s.Z,stringifyBoolean:u.Z,parseInteger:a.Z,parseFloat:function(e){return null==e||""===e?0:window.parseFloat(e)},parseString:function(e){return null==e?"":String(e)},parseEncodedString:function(e){if(null==e)return"";try{return decodeURIComponent(e)}catch(t){return o.Z.warn("[Parser] Unable to parse encoded string"),e}},parseArray:function(e){return e?Array.isArray(e)?e:[e]:[]},parseList:function(e){return e?Array.isArray(e)?e:e.split(","):[]},stringifyList:function(e){return e.join(",")},parseQueryString:c.Z,stringifyQueryString:h.Z,parseJSON:l.Z,parseXML:d.Z,reset:function(){this._parseTypeMap={json:this.parseJSON,xml:this.parseXML},this._stringifyTypeMap={}}};p.reset();const g=p},22706:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(86076);const o={ORIGINAL:-1,CONVERT_AUTOMATICALLY:-2,qualities:{},getQualityByIndex:function(e){if(e===this.CONVERT_AUTOMATICALLY)return{index:this.CONVERT_AUTOMATICALLY};if(e<0)return{index:this.ORIGINAL};const t={index:e};return r().each(this.qualities,(function(n,i){t[i]=r().result(this.qualities,i)[e]}),this),t},getQualityCount:function(){const e=r().first(r().keys(this.qualities));return r().result(this.qualities,e).length},getQualityAttribute:function(e){const t=function(e,t){const n=e.toJSON?e.toJSON():e,{isExtra:i,guid:r}=n;return!(i&&!/^file:\/\//.test(r))&&t}(e,e.server.get("isPrivateConnection"))?"localQuality":"remoteQuality";return"video"!==this.type?this.type+"!"+t:t},getSyncQualityAttribute:function(){return"syncQuality!"+this.type},getCurrentQuality:function(e,t,n){const i=this.getQualityAttribute(e);let o=t.get(i);return o>=this.getQualityCount()&&(s.Z.warn("Quality index "+o+" is out of bounds"),o=r().result(t,"defaults")[i],n({[i]:o})),r().extend(this.getQualityByIndex(o),{attribute:i})},getAvailableQualities:function(e){e||(e={});const t=e.lowestQualityIndex;let n=e.highestQualityIndex;const i=e.comparator,r=[];n===this.ORIGINAL&&(n=void 0);for(let e=0,s=this.getQualityCount();e<s;e++)if(!(t&&e<t)){if(n&&e>n)return r;if(i&&i.call(this,e))return r;r.push(this.getQualityByIndex(e))}return r},getResolutionFromSize:function(e){const t=e.split("x"),n=parseInt(t[1],10);return this.getResolutionFromHeight(n)},getResolutionFromHeight:function(e){return e>2560?"8k":e>1100?"4k":e>720?"1080":e>576?"720":e>480?"576":e>360?"480":"sd"},getHeightFromResolution:function(e){switch(e){case"8k":return 5120;case"4k":return 2560;case"1080":return 1080;case"720":return 720;case"576":return 576;case"480":return 480;case"sd":default:return 360}},getNearestIndex:function(e,t){if(!t)return this.ORIGINAL;let n=e.indexOf(t);if(n<0){n=0;for(let i=0,r=e.length;i<r&&!(e[i]>t);i++)n=i}return n}}},29045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),r=n.n(i);function s(e,t){const n=t?8*Math.round(t/8):0,i=e?8*Math.round(e/8*(9/16)):0;return Math.max(n,i)}var o=n(22706);const a=r().extend({},o.Z,{type:"video",qualities:{bitrate:[64,96,208,320,720,1500,2e3,3e3,4e3,8e3,1e4,12e3,2e4],videoResolution:["220x128","220x128","284x160","420x240","576x320","720x480","1280x720","1280x720","1280x720","1920x1080","1920x1080","1920x1080","1920x1080"],videoQuality:[10,20,30,30,40,60,60,75,100,60,75,90,100]},getAvailableQualitiesFor(e,t,n){if(!e||!t)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];const i=t.get("transcoderVideo"),o=t.get("transcoderVideoRemuxOnly"),a=this.getMaximumResolution(e);if(!i||o||!a)return[];const l=t.get("maxUploadBitrate"),c=r().extend({},n,{comparator:function(e){if(l&&this.qualities.bitrate[e]>l)return!0;const t=this.qualities.videoResolution[e].split("x");return s(t[0],t[1])>a}});return this.getAvailableQualities(c)},getBestAvailableQuality:function(e,t){return 0===t.length?a.ORIGINAL:t.find((t=>t.index===e.index))?e.index:r().last(t).index},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)},getMinimumQuality:function(e,t){return(e===a.ORIGINAL?Number.MAX_VALUE:e)<(t===a.ORIGINAL?Number.MAX_VALUE:t)?e:t},getMaximumQuality:function(e,t){return this.getMinimumQuality(e,t)===e?t:e},getMaximumResolution:function(e){return e.reduce((function(e,t){if(!t.width&&!t.height)return e;const n=s(t.width,t.height);return null===e||n>e?n:e}),null)},isExplicitQuality:function(e){return e!==a.ORIGINAL&&e!==a.CONVERT_AUTOMATICALLY}}),l=a},78574:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(13469),r=n.n(i),s=n(55327);function o(e,t){const n=r().invert(e);return r().reduce(e,((e,i)=>(e[i]=t[n[i]],e)),{})}const a={playing:"playing",paused:"paused",stopped:"paused",error:"paused",buffering:"playing"},l=new(s.Z.extend({types:{VIDEO:"video",MUSIC:"music",PHOTO:"photo"},elements:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},streams:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},states:{STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing",BUFFERING:"buffering",ERROR:"error"},slideshowStates:{PLAYING:"playing",PAUSED:"paused"},castStates:{ERROR:"IDLE",STOPPED:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING",BUFFERING:"BUFFERING"},mediaStates:{LOADING:"LOADING",BUFFERING:"BUFFERING",READY:"READY",ERROR:"ERROR"},initialize(){this.typeByElement=o(this.elements,this.types),this.elementByType=o(this.types,this.elements),this.typeByStream=o(this.streams,this.types),this.streamByType=o(this.types,this.streams),this.statebyCastState=o(this.castStates,this.states),this.castStateByState=o(this.states,this.castStates)},getTypeByElement(e){return this.typeByElement[e]},getElementByType(e){return this.elementByType[e]},getTypeByStream(e){return this.typeByStream[e]},getStreamByType(e){return this.streamByType[e]},getStateByCastState(e){return this.statebyCastState[e]},getCastStateByState(e){return this.castStateByState[e]},getSlideshowStateByState:e=>a[e]}))},25368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(80100);function r(e=i.Z){return"edge"===e.id}},7966:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(19755),r=n.n(i);const s=function(e){const t=r().Deferred();return e.then(t.resolve,t.reject,t.notify),{promise:t.promise(),cancel:function(){t.reject({isCanceled:!0})}}}},66910:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(75134),r=n(35785),s=n(71746),o=n(21235),a=n(10135);const l=n(66255).Z.extend({name:"LegacyLibraryProviderModel",defaults(){const e=this.server,t=e.get("isFullServer"),n=e.get("isFullOwnedServer"),l=[{type:r.Z.CONTENT,key:"/library/sections"},{type:r.Z.MATCH,key:"/library/matches"},{type:r.Z.METADATA,key:"/library/metadata"}];return t&&l.push({type:r.Z.SEARCH,key:"/hubs/search"},{type:r.Z.PLAY_QUEUE,key:"/playQueues"},{type:r.Z.PLAYLIST,key:"/playlists"},{type:r.Z.TIMELINE,key:"/:/timeline"},{type:r.Z.ACTIONS,actions:[{id:i.lq,key:"/:/scrobble",reverseKey:"/:/unscrobble"},{id:i.zw,key:"/:/rate"}]}),n&&l.push({type:r.Z.MANAGE}),{identifier:s.Y3,title:(0,o.Z)("Library"),types:["video","audio","photo"],protocols:n?["stream","download"]:["stream"],features:new a.Z(l,{parse:!0,server:e})}}});function c(e,t){!t.get("isCloud")&&e.forEach((e=>{e.set({isPending:!1,isPopulated:!0})})),t.get("isCloud")||e.get(s.Y3)||e.add(new l({isPending:!1,isPopulated:!0},{server:t}))}},42780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(50958),r=n(71065);function s(e,t){const n=["/library/sections",e,"all"];return t===i.pV?r.Z.join(n):r.Z.join(n,{type:i.nW(t).id})}},51095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(71746);const r=function(e,t){const n=t||e;return i.wB(n,i.Ll)?i.Ll:n}},81679:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(39666),l=n(28941),c=n(59695),d=n(65228),u=n(55327),h=n(49112),p=n(86076),g=n(51401),m=n(32183);const f=u.Z.extend({mixins:g.Z,url(){const e=this.server.get("activeConnection");if(!e)return;const t=e.id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{connection:new c.Z({uri:t}),appendToken:!0,appendHeaders:this.appendHeaders})},initialize(e){o().bindAll(this,"onOpen","onClose","onError","onMessage","getMessageTypes"),this.server=e.server,this.appendHeaders=e.appendHeaders||!1},open(){this.socket&&this.close(),this._deferred=r().Deferred();const e=o().result(this,"url");return e?(this.socket=new window.WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage,this._deferred.promise()):this._deferred.reject().promise()},close(){this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null,this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject())},testConnection(){if(!this.server.get("connected"))return;const e=this.server.get("desktop").get("update");e&&e.get("state")===h.INSTALLING&&this.server.set("connected",null),this.server.trigger("error:connection",this.server)},onOpen(e){const t=l.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,d.f4)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{opened:!0}),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e)},onClose(e){this.close();const t=l.DB("appStore"),n=this.server.entityID();n&&t.dispatch((0,d.LW)({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{closed:!0}),this.trigger("close",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onError(e){this.close(),this.server.trigger("socket:websocket",{error:!0}),this.trigger("error",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onMessage(e){let t;try{t=JSON.parse(e.data)}catch(t){return void p.Z.warn("[Connections] Error formatting message:\n%s",e.data)}const n=!!t._elementType,i=n?o().first(t._children):t.NotificationContainer;if(i){const e=this[n?t.type:i.type];let r;r=n?Array.isArray(i)?i:[i]:function(e,t){return(-1===t.indexOf(e.type)?[]:function(e){switch(e.type){case m.eS:return e.Setting;case m.jN:return e.TimelineEntry;case m.Q_:return e.StatusNotification;case m.ad:return e.ProgressNotification;case m.Z$:return e.PlaySessionStateNotification;case m.cc:return e.BackgroundGeneratorStateNotification;case m.RN:return e.VersionStateNotification;case m.ax:return e.BackgroundProcessingQueueEventNotification;case m.a8:case m.VL:case m.Mu:return e.TranscodeSession;case m.TD:return e.AutoUpdateNotification;case m.lY:return e.ReachabilityNotification;case m.yV:return e.AccountUpdateNotification;case m.gk:return e.ActivityNotification;case m.u0:return e.MediaGrabberDeviceNotification;case m.cK:return e.MediaProviderNotification;case m.sU:return e.MediaProviderContentNotification;case m.sY:return e.LogSentNotification;case m.wL:return e.MediaProviderSubscriptionNotification;case m.iW:return e.ClientDecisionRequestEventNotification}}(e))||[]}(i,this.getMessageTypes()),r.forEach((t=>{try{this.trigger("message",t)}catch(e){p.Z.error("[Connections] Error when triggering",t,e),a.Tb(e,{extra:{message:t}})}if(o().isFunction(e))try{e.call(this,t)}catch(e){p.Z.error("[Connections] Error when handling",t,e),a.Tb(e,{extra:{message:t}})}}))}}})},32183:(e,t,n)=>{"use strict";n.d(t,{yV:()=>i,gk:()=>r,cc:()=>s,ax:()=>o,u0:()=>a,sY:()=>l,Z$:()=>c,eS:()=>d,ad:()=>u,cK:()=>h,sU:()=>p,wL:()=>g,lY:()=>m,Q_:()=>f,jN:()=>v,Mu:()=>y,a8:()=>b,VL:()=>Z,TD:()=>S,RN:()=>w,iW:()=>P,Ej:()=>C});const i="account",r="activity",s="backgroundGeneratorState",o="backgroundProcessingQueue",a="grabber.device",l="log",c="playing",d="preference",u="progress",h="provider.change",p="provider.content.change",g="provider.subscription.change",m="reachability",f="status",v="timeline",y="transcodeSession.end",b="transcodeSession.start",Z="transcodeSession.update",S="update.statechange",w="versionState",P="clientDecision",C="notifyAccountChange"},79154:(e,t,n)=>{"use strict";n.d(t,{Ts:()=>i,zL:()=>r,sC:()=>s,t6:()=>o,y0:()=>a,QX:()=>l,Gh:()=>c,k9:()=>d,TS:()=>u,ZJ:()=>h,K5:()=>p,AA:()=>g,_V:()=>m,nJ:()=>f,RG:()=>v,JW:()=>y,iJ:()=>b});const i="general.db.backup",r="general.bundle.clean",s="grabber.grab",o="grabber.assimilate",a="library.delete",l="library.update.section",c="library.update.item.metadata",d="media.download",u="media.generate.bif",h="media.generate.chapter.thumbs",p="media.generate.intros",g="media.generate.music.analysis",m="media.offline.transcode",f="general.db.optimize",v="provider.device.channelscan",y="provider.epg.load",b="subtitle.download"},22478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(34510),r=n(15856),s=n(50958);function o(e,t){var n;const o=e.isConnected&&e.isFullOwnedServer&&(null==(n=e.ownerFeatures)?void 0:n.includes(r.wz));return{hasPlexMusicUpgrade:!(!o||!t||t.type!==s.R0||t.agent!==i.zR&&t.agent!==i.E4),hasPlexMovieUpgrade:!(!o||!t||t.type!==s.wR||t.agent!==i.A2&&t.agent!==i.HN),hasPlexSeriesUpgrade:!(!o||!t||t.type!==s.nr||t.agent!==i.A2&&t.agent!==i.NV)}}},42466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(7631),r=n(26120);function s(e){return!!e.get("shortVersion")&&(0,r.Z)(e.get("shortVersion"),i.Z.mediaProvidersServerRoot)}},71417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(92650);const r=function(){return(0,i.Z)()}},4120:(e,t,n)=>{"use strict";function i(e,t,...n){if(!t)return;const i=[];i.push(e);for(let e=0,t=n.length;e<t;e++){const t=n[e];t&&i.push(t)}return i.push(t),i.join("--")}n.d(t,{Z:()=>i})},89703:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SERVER:()=>i,PROVIDER:()=>r,LIBRARY:()=>s,HUB:()=>o,USER:()=>a,RESOURCE:()=>l,FRIEND:()=>c,HOME_USER:()=>d,METADATA_LIST:()=>u,METADATA_ITEM:()=>h,PLAY_QUEUE_ITEM:()=>p,PLAYLIST_ITEM:()=>g,SEARCH_RESULT:()=>m,TRANSCODE_JOBS:()=>f,BACKGROUND_TRANSCODE_JOBS:()=>v});const i="servers",r="providers",s="libraries",o="hubs",a="users",l="resources",c="friends",d="homeUsers",u="metadataLists",h="metadataItems",p="playQueueItems",g="playlistItems",m="searchResults",f="transcodeJobs",v="backgroundTranscodeJobs"},98782:(e,t,n)=>{"use strict";n.d(t,{$R:()=>p,js:()=>u,Y7:()=>d,SW:()=>c,bg:()=>l,VX:()=>a,tz:()=>g,Ij:()=>h});var i=n(86076);function r(e,t,n){const i=e.get("entities").get(t);if(i){const e=i.get(n);if(e)return e.get("model")}}function s(e,t,n){const s=r(e,t,n);return s||i.Z.warn('An entity does not exist with the type "%s" and id "%s"',t,n),s}var o=n(89703);function a(e){return e.get("user")}function l(e){return e.get("user").get("desktop")}function c(e,{serverEntityID:t}){return s(e,o.SERVER,t)}function d(e,t){const n=c(e,t);return n&&n.get("desktop")}function u(e,{providerEntityID:t}){return s(e,o.PROVIDER,t)}function h(e,{metadataListEntityID:t}){return r(e,o.METADATA_LIST,t)}function p(e,{metadataItemEntityID:t}){return s(e,o.METADATA_ITEM,t)}function g(e,{metadataItemEntityID:t}){return r(e,o.METADATA_ITEM,t)}},63542:(e,t,n)=>{"use strict";n.d(t,{c9:()=>f,GF:()=>v});var i=n(14710),r=n(86076);const s=[];let o,a,l,c=!1,d=!1,u=1e3/60;function h(){o&&(o=window.clearTimeout(o))}function p(){a&&(a=window.clearTimeout(a))}function g(){const e=l;l=null,p(),e&&e()}function m(){h(),p();const e=window.performance.now();let t;for(d=!0;s.length&&(!t||t-e<16.666666666666668);)s.pop()(),t=window.performance.now();d=!1,s.length?(r.Z.warn("[State] Unable to process all updates within budget; %s update(s) remaining",s.length),o=window.setTimeout(m,u)):l&&(a=window.setTimeout(g,u))}function f(e){for(h(),p(),d=!0,c=!0;s.length;)s.pop()();if(e)try{e()}catch(e){(0,i.Z)(!1,e.name+": "+e.message)}l&&g(),d=!1,c=!1}function v(e,t){if(t.isStateTreeRoot)return l=e,void(d||a||(a=window.setTimeout(g,u)));c?e():(p(),s[0]!==e&&s.unshift(e),d||o||(o=window.setTimeout(m,u)))}},98945:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?e.toUpperCase():""}},4231:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}},95180:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},61567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(2932),r=n(21235);const s=function(e){return e&&i.Z.parseBoolean(e)?(0,r.Z)("Yes"):(0,r.Z)("No")}},43741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return"[object String]"===window.toString.call(e)}},90379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});function i(e=24){const t=(n=e,i=0,r=1024,Math.max(Math.min(n,r),i));var n,i,r;let s="";for(;s.length<t;)s+=Math.random().toString(36).substring(2,t-s.length+2);return s}},67201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(13469),r=n.n(i);const s=function(e){const t=/(\d+\.){2,3}\d+/.exec(e);return r().first(t)||e}},6224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(71065),r=n(46171);const s=function(e,t){return(0,r.Z)(i.Z.getLastSegment(e||""),t)}},46171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t,n){if(!e)return"";if(e.length>t){const i=t-3-(n=n||Math.floor((t-3)/2));return e.substr(0,n)+"..."+e.substr(e.length-i)}return e}},21235:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,U:()=>s});var i=n(28163);function r(e,t,...n){return i.Z.t(e,t,...n)}function s(e,t,...n){return i.Z.tEscape(e,t,...n)}},81191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(13469),r=n.n(i),s=n(86076);function o(e){const t=r().clone(e);return t.hasOwnProperty("title")?(t.title=r().result(t,"title"),t.hasOwnProperty("shortTitle")&&(t.shortTitle=r().result(t,"shortTitle")),t.hasOwnProperty("plural")&&(t.plural=r().result(t,"plural")),t):t}function a(e,t){const n={};return e.forEach((e=>{n[e]=t.reduceRight(((t,n)=>{const i=n[e];return null!=i&&(t[i]=n),t}),{})})),{contains:function(e){for(const t in n)if(n[t][e])return!0;return!1},get:function(e){for(const t in n){const i=n[t][e];if(i)return o(i)}s.Z.warn(`No type was found for ${e}`)},getAll:function(){return t.map(o)}}}},94377:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>r,pX:()=>s,j0:()=>o,pV:()=>a});var i=n(81191);const r="none",s="video",o="audio",a="photo",l=(0,i.Z)(["id","typeString"],[{id:0,typeString:r},{id:1,typeString:s},{id:2,typeString:o},{id:3,typeString:a}]);l.get,l.getAll},50958:(e,t,n)=>{"use strict";n.d(t,{wR:()=>o,nr:()=>a,xx:()=>l,uG:()=>c,R0:()=>d,c5:()=>u,IK:()=>h,vu:()=>p,pV:()=>g,q8:()=>m,zg:()=>f,du:()=>v,GV:()=>y,S7:()=>b,nW:()=>w,lh:()=>P,A_:()=>x,tm:()=>E,O3:()=>I,ye:()=>k});var i=n(21235),r=n(81191),s=n(94377);const o="movie",a="show",l="season",c="episode",d="artist",u="album",h="track",p="clip",g="photo",m="photoalbum",f="playlist",v="collection",y="channel",b="author",Z="audiobook",S=(0,r.Z)(["id","typeString"],[{id:1,typeString:o,title:()=>(0,i.Z)("Movie"),plural:()=>(0,i.Z)("Movies"),mediaType:s.pX},{id:2,typeString:a,title:()=>(0,i.Z)("Show"),plural:()=>(0,i.Z)("Shows"),mediaType:s.Hn,child:l},{id:3,typeString:l,title:()=>(0,i.Z)("Season"),plural:()=>(0,i.Z)("Seasons"),mediaType:s.Hn,parent:a,child:c},{id:4,typeString:c,title:()=>(0,i.Z)("Episode"),plural:()=>(0,i.Z)("Episodes"),mediaType:s.pX,parent:l},{id:5,typeString:"trailer",title:()=>(0,i.Z)("Trailer"),plural:()=>(0,i.Z)("Trailers"),mediaType:s.pX},{id:6,typeString:"comic",title:()=>(0,i.Z)("Comic"),plural:()=>(0,i.Z)("Comics"),mediaType:s.pV},{id:7,typeString:"person",title:()=>(0,i.Z)("Person"),plural:()=>(0,i.Z)("People"),mediaType:s.Hn},{id:8,typeString:d,title:()=>(0,i.Z)("Artist"),plural:()=>(0,i.Z)("Artists"),mediaType:s.Hn,child:u},{id:9,typeString:u,title:()=>(0,i.Z)("Album"),plural:()=>(0,i.Z)("Albums"),mediaType:s.Hn,parent:d,child:h},{id:10,typeString:h,title:()=>(0,i.Z)("Track"),plural:()=>(0,i.Z)("Tracks"),mediaType:s.j0,parent:u},{id:11,typeString:"picture",title:()=>(0,i.Z)("Picture"),plural:()=>(0,i.Z)("Pictures"),mediaType:s.pV},{id:12,typeString:p,title:()=>(0,i.Z)("Clip"),plural:()=>(0,i.Z)("Clips"),mediaType:s.pX},{id:13,typeString:g,title:()=>(0,i.Z)("Photo"),plural:()=>(0,i.Z)("Photos"),mediaType:s.pV,parent:m},{id:14,typeString:m,title:()=>(0,i.Z)("Photo Album"),plural:()=>(0,i.Z)("Photo Albums"),mediaType:s.Hn,child:g},{id:15,typeString:f,title:()=>(0,i.Z)("Playlist"),plural:()=>(0,i.Z)("Playlists"),mediaType:s.Hn,parent:m},{id:16,typeString:"playlistFolder",title:()=>(0,i.Z)("Playlist"),plural:()=>(0,i.Z)("Playlists"),mediaType:s.Hn,child:f},{id:18,typeString:v,title:()=>(0,i.Z)("Collection"),plural:()=>(0,i.Z)("Collections"),mediaType:s.Hn},{id:20,typeString:b,title:()=>"Author",plural:()=>"Authors",mediaType:s.Hn},{id:21,typeString:Z,title:()=>"Audiobook",plural:()=>"Audiobooks",mediaType:s.j0},{id:22,typeString:"chapter",title:()=>"Chapter",plural:()=>"Chapters",mediaType:s.j0,parent:Z}]),w=(S.contains,S.get),P=S.getAll;function C(e){const t=S.get(e);if(t&&t.child)return S.get(t.child)}function x(e){const t=S.get(e);if(t){const e=t.child;return null==e?t:x(e)}}function A(e){const t=S.get(e);if(t){const e=t.parent;return null==e?t:A(e)}}function E(e,t){if(!t){const t=A(e);return t?E(t.id,[]):[]}const n=S.get(e),i=C(e),r=[...t,n];return i?E(i.id,r):r}function I(e){return!!C(e)}function k(e){const t=S.get(e);return!!t&&t.mediaType===s.Hn}},38784:(e,t,n)=>{"use strict";n.d(t,{j0:()=>i,pX:()=>r,pV:()=>s});const i="audio",r="video",s="photo"},10123:(e,t,n)=>{"use strict";n.d(t,{MB:()=>l,TV:()=>c,xF:()=>d,n1:()=>u,FM:()=>h,S7:()=>p,ZP:()=>g});var i=n(34510),r=n(11172),s=n(21235),o=n(81191),a=n(50958);const l="movies",c="tv",d="music",u="photos",h="videos",p="author",g=(0,o.Z)(["key","typeID","typeString","rootTypeString"],[{key:l,typeID:"1",typeString:a.wR,rootTypeString:a.wR,title:()=>(0,s.Z)("Movies"),shortTitle:()=>(0,s.Z)("Movies"),defaultLanguage:"en",defaultAgents:[i.WX,i.HN],defaultScanners:[r.Lx,r.wz],mutual:{agent:i.WX,scanner:r.Lx}},{key:c,typeID:"2",typeString:a.nr,rootTypeString:a.nr,title:()=>(0,s.Z)("TV Shows"),shortTitle:()=>(0,s.Z)("Shows"),defaultLanguage:"en",defaultAgents:[i.Zb,i.NV],defaultScanners:[r.QQ,r.VA],mutual:{agent:i.Zb,scanner:r.QQ}},{key:d,typeID:"8",typeString:a.R0,rootTypeString:a.R0,title:()=>(0,s.Z)("Music"),shortTitle:()=>(0,s.Z)("Music"),defaultLanguage:"en",defaultAgents:[i.Ut,i.E4],defaultScanners:[r.c3,r.OQ],exclusiveAgents:[i.zR],exclusiveScanners:[r.N6],mutual:{agent:i.Ut,scanner:r.c3}},{key:u,typeID:"13",typeString:a.pV,rootTypeString:a.q8,title:()=>(0,s.Z)("Photos"),shortTitle:()=>(0,s.Z)("Photos"),defaultLanguage:"en",defaultAgents:[i.Hn],defaultScanners:[r.RZ],mutual:{}},{key:h,typeID:"1",typeString:a.wR,rootTypeString:a.vu,title:()=>(0,s.Z)("Other Videos"),shortTitle:()=>(0,s.Z)("Videos"),defaultLanguage:"xn",defaultAgents:[i.Hn],defaultScanners:[r.S5],mutual:{}},{key:p,typeID:"20",typeString:a.S7,rootTypeString:a.S7,title:()=>"Audiobooks",shortTitle:()=>"Audiobooks",defaultLanguage:"en",defaultAgents:[i.iW],defaultScanners:[r.uN],mutual:{}}])},44333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(21235);const r=(0,n(81191).Z)(["id","typeString"],[{id:1,typeString:"video",key:"videoStreamID",title:()=>(0,i.Z)("Video")},{id:2,typeString:"audio",key:"audioStreamID",title:()=>(0,i.Z)("Audio")},{id:3,typeString:"subtitles",key:"subtitleStreamID",title:()=>(0,i.Z)("Subtitles")},{id:4,typeString:"lyrics",key:"lyricStreamID",title:()=>(0,i.Z)("Lyrics")}])},58182:(e,t,n)=>{"use strict";n.d(t,{lv:()=>d,KF:()=>u,q1:()=>h,iX:()=>p});var i=n(13469),r=n.n(i);const s=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,o=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/i,a=/[a-f0-9]{1,4}/gi;function l(e){const t=s.exec(e);if(null!=t)return{octets:r().map(r().rest(t),(e=>parseInt(e,10)))}}function c(e){if(!o.test(e))return;const t=e.split("::"),n=t[0].match(a),i={parts:[]};if(null!=n){if(n.length>8)return;i.parts=r().map(n,(e=>parseInt(e,16)))}if(t.length>1){const e=t[1].match(a),n=r().map(e,(e=>parseInt(e,16))),s=8-i.parts.length-n.length;if(s<0||8===s)return;r().times(s,(()=>{i.parts.push(0)})),i.parts=i.parts.concat(n)}return i}function d(e){return"localhost"===e||function(e){const t=l(e);return!(!t||127!==t.octets[0]&&!r().all(t.octets,(e=>0===e)))}(e)||function(e){const t=c(e);return!!t&&(r().all(r().take(t.parts,7),(e=>0===e))&&1===r().last(t.parts))}(e)}function u(e){return function(e){const t=l(e);if(t){if(10===t.octets[0])return!0;if(172===t.octets[0]&&t.octets[1]>=16&&t.octets[1]<=31)return!0;if(192===t.octets[0]&&168===t.octets[1])return!0}return!1}(e)||function(e){const t=c(e);return!!(t&&t.parts[0]>=64512&&t.parts[0]<=65023)}(e)}function h(e){const t=l(e);return!(!t||!r().all(t.octets,(e=>e>=0&&e<=255)))}function p(e){return h(e)?e.split(".").slice(0,-1).join("."):""}},14398:(e,t,n)=>{"use strict";function i(e){return/^\w+:\/\//.test(e)}n.d(t,{Z:()=>i})},71065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(80129),r=n.n(i),s=n(54998),o=n.n(s),a=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e};const p=/^([^?#]*)(?:\?([^#]*))?(#.*)?/,g=/([^?]*)\??(.*)()/;function m(e,t){return r().stringify(e,h({arrayFormat:"repeat"},t))}function f(e,t){return r().parse(e,t)}function v(e,t){const n=o().parse(e),i=n.protocol?`${n.protocol}:`:"",r=n.port?String(n.port):"",s=n.hostname?r&&`${n.hostname}:${r}`||n.hostname:"",a=n.hostname||"",l=n.fragment?`#${n.fragment}`:"",c=e,d=i&&s?`${i}//${s}`:"",u=n.path||"",h=n.query?`?${n.query}`:"",p=n.query?f(n.query,t):{};return{isAbsolute:/^[\w:]*\/\//.test(e),hash:l,host:s,hostname:a,href:c,origin:d,params:p,pathname:u,port:r,protocol:i,search:h}}const y={getLastSegment:function(e){if(e){const t=/[^/\\]+$/.exec(e);return(null==t?void 0:t[0])||e}return""},stringifyParams:m,parseParams:f,parseUrl:function(e){const t=h({},v(e)),n=/file/.test(t.protocol);return t.protocol||(t.protocol=window.location.protocol),n||(t.host||(t.host=window.location.host),t.hostname||(t.hostname=window.location.hostname),t.port||(t.port=window.location.port)),t.origin||(t.origin=n?`${t.protocol}//`:`${t.protocol}//${t.host}`),t},parseUri:v,join:function(e,t,n){var i;"string"==typeof e&&(e=[e]),e=e.filter((e=>e));const r=(null==n?void 0:n.recognizeHash)?p:g,s=e.reduce(((e,t)=>{const n=function(e){return String(e).replace(/^\/|\/$/g,"")}(t).match(r);if(!n)return e;const[,i,s,o]=n;return i&&(e.path=e.path?e.path+"/"+i:i),s&&(e.params=e.params?e.params+"&"+s:s),o&&(e.hash=o),e}),{path:"",params:"",hash:""});let o;if(null==n?void 0:n.parseParams)o=m(Object.assign(f(s.params),"string"==typeof t?f(t):t));else if((s.params||t)&&(s.params&&(o=s.params),t)){const e="string"==typeof t?t:m(t,null==n?void 0:n.stringifyOptions);e&&(o=o?`${o}&${e}`:e)}const a=e.length&&"/"===(null==(i=e[0])?void 0:i.charAt(0))?"/":"",l=s.path;return a+l+((null==n?void 0:n.trailingSlash)&&l.length&&"/"!==l[l.length-1]?"/":"")+(o?"?"+o:"")+s.hash}}},65444:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(95180);const r=function(e,t){const n=new RegExp(`(\\?|&)(${(0,i.Z)(t)}=[^\\?&]+(?:[\\?&]?))`,"g");return e.replace(n,((e,t)=>t)).replace(/(\?|&)$/,"")}},30581:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){const[,t,n=""]=e.match(/(^[^#]+)(?:#(.*$))?/),[,i,r=""]=t.match(/(^[^?]+)(\?.*$)?/),[,s,o=""]=n.match(/(^[^?]*)(\?.*$)?/);return{base:i,searchParams:r,hashPath:s,hashParams:o}}},97102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(28941),r=n(80731);function s(e){return!e.get("experienceSettings").get("isRemoteSchemaVersionNewer")&&r.Z.allowSyncSettings&&(0,i.DB)("settingFinder").find("shouldSyncSettings")}},92650:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(){return window!==window.top}},80002:(e,t,n)=>{"use strict";function i(e){return{status:e.status,statusText:e.statusText,readyState:e.readyState,responseText:e.responseText}}n.d(t,{Z:()=>i})},81560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941),l=n(55327),c=n(86076),d=n(71065);const u=new(l.Z.extend({initialize(){o().bindAll(this,"onAjaxSend","onAjaxComplete"),this.requests=[],this.byId={}},startListening(){const e=r()(document);e.on("ajaxSend",this.onAjaxSend),e.on("ajaxComplete",this.onAjaxComplete)},stopListening(){const e=r()(document);e.off("ajaxSend",this.onAjaxSend),e.off("ajaxComplete",this.onAjaxComplete)},abortAll(e){for(let t=this.requests.length-1;t>-1;t--){const n=this.requests[t];null!=e&&e!==n.settings.scope||this.abort(n)}},abort(e){const t=o().isString(e)?this.byId[e]:e;t&&(t.xhr.aborting=!0,t.xhr.abort(),this.remove(t))},store(e,t){const n=o().uniqueId("r");e.rid=n;const i={xhr:e,settings:t};return this.requests.push(i),this.byId[n]=i,i},remove(e){const t=o().indexOf(this.requests,e);t>-1&&this.requests.splice(t,1),this.byId.hasOwnProperty(e.xhr.rid)&&delete this.byId[e.xhr.rid]},onAjaxSend(e,t,n){if(n.skipCorsWithRedirect)return;const i=this.store(t,n);t.always((()=>{t.aborting||this.remove(i)}))},onAjaxComplete(e,t,n){const i=401===t.status;if(t.aborting||!i)return;const r=d.Z.parseUrl(n.url);if(i&&("/log"===r.pathname||"/"===r.pathname||"/media/providers"===r.pathname))return;const s=(0,a.DB)("appModel").get("servers"),l=s?s.find((e=>{const t=e.get("activeConnection"),i=t&&t.get("isConnected"),r=o().result(t,"url");return!!i&&n.url.substring(0,r.length)===r})):null;l&&((0,c.Z)('[Connections] Active connection to "%s" lost authorization',l.get("debugName")),l.trigger("error:connection",l))}}))},24831:(e,t,n)=>{"use strict";var i,r,s,o,a,l,c,d,u,h,p,g,m,f,v,y,b,Z,S,w,P,C,x,A,E;n.d(t,{pG:()=>i,y_:()=>a}),(r=i||(i={})).Movie="movie",r.Show="show",r.Season="season",r.Episode="episode",r.Person="person",r.Artist="artist",r.Album="album",r.Track="track",r.Clip="clip",r.Photo="photo",r.PhotoAlbum="photoalbum",r.Playlist="playlist",r.Collection="collection",r.Directory="directory",r.Channel="channel",r.Hub="hub",r.List="list",r.Author="author",r.Audiobook="audiobook",r.Chapter="chapter",(o=s||(s={}))[o.Movie=1]="Movie",o[o.Show=2]="Show",o[o.Season=3]="Season",o[o.Episode=4]="Episode",o[o.Person=7]="Person",o[o.Artist=8]="Artist",o[o.Album=9]="Album",o[o.Track=10]="Track",o[o.Clip=12]="Clip",o[o.Photo=13]="Photo",o[o.PhotoAlbum=14]="PhotoAlbum",o[o.Playlist=15]="Playlist",o[o.Collection=18]="Collection",o[o.Author=20]="Author",o[o.Audiobook=21]="Audiobook",o[o.Chapter=22]="Chapter",(l=a||(a={})).Movie="movie",l.Show="show",l.Season="season",l.Episode="episode",l.Artist="artist",l.Album="album",l.Track="track",l.Trailer="trailer",l.DeletedScene="deletedScene",l.Interview="interview",l.MusicVideo="musicVideo",l.BehindTheScenes="behindTheScenes",l.SceneOrSample="sceneOrSample",l.LiveMusicVideo="liveMusicVideo",l.LyricMusicVideo="lyricMusicVideo",l.Concert="concert",l.Featurette="featurette",l.Short="short",l.Other="other",l.Photo="photo",l.Clip="clip",l.Author="author",l.Audiobook="audiobook",l.Chapter="chapter",(d=c||(c={}))[d.Trailer=1]="Trailer",d[d.DeletedScene=2]="DeletedScene",d[d.Interview=3]="Interview",d[d.MusicVideo=4]="MusicVideo",d[d.BehindTheScenes=5]="BehindTheScenes",d[d.SceneOrSample=6]="SceneOrSample",d[d.LiveMusicVideo=7]="LiveMusicVideo",d[d.LyricMusicVideo=8]="LyricMusicVideo",d[d.Concert=9]="Concert",d[d.Featurette=10]="Featurette",d[d.Short=11]="Short",d[d.Other=12]="Other",(h=u||(u={})).Video="video",h.Audio="audio",h.Photo="photo",(p||(p={})).VMAP="vmap",(m=g||(g={})).Gracenote="gracenote:/",m.Imdb="imdb:/",m.Iva="iva:/",m.Plex="plex:/",m.Tmdb="tmdb:/",m.Tvdb="tvdb:/",m.RottenTomatoes="rottentomatoes:/",m.Unknown="",(v=f||(f={}))[v.Video=1]="Video",v[v.Audio=2]="Audio",v[v.Subtitles=3]="Subtitles",v[v.Lyrics=4]="Lyrics",(b=y||(y={})).Video="videoStreamID",b.Audio="audioStreamID",b.Subtitles="subtitleStreamID",b.Lyrics="lyricStreamID",(S=Z||(Z={})).North="north",S.NorthEast="northeast",S.East="east",S.SouthEast="southeast",S.South="south",S.SouthWest="southwest",S.West="west",S.NorthWest="northwest",S.Center="center",(P=w||(w={})).Small="small",P.Medium="medium",P.Large="large",(x=C||(C={})).Absolute="absolute",x.Relative="relative",(E=A||(A={}))[E.Genre=1]="Genre",E[E.Collection=2]="Collection",E[E.Director=4]="Director",E[E.Writer=5]="Writer",E[E.Actor=6]="Actor",E[E.Marker=12]="Marker",E[E.PhotoAutotag=207]="PhotoAutotag",E[E.Channel=310]="Channel",E[E.Place=400]="Place"},3675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={entityID:"",identifier:"",metricsIdentifier:"",title:"",features:[],protocols:[],isPending:!1,isPopulated:!1,error:null}},94936:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(53115);const s=(0,i.P1)(r.Z,(e=>e.core))},8515:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(94936);const s=(0,n(19449).Z)((function(e){return(0,i.P1)(r.Z,(t=>t.serverAccounts[e]))}))},78869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(81106),r=n(67746),s=n(15875),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u={accounts:[],isPending:!1,isPopulated:!1,error:null},h=(0,i.oM)({name:"serverAccounts",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.vv)(n),n.accounts=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(r.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},u))}))}})},58563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(81106),r=n(67746);const s=(0,i.oM)({name:"serverActivities",initialState:{},reducers:{activityStarted(e,t){},activityUpdated(e,t){},activityFinished(e,t){}},extraReducers:e=>{e.addCase(r.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=[])}))}})},39930:(e,t,n)=>{"use strict";var i,r;n.d(t,{Z:()=>i}),(r=i||(i={})).BackupDatabase="general.db.backup",r.CleanBundles="general.bundle.clean",r.GrabberGrab="grabber.grab",r.GrabberAssimilate="grabber.assimilate",r.LibraryDelete="library.delete",r.LibraryUpdateSection="library.update.section",r.LibraryRefreshItems="library.refresh.items",r.MediaGenerateBIF="media.generate.bif",r.MediaGenerateChapterThumbs="media.generate.chapter.thumbs",r.MediaGenerateIntros="media.generate.intros",r.OptimizeDatabase="general.db.optimize",r.ProviderDeviceChannelScan="provider.device.channelscan",r.ProviderEpgLineupScan="provider.epg.lineupscan",r.ProviderEpgLoad="provider.epg.load",r.ProviderSubscriptionsProcess="provider.subscriptions.process",r.ProviderSubscriptionRefresh="provider.subscription.refresh",r.SubtitleDownload="subtitle.download"},49584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(94936);const s=(0,n(19449).Z)((function(e){return(0,i.P1)(r.Z,(t=>t.serverDevices[e]))}))},62962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(81106),r=n(67746),s=n(15875),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u={devices:[],isPending:!1,isPopulated:!1,error:null},h=(0,i.oM)({name:"serverDevices",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.vv)(n),n.devices=t.data},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];(0,s.VQ)(n,t.error)}},extraReducers:e=>{e.addCase(r.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},u))}))}})},48162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(94936);const s=(0,n(19449).Z)((function(e){return(0,i.P1)(r.Z,(t=>t.serverNowPlayingSessions[e]))}))},69963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(81106),r=n(39666),s=n(86076),o=n(67746),a=n(15875),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e,t){const{isCloud:n,isConnected:i,isEmbedded:o,isFullOwnedServer:a,isFullServer:l,isUnauthorized:c,isUnavailable:d}=t,u={extra:{isCloud:n,isConnected:i,isEmbedded:o,isFullOwnedServer:a,isFullServer:l,isUnauthorized:c,isUnavailable:d}},h=new Error(e);s.Z.error(h,u.extra),r.Tb(h,u)}const g={sessionKeys:[],sessionsByKey:{},isPending:!1,isPopulated:!1,error:null,stopSessionError:null},m=(0,i.oM)({name:"serverNowPlayingSessions",initialState:{},reducers:{fetchRequested(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,a.er)(n)},fetchSucceeded(e,{payload:t}){const n=e[t.server.machineIdentifier];if(!n)return;const{sessionKeys:i,sessionsByKey:r}=t.data.reduce(((e,t)=>(e.sessionKeys.push(t.sessionKey),e.sessionsByKey[t.sessionKey]=t,e)),{sessionKeys:[],sessionsByKey:{}});(0,a.vv)(n),n.sessionKeys=i,n.sessionsByKey=r},fetchFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(0,a.VQ)(n,t.error)},sessionChanged(e,{payload:t}){const{server:n,message:i}=t,r=e[n.machineIdentifier];if(!r)return void p("Session changed without serverState",n);const s=r.sessionsByKey[i.sessionKey];s&&s.key===i.key&&(s.viewOffset=i.viewOffset,s.Player.state=i.state)},sessionStopped(e,{payload:t}){const{server:n,sessionKey:i}=t,r=e[n.machineIdentifier];r?r.sessionsByKey[i]&&(delete r.sessionsByKey[i],r.sessionKeys.splice(r.sessionKeys.indexOf(i),1)):p("Session stopped without serverState",n)},stopRequested(e,t){},stopFailed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=t.error)},stopErrorDismissed(e,{payload:t}){const n=e[t.server.machineIdentifier];n&&(n.stopSessionError=null)}},extraReducers:e=>{e.addCase(o.Z.actions.connected,((e,{payload:t})=>{const{server:n}=t;e[n.machineIdentifier]||(e[n.machineIdentifier]=((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e})({},g))}))}})},76616:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(22222),r=n(40271),s=n(8871),o=n(19449),a=n(92775);const l=(0,o.Z)((function(e){return(0,r.Z)((0,i.P1)(a.Z,(t=>t.find((t=>t.machineIdentifier===e))||s.Z)),(e=>e))}))},59767:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22222),r=n(24533),s=n(8871);const o=(0,n(19449).Z)((function(e){return(0,i.P1)(r.Z,(t=>t.find((t=>t.machineIdentifier===e))||s.Z))}))},92775:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(22222),r=n(40271),s=n(24533),o=n(2419);const a=(0,r.Z)((0,i.P1)(s.Z,(e=>e.map(o.Z))),(e=>e))},67746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(81106).oM)({name:"servers",initialState:{},reducers:{connected(e,t){},libraryScanUpdated(e,t){}}})},94110:(e,t,n)=>{"use strict";var i,r,s,o;n.d(t,{j:()=>i,Y:()=>s}),(r=i||(i={})).Windows="Windows",r.Android="Android",r.Linux="Linux",r.FreeBSD="FreeBSD",r.MacOSX="MacOSX",r.IOS="iOS",(o=s||(s={})).Pending="pending",o.Connected="connected",o.Unavailable="unavailable",o.Unauthorized="unauthorized"},2419:(e,t,n)=>{"use strict";function i(e){return{entityID:e.entityID,machineIdentifier:e.machineIdentifier,accessToken:e.accessToken,uri:e.activeConnection?e.activeConnection.uri:void 0,version:e.version,platform:e.platform,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,countryCode:e.countryCode,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isCloud:e.isCloud,isEmbedded:e.isEmbedded,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isOutOfDate:e.isOutOfDate,isShared:e.isShared,isUnavailable:e.isUnavailable,isUnauthorized:e.isUnauthorized,isConnected:e.isConnected,livetv:e.livetv,connectionTestResult:e.connectionTestResult,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}}n.d(t,{Z:()=>i})},8871:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={entityID:"",machineIdentifier:"",friendlyName:"Unknown",allowSync:!1,allowMediaDeletion:!1,backgroundProcessing:!1,transcoderVideo:!1,isCloud:!1,isEmbedded:!1,isFullServer:!1,isFullOwnedServer:!1,isOutOfDate:!1,isShared:!1,isUnavailable:!1,isUnauthorized:!1,isConnected:!1,connectionTestResult:n(94110).Y.Pending,ownerFeatures:[],providers:[]}},86233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function r(){const[e,t]=(0,i.useState)(!1),n=(0,i.useCallback)((()=>t(!0)),[]),r=(0,i.useCallback)((()=>t(!1)),[]),s=(0,i.useCallback)((()=>t(!e)),[e]);return(0,i.useMemo)((()=>({isOpen:e,onOpen:n,onClose:r,onToggle:s})),[e,r,n,s])}},42263:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),r=n(5977),s=n(71065);const o=function(){const e=(0,r.TH)().search;return(0,i.useMemo)((()=>{const{params:t}=s.Z.parseUri(e);return t}),[e])}},22050:(e,t,n)=>{"use strict";n.d(t,{p8:()=>i,nM:()=>r,IT:()=>s});const i=200,r=400,s=200},74539:(e,t,n)=>{"use strict";n.d(t,{Zn:()=>c,IF:()=>d,ZP:()=>u});var i=n(67294),r=n(22220);const s=Symbol(void 0),o=Symbol(void 0),a=[s,s,s],l=(0,i.createContext)({metricsPage:r.lz,metricsContextTuple:a});function c(){return(0,i.useContext)(l)}function d([e,t,n]){if(e!==s)return{context:e,row:t===o||t===s?void 0:t,col:n===o||n===s?void 0:n}}function u({children:e,metricsPage:t,metricsContextParam:n,name:r,row:d=s,column:u=s}){const{metricsPage:h,metricsContextTuple:p}=c(),g=(0,i.useMemo)((()=>{const[e,i,l]=p;return n?function(e){if(!e)return a;const[t,n,i]=e.split("~");return t?[t,n?parseInt(n,10):o,i?parseInt(i,10):o]:a}(n):r?[`${h}:${r}`,d,u]:e!==s?[e,i===s?d:i,l===s?u:l]:t&&t!==h?p:void 0}),[u,p,n,h,t,r,d]),m=(0,i.useMemo)((()=>g?{metricsPage:t||h,metricsContextTuple:g}:void 0),[g,h,t]);return m?i.createElement(l.Provider,{value:m},e):e}},53572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),r=n(39666),s=n(86076),o=n(25516);class a extends i.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e,t){s.Z.error(e);const n={extra:{componentStack:t.componentStack}};r.Tb(e,n)}render(){return this.state.hasError?i.createElement(o.Z,null):i.createElement(i.Fragment,null,this.props.children)}}const l=a},7567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=n(7037);const s={emptyPageContentScroller:"NPdXX ecHmp sWZ6m",content:"rhlQN",icon:"lHMe0",imgIcon:"kL3BT",title:"M4uOC",description:"qPWwL",footer:"AC2LT"};var o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){var t=e,{children:n,className:o=s.emptyPageContentScroller,contentClassName:u=s.content,icon:h,titleClassName:p=s.title,iconSrc:g,title:m,descriptionClassName:f=s.description,description:v,footerClassName:y=s.footer,footer:b}=t,Z=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className","contentClassName","icon","titleClassName","iconSrc","title","descriptionClassName","description","footerClassName","footer"]);return i.createElement(r.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:o},Z),i.createElement("div",{className:u},h?i.createElement("span",{className:s.icon},h):null,g?i.createElement("img",{className:s.imgIcon,src:g}):null,m?i.createElement("div",{className:p},m):null,v?i.createElement("div",{className:f},v):null,n),b?i.createElement("div",{className:y},b):null)}},86438:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=n(81985),s=n(7567),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){return i.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({icon:i.createElement(r.Z,null)},e))}},25516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),r=n(21235),s=n(86438);function o({children:e}){return i.createElement(s.Z,{description:(0,r.Z)("An unexpected error occurred."),title:(0,r.Z)("Something went wrong")},e)}},7037:(e,t,n)=>{"use strict";n.d(t,{I:()=>l,Z:()=>v});var i=n(94184),r=n.n(i),s=n(67294);const o=function(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}};n(43296);const a={scroller:"sWZ6m",none:"ROO8w",vertical:"MRMQs",auto:"qbtq4",horizontal:"J2Ktf",omni:"njLyG"};var l,c,d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e};function f({forwardedRef:e,className:t=a.scroller,style:n,children:i,scrollDirection:c=l.Vertical,autoScroll:d=!0,smoothScroll:u=!1,targetScrollTop:h,targetScrollLeft:p,onScrollPositionChange:g}){const m=(0,s.useRef)(null),f=(0,s.useCallback)((e=>{g&&null!=m.current&&m.current===e.target&&g({scrollTop:m.current.scrollTop,scrollLeft:m.current.scrollLeft})}),[m,g]);return(0,s.useEffect)((()=>{null==m.current||null==h&&null==p||m.current.scrollTo({top:h,left:p,behavior:u?"smooth":"auto"})}),[m,h,p,u]),s.createElement("div",{ref:o(e,m),className:r()(t,a[c],d&&a.auto),style:n,onScroll:f},i)}(c=l||(l={})).None="none",c.Vertical="vertical",c.Horizontal="horizontal",c.Omni="omni";const v=s.forwardRef(((e,t)=>s.createElement(f,m(m({},e),{forwardedRef:t}))))},75130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(94184),r=n.n(i),s=n(67294),o=n(21235),a=n(87937);const l={spinner:"RD8jJ m_4Rc",tiny:"aehJH",small:"C1jU8",medium:"RqLXq",large:"KGGxk"};function c({className:e=l.spinner,size:t=a.Z.Medium}){return s.createElement("div",{"aria-label":(0,o.Z)("Loading"),className:r()(e,l[t])})}},87937:(e,t,n)=>{"use strict";var i,r;n.d(t,{Z:()=>s}),(r=i||(i={})).Tiny="tiny",r.Small="small",r.Medium="medium",r.Large="large";const s=i},95959:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(78283);const s=(0,n(19449).Z)((function(e){return(0,i.P1)(r.Z,(t=>!!t[e]))}))},1104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={statistics:[],isPending:!1,isPopulated:!1,error:null,requestTimestampMilliseconds:null,responseTimestampMilliseconds:null},o=(0,i.oM)({name:"dashboardBandwidth",initialState:s,reducers:{reset:()=>s,bandwidthFetchRequested(e,t){(0,r.er)(e)},bandwidthFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds,e.responseTimestampMilliseconds=t.responseTimestampMilliseconds},bandwidthFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error),e.requestTimestampMilliseconds=null,e.responseTimestampMilliseconds=null},bandwidthAbortRequested(){}}})},66422:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},o=(0,i.oM)({name:"dashboardPlayHistory",initialState:s,reducers:{reset:()=>s,playHistoryFetchRequested(e,t){(0,r.er)(e)},playHistoryFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},playHistoryFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error)}}})},70653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={statistics:[],isPending:!1,isPopulated:!1,isUnsupported:!1,error:null,requestTimestampMilliseconds:null},o=(0,i.oM)({name:"dashboardResources",initialState:s,reducers:{reset:()=>s,resourcesFetchRequested(e,t){(0,r.er)(e),e.isUnsupported=!1},resourcesFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds},resourcesFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error),e.isUnsupported=404===t.error.status}}})},63082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={moviesStatistics:[],tvStatistics:[],musicStatistics:[],isPending:!1,isPopulated:!1,error:null},o=(0,i.oM)({name:"dashboardTopPlayed",initialState:s,reducers:{reset:()=>s,topPlayedFetchRequested(e,t){(0,r.er)(e)},topPlayedFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.moviesStatistics=t.data.moviesStatistics,e.tvStatistics=t.data.tvStatistics,e.musicStatistics=t.data.musicStatistics},topPlayedFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error)}}})},63803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81106),r=n(15875);const s={statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},o=(0,i.oM)({name:"dashboardTopUsers",initialState:s,reducers:{reset:()=>s,topUsersFetchRequested(e,t){(0,r.er)(e)},topUsersFetchSucceeded(e,{payload:t}){(0,r.vv)(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},topUsersFetchFailed(e,{payload:t}){(0,r.VQ)(e,t.error)}}})},77686:(e,t,n)=>{"use strict";var i,r,s,o,a,l,c,d,u,h;n.d(t,{Y_:()=>i,qt:()=>s,ew:()=>a,dd:()=>c,MR:()=>u}),(r=i||(i={}))[r.Regions=0]="Regions",r[r.PostalCode=1]="PostalCode",r[r.SinglePostalCode=2]="SinglePostalCode",(o=s||(s={})).Dead="dead",o.Alive="alive",(l=a||(a={})).Disabled="disabled",l.Enabled="enabled",(d=c||(c={})).Unknown="-1",d.Antenna="0",d.Cable="1",d.Satellite="2",(h=u||(u={}))[h.Unknown=-1]="Unknown",h[h.OverTheAir=0]="OverTheAir",h[h.Cable=1]="Cable",h[h.Satellite=2]="Satellite",h[h.IPTV=3]="IPTV",h[h.Virtual=4]="Virtual"},26611:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>m,ZP:()=>Z});var i=n(81106),r=n(21235),s=n(58563),o=n(39930),a=n(15875),l=n(77686),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(u)for(var n of u(t))h.call(t,n)&&p(e,n,t[n]);return e};const m={channels:[],isPending:!1,isPopulated:!1,error:null},f={dvr:void 0,isPending:!1,isPopulated:!1,error:null},v={mediaGrabberDevices:[],isPending:!1,isPopulated:!1,error:null},y={devices:v,epgDownloadActivityID:void 0,selectedDevice:void 0,selectedDVR:f,channelsByDeviceKey:{},scanPrefs:[],scanNetworks:[],hasScannedChannels:!1,isSavingDVR:!1,isDeletingDVR:!1,isAddingDevice:!1,isDiscoveringDevices:!1,isSavingChannelMappings:!1,isCancellingChannelScan:!1,isCancellingReloadGuide:!1,channelMappingsSaveError:null,setupErrorMessage:null};function b(e,{payload:t}){var n;const{activity:i}=t;if(i.type!==o.Z.ProviderDeviceChannelScan)return;const r=null==(n=null==i?void 0:i.Response)?void 0:n.Network;if(r)e.hasScannedChannels=!1,e.scanNetworks=r;else{const t=100===(null==i?void 0:i.progress);e.hasScannedChannels=t,e.isCancellingChannelScan&&t&&(e.isCancellingChannelScan=!1)}}const Z=(0,i.oM)({name:"dvrSetup",initialState:y,reducers:{reset:()=>y,setupReset(e){e.devices=v,e.selectedDevice=void 0,e.hasScannedChannels=!1,e.isSavingDVR=!1,e.isAddingDevice=!1,e.isDiscoveringDevices=!1,e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null,e.setupErrorMessage=null},setupErrorMessageAdded(e,{payload:t}){e.setupErrorMessage=t.message},setupErrorMessageRemoved(e,t){e.setupErrorMessage=null},devicesDiscoverRequested(e,t){e.isDiscoveringDevices=!0},devicesDiscoverSucceeded(e,{payload:t}){e.isDiscoveringDevices=!1;const{mediaGrabberDevices:n}=e.devices;for(let e=0;e<t.data.length;e++){const i=t.data[e],r=n.find((e=>i.uuid===e.uuid));r?(r.state=i.state,r.status=i.status,r.parentID=i.parentID):n.push(i)}},devicesDiscoverFailed(e,t){e.isDiscoveringDevices=!1},devicesFetchRequested({devices:e},t){(0,a.er)(e)},devicesFetchSucceeded({devices:e},{payload:t}){(0,a.vv)(e),e.mediaGrabberDevices=t.data},devicesFetchFailed({devices:e},{payload:t}){(0,a.VQ)(e,t.error)},deviceChannelsFetchRequested(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n?(n.channels=[],n.isPopulated=!1):(n=g({},m),e.channelsByDeviceKey[t.deviceKey]=n),e.setupErrorMessage=null,(0,a.er)(n)},deviceChannelsFetchSucceeded(e,{payload:t}){const n=e.channelsByDeviceKey[t.deviceKey];(0,a.vv)(n),n.channels=t.data},deviceChannelsFetchFailed(e,{payload:t}){let n=e.channelsByDeviceKey[t.deviceKey];n||(n=g({},m),e.channelsByDeviceKey[t.deviceKey]=n),(0,a.VQ)(n,t.error)},deviceChannelsScanRequested(e,t){e.hasScannedChannels=!1},deviceChannelsScanFailed(e,t){e.hasScannedChannels=!0},deviceChannelsCancelScanRequested(e,t){e.isCancellingChannelScan=!0},deviceChannelsCancelScanFailed(e,t){e.isCancellingChannelScan=!1},deviceSelected(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(e.selectedDevice=n)},deviceSourceSelected({devices:e},{payload:t}){const n=e.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.source=t.source)},deviceChannelMappingsSaveRequested(e,t){e.isSavingChannelMappings=!0,e.channelMappingsSaveError=null},deviceChannelMappingsSaveSucceeded(e,t){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=null},deviceChannelMappingsSaveFailed(e,{payload:t}){e.isSavingChannelMappings=!1,e.channelMappingsSaveError=t.error},deviceEnableRequested(e,t){},deviceEnableSucceeded(e,{payload:t}){const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.deviceKey));n&&(n.state=t.enabled?l.ew.Enabled:l.ew.Disabled,n.title=t.title)},deviceEnableFailed(e,t){},deviceAddRequested(e,t){e.isAddingDevice=!0},deviceAddSucceeded(e,{payload:t}){e.setupErrorMessage=null,e.isAddingDevice=!1;const n=e.devices.mediaGrabberDevices.find((e=>e.key===t.data.key));n?Object.assign(n,t.data):e.devices.mediaGrabberDevices.push(t.data)},deviceAddFailed(e,t){e.isAddingDevice=!1},dvrFetchRequested(e,t){e.setupErrorMessage=null,(0,a.er)(e.selectedDVR)},dvrFetchSucceeded({selectedDVR:e,devices:t},{payload:n}){const{dvr:i}=n;(0,a.vv)(e),e.dvr=i,(null==i?void 0:i.Device)&&((0,a.vv)(t),t.mediaGrabberDevices=i.Device)},dvrFetchFailed(e,{payload:t}){(0,a.VQ)(e.selectedDVR,t.error),e.setupErrorMessage=(0,r.Z)("There was a problem fetching your DVR. Please try again later.")},dvrSaveRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},dvrSaveSucceeded(e,{payload:t}){(0,a.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},dvrSaveFailed(e,{payload:t}){(0,a.VQ)(e.selectedDVR,t.error),e.isSavingDVR=!1},dvrDeleteRequested(e,t){e.isDeletingDVR=!0},dvrDeleteSucceeded(e,t){e.selectedDVR=f,e.isDeletingDVR=!1},dvrDeleteFailed(e,t){e.isDeletingDVR=!1},addDVRDeviceRequested(e,t){e.setupErrorMessage=null,e.isSavingDVR=!0},addDVRDeviceSucceeded(e,{payload:t}){(0,a.vv)(e.selectedDVR),e.epgDownloadActivityID=t.activityUUID,e.isSavingDVR=!1,e.selectedDVR.dvr=t.dvr},addDVRDeviceFailed(e,{payload:t}){(0,a.VQ)(e.selectedDVR,t.error),e.isSavingDVR=!1},removeDVRDeviceRequested(e,t){},removeDVRDeviceSucceeded(e,t){var n,i;(null==(i=null==(n=e.selectedDVR)?void 0:n.dvr)?void 0:i.Device)&&(e.selectedDVR.dvr.Device=e.selectedDVR.dvr.Device.filter((e=>e.key!==t.payload.deviceKey))),e.devices.mediaGrabberDevices=e.devices.mediaGrabberDevices.filter((e=>e.key!==t.payload.deviceKey))},removeDVRDeviceFailed(e,t){},cancelReloadGuide(e){e.isCancellingReloadGuide=!0},scanPrefsAndNetworksReset(e){e.scanPrefs=[],e.scanNetworks=[]},scanPrefsAdded(e,{payload:t}){e.scanPrefs=t.settings},scanNetworksAdded(e,{payload:t}){e.scanNetworks=t.networks}},extraReducers:e=>{e.addCase(s.Z.actions.activityStarted,b).addCase(s.Z.actions.activityUpdated,b).addCase(s.Z.actions.activityFinished,((e,t)=>{t.payload.activity.type===o.Z.ProviderEpgLoad?(e.isCancellingReloadGuide=!1,e.epgDownloadActivityID=void 0):b(e,t)}))}})},40477:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>S});var i=n(81106),r=n(71746),s=n(90379),o=n(58563),a=n(39930),l=n(15875),c=n(77686),d=n(26611),u=Object.defineProperty,h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))g.call(t,n)&&m(e,n,t[n]);return e};const v={mappings:[],isPending:!1,isPopulated:!1,error:null},y={channelsByLineupUUID:{},isPending:!1,isPopulated:!1,error:null},b={epgLineupGroups:[],isPending:!1,isPopulated:!1,error:null},Z={channelMappings:v,lineupChannels:y,countries:{epgCountries:[],isPending:!1,isPopulated:!1,error:null},languages:{epgLanguages:[],isPending:!1,isPopulated:!1,error:null},regions:{epgCountryRegions:[],isPending:!1,isPopulated:!1,error:null},lineupGroups:b,selectedCountry:void 0,selectedLanguage:void 0,selectedRegion:void 0,selectedLineupGroups:[],postalCode:""},S=(0,i.oM)({name:"epgSettings",initialState:Z,reducers:{reset:()=>Z,channelMappingsFetchRequested({lineupChannels:e,channelMappings:t},n){(0,l.er)(e),(0,l.er)(t)},channelMappingsFetchSucceeded({channelMappings:e,lineupChannels:t,selectedLineupGroups:n},{payload:i}){e.mappings=i.channelMappings,(0,l.vv)(e),i.lineupChannels.forEach((({uuid:e,Channel:n})=>{t.channelsByLineupUUID[e]=null!=n?n:[]})),(0,l.vv)(t),n.forEach((e=>{e.isChannelMappingsFetched=!0}))},channelMappingsFetchFailed({channelMappings:e,lineupChannels:t},{payload:n}){(0,l.VQ)(e,n.error),(0,l.VQ)(t,n.error)},channelMappingChanged({channelMappings:e},{payload:t}){const n=t,{index:i}=n,r=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&g.call(e,i)&&(n[i]=e[i]);return n})(n,["index"]),s=e.mappings[i];Object.assign(s,r)},epgLineupGroupFetchRequested({lineupGroups:e},t){(0,l.er)(e)},epgLineupGroupFetchSucceeded({lineupGroups:e},{payload:t}){(0,l.vv)(e),e.epgLineupGroups.push({uuid:t.data.uuid,epgLineups:t.data.epgLineups})},epgLineupGroupFetchFailed({lineupGroups:e},{payload:t}){(0,l.VQ)(e,t.error)},bestEPGLineupSearchRequested(e,t){},bestEPGLineupSearchSucceeded({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroup.uuid));n&&(n.activityUUID=t.data,n.isSelectedLineupPending=!0)},bestEPGLineupSearchFailed(e,t){},selectedLineupSelected({selectedLineupGroups:e},{payload:t}){const n=e.find((e=>e.uuid===t.lineupGroupUUID));if(n){const e=n.epgLineups.find((e=>e.uuid===t.selectedLineupUUID));n.selectedLineup=e}},selectedEPGLineupGroupAddRequested(e,t){},selectedEPGLineupGroupAddSucceeded({selectedLineupGroups:e},{payload:t}){e.push(f(f({},t.lineupGroup),{activityUUID:void 0,selectedLineup:void 0,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!1}))},selectedEPGLineupGroupRemoved(e,{payload:t}){e.selectedLineupGroups=e.selectedLineupGroups.filter((e=>e.uuid!==t.lineupGroupUUID))},xmltvSelectedEPGLineupGroupAdded({selectedLineupGroups:e},{payload:t}){const{path:n,title:i}=t,o=function(e){return/^[a-z]:\\|\\\\/i.test(e)&&(e=e.replace(/\\/g,"/")),/^(\/|[a-z]:\/)/i.test(e)&&(e=e.replace(/\/(.+?)(?=\/|$)/g,((e,t)=>`/${encodeURIComponent(t)}`))),"/"===e.charAt(0)&&(e=e.substring(1)),/^[a-z]+?:\/\//i.test(e)&&(e=encodeURIComponent(e)),e}(n),a={uuid:`lineup://${r.zY}/${o}#${encodeURIComponent(i)}`,title:i,lineupType:c.MR.Virtual},l={uuid:`xmltv-${(0,s.Z)()}`,epgLineups:[a],activityUUID:void 0,selectedLineup:a,isChannelMappingsFetched:!1,isSelectedLineupPending:!1,isSelectedLineupPopulated:!0};e.push(l)},selectedDVRLineupChannelsFetchRequested({lineupChannels:e},t){(0,l.er)(e)},selectedDVRLineupChannelsFetchSucceeded({lineupChannels:e},{payload:t}){t.lineupChannels.forEach((({uuid:t,Channel:n})=>{e.channelsByLineupUUID[t]=null!=n?n:[]})),(0,l.vv)(e)},selectedDVRLineupChannelsFetchFailed({lineupChannels:e},{payload:t}){(0,l.VQ)(e,t.error)},epgCountriesFetchRequested({countries:e},t){(0,l.er)(e)},epgCountriesFetchSucceeded({countries:e},{payload:t}){(0,l.vv)(e),e.epgCountries=t.data},epgCountriesFetchFailed({countries:e},{payload:t}){(0,l.VQ)(e,t.error)},epgCountrySelected(e,{payload:t}){const n=e.countries.epgCountries.find((e=>e.code===t.countryCode));e.selectedCountry=n,e.selectedRegion=void 0,e.postalCode=void 0},epgCountryRegionSelected(e,{payload:t}){const n=e.regions.epgCountryRegions.find((e=>e.key===t.regionKey));e.selectedRegion=n},epgCountryRegionsFetchRequested({regions:e},t){(0,l.er)(e)},epgCountryRegionsFetchSucceeded({regions:e},{payload:t}){(0,l.vv)(e),e.epgCountryRegions=t.data},epgCountryRegionsFetchFailed({regions:e},{payload:t}){(0,l.VQ)(e,t.error)},epgLanguagesFetchRequested({languages:e},t){(0,l.er)(e)},epgLanguagesFetchSucceeded({languages:e},{payload:t}){(0,l.vv)(e),e.epgLanguages=t.data},epgLanguagesFetchFailed({languages:e},{payload:t}){(0,l.VQ)(e,t.error)},epgLanguageSelected(e,{payload:t}){const n=e.languages.epgLanguages.find((e=>e.code===t.languageCode));e.selectedLanguage=n},epgPostalCodeChanged(e,{payload:t}){e.postalCode=t.postalCode}},extraReducers(e){e.addCase(d.ZP.actions.setupReset,(e=>{e.channelMappings=v,e.lineupChannels=y,e.lineupGroups=b,e.selectedRegion=void 0,e.selectedLineupGroups=[],e.postalCode=""})).addCase(o.Z.actions.activityFinished,((e,{payload:t})=>{const{activity:n}=t;if(n.type===a.Z.ProviderEpgLineupScan){const t=e.selectedLineupGroups.find((e=>e.activityUUID===n.uuid));if(t){const e=t.epgLineups.find((e=>e.uuid===n.Response.lineup));t.activityUUID=void 0,t.selectedLineup=e,t.isSelectedLineupPending=!1,t.isSelectedLineupPopulated=!0}}}))}})},73584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(22222),r=n(26611),s=n(62096),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=e=>(0,i.P1)(s.Z,(t=>{var n,i;return e&&null!=(i=null==(n=t.channelsByDeviceKey)?void 0:n[e])?i:((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({},r.Yc)}))},60664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(25912);const s=(0,i.P1)(r.Z,(e=>e.dvrManagement))},62096:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(60664);const s=(0,i.P1)(r.Z,(e=>e.dvrSetup))},66233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(60664);const s=(0,i.P1)(r.Z,(e=>e.epgSettings))},92899:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(66233);const s=(0,i.P1)(r.Z,(({selectedLineupGroups:e})=>{if(0!==e.length)return e.reduce(((e,{selectedLineup:t})=>(t&&e.push(t),e)),[])}))},73720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(81106),r=n(15875);function s(e,t){e&&((0,r.er)(e),e.options=t)}function o(e){e&&(0,r.vv)(e)}function a(e,t,n){e&&((0,r.VQ)(e,n),e.options=t)}const l=(0,i.oM)({name:"libraryManagement",initialState:{hubs:{},publishedItems:{},settings:{}},reducers:{settingsFetchRequested(e,{payload:t}){e.settings[t.server.machineIdentifier]={isPending:!0,isPopulated:!1,isUpdating:!1,error:null}},settingsFetchSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,(0,r.vv)(n))},settingsFetchFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(0,r.VQ)(n,t.error)},settingsUpdateRequested(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isUpdating=!0)},settingsUpdateSucceeded(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.isMergeRecentlyAddedEnabled=t.isMergeRecentlyAddedEnabled,n.isUpdating=!1)},settingsUpdateFailed(e,{payload:t}){const n=e.settings[t.server.machineIdentifier];n&&(n.error=t.error,n.isUpdating=!1)},resetHubs(e,t){},hubsFetchRequested(e,{payload:t}){var n;e.hubs[t.sourceURI]={options:(null==(n=e.hubs[t.sourceURI])?void 0:n.options)||[],isPending:!0,isPopulated:!1,isResetting:!1,error:null}},hubsFetchSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&((0,r.vv)(n),n.options=t.options)},hubsFetchFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(0,r.VQ)(n,t.error)},reorderRequested(e,{payload:t}){s(e.hubs[t.sourceURI],t.options)},reorderSucceeded(e,{payload:t}){o(e.hubs[t.sourceURI])},reorderFailed(e,{payload:t}){a(e.hubs[t.sourceURI],t.options,t.error)},removeRequested(e,{payload:t}){s(e.hubs[t.sourceURI],t.options)},removeSucceeded(e,{payload:t}){o(e.hubs[t.sourceURI])},removeFailed(e,{payload:t}){a(e.hubs[t.sourceURI],t.options,t.error)},resetRequested(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!0)},resetSucceeded(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1,n.options=t.options)},resetFailed(e,{payload:t}){const n=e.hubs[t.sourceURI];n&&(n.isResetting=!1)},promoteRequested(e,t){},promoteChanged(e,{payload:t}){const n=e.hubs[t.sourceURI];if(n){const e=n.options.find((e=>e.identifier===t.options.identifier));e&&(e.promotedToRecommended=t.options.promotedToRecommended,e.promotedToOwnHome=t.options.promotedToOwnHome,e.promotedToSharedHome=t.options.promotedToSharedHome)}},publishedFetchRequested(e,{payload:t}){e.publishedItems[t.sourceURI]={isPending:!0,isPopulated:!1,isUpdating:!1,error:null}},publishedFetchSucceeded(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.hub=t.hub,(0,r.vv)(n))},publishedFetchFailed(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(0,r.VQ)(n,t.error)},publishedUpdateRequested(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.isUpdating=!0)},publishedUpdateSucceeded(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.hub=t.hub,n.isUpdating=!1)},publishedUpdateFailed(e,{payload:t}){const n=e.publishedItems[t.sourceURI];n&&(n.error=t.error,n.isUpdating=!1)}}})},65754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(71065);function r(e){return i.Z.join(["/hubs/sections",e,"manage"])}},32502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(81106),r=n(15875);const s=1800,o={guideChannels:{channels:[],isPending:!1,isPopulated:!1,error:null},channelsGrid:{startTime:0,visibleColumns:1,columnTimes:[],columnWidth:0,viewportWidth:0,viewportHeight:0,airedProgress:0}};function a(e,t){const n=Math.floor(e/s)*s,i=[];for(let e=0;e<=t;e++)i.push(n+e*s);return i}const l=(0,i.oM)({name:"livetv",initialState:o,reducers:{reset:()=>o,channelsGridResetStartTime({channelsGrid:e}){const t=Math.floor(Date.now()/1e3),n=a(t,e.visibleColumns);e.startTime=t,e.columnTimes=n},channelsGridSetStartTime({channelsGrid:e},{payload:t}){const n=a(t.startTime,e.visibleColumns);e.startTime=t.startTime,e.columnTimes=n},channelsGridSetViewportSize({channelsGrid:e},{payload:t}){const{width:n=1,height:i=1,overflowWidth:r=0,channelWidth:s=1,channelTitleWidth:o=0}=t,l=Math.floor(n+r),c=Math.max(Math.floor((n-o)/s),1)+1,d=Math.floor((l-o)/c),u=a(e.startTime,c);e.visibleColumns=c,e.columnTimes=u,e.columnWidth=d,e.viewportWidth=l,e.viewportHeight=Math.floor(i)},channelsGridUpdateAiredProgress({channelsGrid:e}){const{columnTimes:t}=e,n=t[0],i=t[t.length-1]-n,r=Math.floor(Date.now()/1e3),s=Math.min(100,Math.max(0,(r-n)/i*100));e.airedProgress=s},channelsGridNavigateTimeForward({channelsGrid:e}){const t=e.columnTimes[0]+s,n=a(t,e.visibleColumns);e.startTime=t,e.columnTimes=n},channelsGridNavigateTimeBack({channelsGrid:e}){const t=e.columnTimes[0]-s,n=Math.floor(Date.now()/1e3)-10800;if(t+s>n){const n=a(t,e.visibleColumns);e.startTime=t,e.columnTimes=n}},guideChannelsFetchRequested({guideChannels:e},t){(0,r.er)(e)},guideChannelsFetchSucceeded({guideChannels:e},{payload:t}){(0,r.vv)(e),e.channels=t.data},guideChannelsFetchFailed({guideChannels:e},{payload:t}){(0,r.VQ)(e,t.error)}}})},69781:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,g:()=>p});var i=n(81106);var r=n(34857),s=n(22050),o=n(52938),a=n(15875),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p=function(e,t){const n={items:[],totalSize:void 0,isPaginated:void 0,isPending:!1,isPopulated:!1,error:null};return{getDefaultPaginatedState:()=>n,getRepopulateRangeOptions(e){const t=Math.max(e.findIndex((e=>null!=e)),0);return{startIndex:t,size:e.length-t}},fetchAll:function*(e,n){const{server:i,provider:s,params:a}=n,l=yield(0,r.RE)(o.Z.get,e,{server:i,provider:s,params:a}),c=t?t({server:i,provider:s,data:l.data}):l.data;return yield c},fetchRange:function*(e,n){const{server:i,provider:a,params:l,startIndex:c,size:d,isPrepend:u}=n,h=i.isCloud?s.p8:s.nM,p=Math.max(Math.min(d,h),0),g=u?Math.max(c-p+1,0):c,m=yield(0,r.RE)(o.Z.get,e,{server:i,provider:a,params:l,headers:{"X-Plex-Container-Start":String(g),"X-Plex-Container-Size":String(p)}}),f=t?t({server:i,provider:a,data:m.data}):m.data;return yield f},reducers:{reset(e,{payload:t}){const i=e;Object.assign(i,n)},fetchAllRequested(e,{payload:t}){const n=e;(0,a.er)(n)},fetchAllSucceeded(e,{payload:t}){const n=e,{items:i,size:r}=t.data;(0,a.vv)(n),n.totalSize=r,n.items=i},fetchAllFailed(e,{payload:t}){const n=e;(0,a.VQ)(n,t.error)},fetchRangeRequested(e,{payload:t}){const n=e;(0,a.er)(n)},fetchRangeSucceeded(e,{payload:t}){const n=e,{items:i,size:r,totalSize:s,offset:o}=t.data;(0,a.vv)(n),n.totalSize=s,n.isPaginated=null!=r;for(let e=0;e<i.length;e++)n.items[e+o]=i[e]},fetchRangeFailed(e,{payload:t}){const n=e;(0,a.VQ)(n,t.error)},repopulateRangeRequested(e,{payload:t}){const n=e;(0,a.er)(n)},repopulateRangeSucceeded(e,{payload:t}){const n=e,{items:i,totalSize:r,offset:s}=t.data;(0,a.vv)(n),n.items=[],n.totalSize=r;for(let e=0;e<i.length;e++)n.items[e+s]=i[e]},repopulateRangeFailed(e,{payload:t}){const n=e;(0,a.VQ)(n,t.error)}}}}(0,(e=>{var t,n,i;const{data:r}=e,s=r.MediaContainer;return{items:null!=(t=null==s?void 0:s.Metadata)?t:[],totalSize:null!=(n=null==s?void 0:s.totalSize)?n:0,offset:null!=(i=null==s?void 0:s.offset)?i:0}})),g=p.getDefaultPaginatedState(),m=(0,i.oM)({name:"playHistory",initialState:g,reducers:((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e})({},p.reducers)})},8931:(e,t,n)=>{"use strict";var i,r;n.d(t,{F:()=>i}),(r=i||(i={})).LibrarySectionID="librarySectionID",r.AccountID="accountID",r.MetadataItemID="metadataItemID",r.ViewedAt="viewedAt"},25912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(22222),r=n(53115);const s=(0,i.P1)(r.Z,(e=>e.features))},73282:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(5977),r=n(71746),s=n(80177),o=n(3675),a=n(8871),l=n(43473);const c=function(){const e=(0,i.$B)({path:[l.Z.playHistory,l.Z.serverSetup,l.Z.serverUpdate],exact:!0}),t=null==e?void 0:e.params,n=null==t?void 0:t.machineIdentifier,c=null==t?void 0:t.providerIdentifier;return n||c?{machineIdentifier:n||s.X,providerIdentifier:c?decodeURIComponent(c):r.Y3}:{machineIdentifier:a.Z.machineIdentifier,providerIdentifier:o.Z.identifier}}},91856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(90071).q_)({hashType:"hashbang"})},53115:(e,t,n)=>{"use strict";function i(e){return function(e){return!!e.v4}(e)?e.v4:e}n.d(t,{Z:()=>i})},91986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,L:()=>l});var i=n(91856),r=n(5977),s=n(71065),o=n(43473);function a(e,t={},n={},a=!1){const l=function(e,t={},n={}){const i=o.Z[e],a=Array.isArray(i)?i[0]:i;return s.Z.join((0,r.Gn)(a,t),n)}(e,t,n);a?i.Z.replace(l):i.Z.push(l)}function l(e){a("serverSettings",{machineIdentifier:e,settingsSection:"manage",settingsGroup:"libraries"})}},43473:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={home:"/",info:"/info",logs:"/logs",playHistory:"/server/:machineIdentifier/playHistory",serverAwait:"/server/:machineIdentifier/await",serverSetup:"/setup/:machineIdentifier?",serverUpdate:"/server/:machineIdentifier/update",serverSettings:"/server/:machineIdentifier/:settingsSection/:settingsGroup",serverSettingsPMS:"/settings/server/:machineIdentifier",login:"/login",logout:"/logout",signUp:"/signUp"}},73368:(e,t,n)=>{"use strict";n.d(t,{su:()=>i}),Object.keys;const i=Object.values;Object.entries},97156:(e,t,n)=>{"use strict";function i(e,t){if(!e)throw new Error(t)}n.d(t,{Z:()=>i})},52938:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(9669),r=n.n(i),s=n(80129),o=n.n(s),a=n(34857),l=n(98984),c=n(25859),d=n(86076),u=n(14398),h=n(71065),p=Object.defineProperty,g=Object.prototype.hasOwnProperty,m=Object.getOwnPropertySymbols,f=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&v(e,n,t[n]);if(m)for(var n of m(t))f.call(t,n)&&v(e,n,t[n]);return e};function b(e){if(!e)return e;const t=e,{"X-Plex-Username":n,"X-Plex-Device-Name":i}=t;return((e,t)=>{var n={};for(var i in e)g.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&m)for(var i of m(e))t.indexOf(i)<0&&f.call(e,i)&&(n[i]=e[i]);return n})(t,["X-Plex-Username","X-Plex-Device-Name"])}var Z=Object.defineProperty,S=Object.prototype.hasOwnProperty,w=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,C=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&C(e,n,t[n]);if(w)for(var n of w(t))P.call(t,n)&&C(e,n,t[n]);return e};const A={PUT:!0,DELETE:!0},E={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},I=/(^X-Plex-[^=]+)/i;var k=Object.defineProperty,T=Object.prototype.hasOwnProperty,O=Object.getOwnPropertySymbols,M=Object.prototype.propertyIsEnumerable,R=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||(t={}))T.call(t,n)&&R(e,n,t[n]);if(O)for(var n of O(t))M.call(t,n)&&R(e,n,t[n]);return e};const _=function(e){const t=D({},{timeout:3e4,language:"en",providerVersion:"6.0"});function*n(e,n){const i=n,{server:s,provider:p,timeout:g=t.timeout,allowHeadersInUrl:m=!(!s&&!p),providerVersionOverride:f}=i,v=((e,t)=>{var n={};for(var i in e)T.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&O)for(var i of O(e))t.indexOf(i)<0&&M.call(e,i)&&(n[i]=e[i]);return n})(i,["server","provider","timeout","allowHeadersInUrl","providerVersionOverride"]),Z=l.Z.hasInstance()?l.Z.getInstance():{},S=D(D({},Z),n.headers);let w=e;if(s){if(!(0,u.Z)(e)){const t=(null==p?void 0:p.baseURL)?p.baseURL:s.uri;if(!t)throw new Error("Unable to make a request to a relative path without `server.uri` or `baseURL`");w=h.Z.join([t,e])}s.accessToken&&(S["X-Plex-Token"]=s.accessToken),s.isEmbedded&&(S["X-Plex-Account-ID"]="1"),p&&(S["X-Plex-Provider-Version"]=null!=f?f:t.providerVersion,S["X-Plex-Text-Format"]=(0,c.Z)(p.identifier))}t.language&&(S["X-Plex-Language"]=t.language,S["Accept-Language"]=t.language);const P=r().CancelToken.source();let C=D(D({},v),{url:w,cancelToken:P?P.token:void 0,headers:S,timeout:g,allowHeadersInUrl:m,paramsSerializer:e=>o().stringify(e,{arrayFormat:"repeat"})});(null==s?void 0:s.isCloud)&&p&&(C=function(e){return y(y({},e),{headers:b(e.headers)})}(C)),C=function(e){const{method:t="GET",headers:n={},params:i={},allowHeadersInUrl:r=!1,allowBlacklistedMethodHeaders:s=!1}=e;if(!r)return e;if(A[t]&&!s)return e;const o=x({},n),a=x({},i);return Object.keys(n).forEach((e=>{const t=n[e];E[e]||(I.test(e)?(a[e]=t,delete o[e]):d.Z.warn('[CORS] Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',e))})),x(x({},e),{headers:o,params:a})}(C);try{return yield(0,a.RE)(r().request,C)}finally{(yield(0,a.By)())&&(null==P||P.cancel())}}return{get:(e,t={})=>n(e,D(D({},t),{method:"GET"})),post:(e,t={},i)=>n(e,D(D({},t),{method:"POST",data:i})),put:(e,t={},i)=>n(e,D(D({},t),{method:"PUT",data:i})),del:(e,t={})=>n(e,D(D({},t),{method:"DELETE"})),setOption(e,n){t[e]=n},toPlainErrorObject(e){let t,n;(function(e){return e.isAxiosError})(e)&&(e.response?(t=e.response.status,n=e.response.data):e.request&&(t=e.request.status));const i={message:e.message,name:e.name,stack:e.stack,status:t,data:n};return d.Z.error(i),i}}}()},15875:(e,t,n)=>{"use strict";function i(e){e.isPending=!0,e.error=null}function r(e){e.isPending=!1,e.isPopulated=!0}function s(e,t){e.isPending=!1,e.error=t}n.d(t,{er:()=>i,vv:()=>r,VQ:()=>s})},19449:(e,t,n)=>{"use strict";function i(e){const t=new Map;return(...n)=>{const i=JSON.stringify(n);if(t.has(i))return t.get(i);{const r=e(...n);return t.set(i,r),r}}}n.d(t,{Z:()=>i})},68225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){return null==e?"":String(e)}},97110:(e,t,n)=>{"use strict";n.d(t,{XH:()=>i,pP:()=>s,dZ:()=>g,rG:()=>m,xP:()=>f,fz:()=>v});var i,r,s,o,a=n(42902),l=n(7069),c=n(12778),d=n(54559),u=n(95605),h=n(29807),p=n(21235);function g(e){switch(e){case i.RealTime:return(0,p.Z)("Real Time");case i.TwelveHours:return(0,p.Z)("Last 12 Hours");case i.Day:return(0,p.Z)("Last 24 Hours");case i.Week:return(0,p.Z)("Last 7 Days");case i.Month:return(0,p.Z)("Last 30 Days");case i.NinetyDays:return(0,p.Z)("Last 90 Days");case i.Year:return(0,p.Z)("Last Year");case i.AllTime:return(0,p.Z)("All Time");default:return""}}function m(e){switch(e){case i.RealTime:return 6;case i.TwelveHours:case i.Day:return 4;case i.Week:return 3;case i.Month:case i.NinetyDays:return 2;case i.Year:case i.AllTime:return 1;default:return 3}}function f(e){switch(e){case i.TwelveHours:return(0,a.Z)((0,c.Z)(new Date,12));case i.Day:return(0,a.Z)((0,l.Z)(new Date,1));case i.Week:return(0,a.Z)((0,u.Z)(new Date,1));case i.Month:return(0,a.Z)((0,d.Z)(new Date,1));case i.NinetyDays:return(0,a.Z)((0,l.Z)(new Date,90));case i.Year:return(0,a.Z)((0,h.Z)(new Date,1));case i.AllTime:return 0;default:return}}function v(e,t){switch(e){case i.TwelveHours:return"H:00";case i.Day:return t?"H:00":"HH";case i.Week:case i.Month:case i.NinetyDays:return t?"MMMM do":"MMM d";case i.Year:return t?"MMMM":"MMM";case i.AllTime:return t?"MMMM yyyy":"MMM yy";default:return t?"MMMM do":"MMM d"}}(r=i||(i={})).RealTime="real-time",r.TwelveHours="twelve-hours",r.Day="day",r.Week="week",r.Month="month",r.NinetyDays="ninety-days",r.Year="year",r.AllTime="all-time",(o=s||(s={}))[o.Year=0]="Year",o[o.Month=1]="Month",o[o.Week=2]="Week",o[o.Day=3]="Day",o[o.Hour=4]="Hour",o[o.Minutes=5]="Minutes",o[o.RealTime=6]="RealTime"},66654:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),r=n(15969),s=n(57865),o=n(73935),a=n(28216),l=n(28941);const c=n(57076).Z.Layout.extend({template:()=>"",mountReact(){const e=(0,l.DB)("appStore");o.render(i.createElement(r.W,{backend:s.PD},i.createElement(a.zt,{store:e},this.component(this.options))),this.el)},unmountReact(){this.isRendered&&o.unmountComponentAtNode(this.el)},onBeforeRender(){this.unmountReact()},onRender(){this.mountReact()},onClose(){this.unmountReact()}})},46608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(13469),r=n.n(i),s=n(57076);const o=s.Z.CollectionView.extend({appendHtml:function(){return this.sorted?this.sortedAppendHtml.apply(this,arguments):this.reversed?this.reversedAppendHtml.apply(this,arguments):s.Z.CollectionView.prototype.appendHtml.apply(this,arguments)},sortedAppendHtml:function(e,t,n){if(e.isBuffering){const i=e.elBuffer.childNodes;i.length<=n?e.elBuffer.appendChild(t.el):e.elBuffer.insertBefore(t.el,i[n]),e._bufferedChildren.push(t)}else{const i=e.itemViewContainer?e.$(e.itemViewContainer):e.$el,r=i.children();r.size()<=n?i.append(t.el):r.eq(n).before(t.el)}},reversedAppendHtml:function(e,t){e.isBuffering?(e.elBuffer.insertBefore(t.el,e.elBuffer.firstChild),e._bufferedChildren.push(t)):(e.itemViewContainer?e.$(e.itemViewContainer):e.$el).prepend(t.el)},measureList:function(){if(!this.children.length)return;const e=this.children._views,t=e[r().first(r().keys(e))];r().defer(r().bind((function(){this.itemWidth=t.$el.outerWidth(!0),this.itemHeight=t.$el.outerHeight(!0),this.itemMarginRight=parseInt(t.$el.css("margin-right"),10),this.itemMarginBottom=parseInt(t.$el.css("margin-bottom"),10),this.triggerMethod("measure",this)}),this))},getViewForModel:function(e){const t=this.children._indexByModel[e.cid];return this.children._views[t]},reorder:function(){const e=this.children,t=this.collection.models,n=r().map(t,(function(t,n){const i=e.findByModel(t);return i._index=n,i.el}));this.$el.append(n)},onCollectionRendered:function(){this.measure&&this.measureList()}})},98759:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(57076),l=n(82590);let c=0;const d=[],u=a.Z.Layout.extend({className:"modal fade",focusDelay:500,animationDelay:500,events:{"hide.bs.modal":"onHide"},initialize:function(){this.once("render",(function(){c+=1,l.Z.trigger("anyModalOpen")})),this.once("close",(function(){c-=1,0===c&&l.Z.trigger("allModalsClosed")}))},hide:function(){this.isClosed||this.isHidden||this.$el.modal("hide")},onRender:function(){this.rerender||(this.isForced?this.$el.modal({backdrop:!1,keyboard:!1}):(this.listenTo(l.Z,"shortcut:escape",o().bind((function(){d[0]===this&&this.hide()}),this)),this.listenToOnce(this,"close",(function(){const e=d.indexOf(this);-1!==e&&d.splice(e,1)})),d.unshift(this),this.$el.modal()),r()(":focus").blur())},onHide:function(){this.isHidden=!0,o().each(this.panes,(function(e){const t=e.constructor.onModalClose;t&&t.apply(this)}),this),window.setTimeout(o().bind((function(){l.Z.trigger("hide:modal",this),this.trigger("close")}),this),this.animationDelay)}})},32846:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(98759),l=n(65975),c=n.n(l);const d=a.Z.extend({className:"confirm-modal modal modal-sm fade",template:c(),ui:{doubleConfirmMessage:".double-confirm-message",confirmBtn:".confirm-btn",confirmLabel:".confirm-btn .btn-label"},events:o().extend({"click .confirm-btn":"onConfirm"},a.Z.prototype.events),whitelistedOptions:["title","message","warningMessage","confirmLabel","cancelLabel","hasDanger","hideCancel"],initialize:function(e){a.Z.prototype.initialize.apply(this,arguments),this.async=e.async,this.data=o().pick(e,this.whitelistedOptions),this.promise=r().Deferred()},serializeData:function(){return o().defaults(this.data,{confirmLabel:"Yes",cancelLabel:"No"})},onRender:function(){a.Z.prototype.onRender.apply(this,arguments),window.setTimeout(o().bind((function(){this.ui.confirmBtn.focus()}),this),this.focusDelay)},onHide:function(){a.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onConfirm:function(e){if(e.preventDefault(),this.options.requireDoubleConfirm&&!this.hasConfirmedOnce){this.hasConfirmedOnce=!0;const e=this.options.doubleConfirmMessage,t=this.options.doubleConfirmLabel;return e&&this.ui.doubleConfirmMessage.text(e),void(t&&this.ui.confirmLabel.text(t))}this.promise.resolve(),this.async?this.ui.confirmBtn.addClass("active"):this.hide()}})},24729:(e,t,n)=>{"use strict";n.d(t,{Z:()=>mt});var i=n(19755),r=n.n(i),s=n(13469),o=n.n(s),a=n(28941);function l(e,t){const n=t.constructor.prototype.validate;return n?n(e):[]}function c(e){const t=this.panes[e],n=h.call(this,t);return 0===l.call(this,n,t).length}function d(e,t){let n=this.panes[t].dependentPanes;return"function"==typeof n&&(n=n.call(this)),e.concat(n||[])}function u(){const e=this.$(".change-pane-btn");e.addClass("disabled").removeClass("selected"),o().each(this.getReachablePanes(),(function(t){e.filter("."+t+"-btn").removeClass("disabled")}),this),e.filter("."+this.selectedPane+"-btn").addClass("selected")}function h(e){return this[e.model]||this[this.panesModel]||this.model}const p={showPane:function(e){if(e===this.selectedPane)return;const t=this.paneRegion.currentView;t&&(this.stopListening(t,"valid",u),this.stopListening(t,"invalid",u),this.$el.removeClass("pane-"+this.selectedPane),this.onPaneHide&&this.onPaneHide(this.selectedPane,t)),this.selectedPane=e;const n=this.panes[e],i=n.constructor,r=this.paneConstructorArg?this.paneConstructorArg():{},s=new i(o().extend(r,{model:h.call(this,n)}));if(s.onModalClose){this._paneOnModalCloseCallbacks||this.listenToOnce(this,"close",(function(){o().each(this._paneOnModalCloseCallbacks,(function(e){e[1].call(e[0])}),this),this._paneOnModalCloseCallbacks=null}));const e=this._paneOnModalCloseCallbacks||[];e.push([s,s.onModalClose]),this._paneOnModalCloseCallbacks=o().uniq(e,(function(e){return e[1]}))}this.listenTo(s,"valid",u),this.listenTo(s,"invalid",u),u.call(this),this.onPaneShow&&this.onPaneShow(e,s),this.$el.addClass("pane-"+e),this.paneRegion.show(s),u.call(this)},getReachablePanes:function(){const e=o().reduce(this.panes,(function(e,t){let n=t.dependentPanes;return"function"==typeof n&&(n=n.call(this)),o().union(e,n||[])}),[],this);let t,n,i=o().filter(o().keys(this.panes),(function(t){return!o().contains(e,t)})),r=i;for(;r.length;)t=o().filter(r,c,this),n=n||t.length!==r.length,r=o().reduce(t,d,[],this),i=i.concat(r);return i.isAnyInvalid=n,i},onChangePaneClick:function(e){e.preventDefault();const t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))}};var g=n(51394),m=n(7631),f=n(65228),v=n(34510),y=n(35785),b=n(71746),Z=n(82590),S=n(26120),w=n(60964),P=n(42780),C=n(21235),x=n(50958),A=n(10123),E=n(71065),I=n(81494),k=n(57076),T=n(87955),O=n.n(T);const M=k.Z.ItemView.extend({template:O(),events:{"change input[name]":"onInputChange","change select[name]":"onInputChange"},initialize:function(){this.changes={}},serializeData:function(){return{settings:this.collection.toJSON(),escapedAgentName:o().escape(this.model.agents.get(this.model.get("agent")).get("name"))}},onInputChange:function(e){const t=r()(e.currentTarget),n=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:t.attr("name")}).set("value",n)}});var R=n(96543),D=n(50207),_=n.n(D);const V=_().extend({constructor:function(e,t,n,i){this.exclusiveAgents=t,this.agentIdentifier=n,_().call(this,e,i),this.filterBy(o().bind(this.filterExclusiveAgent,this))},filterExclusiveAgent:function(e){const t=e.get("identifier"),n=this.exclusiveAgents;if(!n)return!0;const i=this.agentIdentifier,r=-1!==n.indexOf(i),s=-1!==n.indexOf(t);return r?t===i:!s}}),L=_().extend({constructor:function(e,t,n,i){this.exclusiveScanners=t,this.scannerName=n,_().call(this,e,i),this.filterBy(o().bind(this.filterExclusiveScanner,this))},filterExclusiveScanner:function(e){const t=e.get("name"),n=this.exclusiveScanners;if(!n)return!0;const i=this.scannerName,r=-1!==n.indexOf(i),s=-1!==n.indexOf(t);return r?t===i:!s}});var j=n(49788),N=n(22618),U=n(88019);const F=N.Z.extend({name:"ScannerModel",context:["server"],rootPropertyName:"Scanner",syncedAttrs:{name:U.Z.string}}),B=j.Z.extend({name:"ScannerCollection",context:["server","sectionTypeID"],model:F,url:function(){return"/system/scanners/"+this.sectionTypeID},hasExclusiveScanner:function(e){return!!o().intersection(this.pluck("name"),e).length}});var z=n(2608);const H=k.Z.Layout.extend({ui:{formGroup:".form-group"},onlyAfterRender:["showValidationResult"],serializeData:function(){const e={};return this.model.isNew()?e.add=!0:e.edit=!0,e.section=this.model.toJSON(),e},showValidationResult:function(e){const t=this.ui.formGroup;t.removeClass("has-error"),o().each(e,(function(e){t.filter("."+e+"-group").addClass("has-error")})),this.trigger(e.length?"invalid":"valid")},createMenuOptions:function(e,t){return o().map(e,(function(e){return'<option value="'+e.value+'"'+(e.value===t?" selected":"")+">"+e.label+"</option>"})).join("\n")},getSectionType:function(){if(this.model.sectionType)return this.model.sectionType;const e=this.model.get("type");let t=A.ZP.get(e);return"movie"===e&&this.model.get("agent")===v.Hn&&(t=A.ZP.get("videos")),this.model.sectionType=t,t},setSectionType:function(e){this.model.sectionType=e},populateAgents:function(){const e=this.getSectionType();return e?(this.model.agents||(this.model.agents=new R.Z([],{server:this.model.server,mediaTypeID:e.typeID})),this.model.agents.populate().then((function(e){return e}))):r().Deferred().reject().promise()},populateScanners:function(){const e=this.getSectionType();return e?(this.model.scanners||(this.model.scanners=new B([],{server:this.model.server,sectionTypeID:e.typeID})),this.model.scanners.populate().then((function(e){return e}))):r().Deferred().reject().promise()},populateAgentsProxy:function(){const e=this.getSectionType().exclusiveAgents,t=new V(this.model.agents,e,this.model.get("agent"));return this.model.agentsProxy=t,r().Deferred().resolve(t).promise()},populateScannersProxy:function(){const e=this.getSectionType().exclusiveScanners,t=new L(this.model.scanners,e,this.model.get("scanner"));return this.model.scannersProxy=t,r().Deferred().resolve(t).promise()},populateSectionSettings:function(){if(!this.model.server.supports("sectionSettings"))return r().Deferred().resolve().promise();if(!this.model.settings){const e=new z.Z([],{server:this.model.server}),t={agent:this.model.get("agent")};if(this.model.isNew()){const n=this.getSectionType();t.type=n.typeID,e.url=E.Z.join(["/library/sections/prefs"],t)}else e.url=E.Z.join(["/library/sections/",this.model.id,"/prefs"],t);this.model.settings=e}return this.model.settings.populate().then((()=>(!(!this.model.isNew()||"music"!==this.model.get("type")||!this.model.server.supports("premiumMusic")||this.model.settings.findWhere({id:"importFromiTunes"})||!this.model.server.get("desktop").get("settings").findWhere({id:"iTunesLibraryXmlPath"}))&&this.model.settings.unshift({type:"bool",id:"importFromiTunes",value:!1,label:(0,C.Z)("Import from iTunes"),summary:(0,C.Z)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library.")}),this.model.settings)))},populateSectionAgentSettings:function(){if(!this.model.agentSettings){const e=new z.Z([],{server:this.model.server,url:E.Z.join(["/:/plugins/",this.model.get("agent"),"/prefs"])});this.model.agentSettings=e}return this.model.agentSettings.populate()},onModalClose:function(){this.model.scanners=null,this.model.scannersProxy=null,this.model.agents=null,this.model.agentsProxy=null,this.model.settings=null}});var q=n(19597),W=n.n(q);const $=k.Z.ItemView.extend({template:W(),events:{"change [name]":"onEditSectionSettingInputChange"},serializeData:function(){return{settings:this.collection.toJSON(),edit:!this.model.isNew()}},onEditSectionSettingInputChange:function(e){const t=r()(e.currentTarget),n=t.attr("name");if("importFromiTunes"===n)return void this.model.set(n,!0);const i=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:n}).set("value",i)}});var G=n(2200),K=n.n(G);const X=H.extend({template:K(),ui:o().extend({sectionAgent:"#edit-section-agent",sectionScanner:"#edit-section-scanner",thumbnailsCheckbox:'input[name="enableBIFGeneration"]',agentGroup:".agent-group",scannerGroup:".scanner-group"},H.prototype.ui),events:{"change #edit-section-agent":"onEditSectionAgentChange","change #edit-section-scanner":"onEditSectionScannerChange","click .delete-thumbnails-btn":"onThumbnailsDeleteClick"},regions:{sectionSettingsRegion:".section-settings-region",agentSettingsRegion:".section-agent-settings-region"},onlyAfterRender:["renderSectionAgent","renderSectionScanner","renderSectionSettings","renderSectionAgentSettings"].concat(H.prototype.onlyAfterRender),initialize:function(){this.populateCollections()},onRender:function(){this.model.agents.populate(),this.model.scanners.populate()},validate:function(e){const t=[];return e.get("agent")||t.push("agent"),e.get("scanner")||t.push("scanner"),t},renderSectionSettings:function(){const e=new $({model:this.model,collection:this.model.settings});this.sectionSettingsRegion.show(e)},renderSectionAgentSettings:function(){const e=new M({model:this.model,collection:this.model.agentSettings});this.agentSettingsRegion.show(e)},populateCollections:function(){const e=this.populateAgents(),t=this.populateScanners(),n=this.populateSectionSettings(),i=this.populateSectionAgentSettings();return this.populateAgentsProxy(),this.populateScannersProxy(),e.then(o().bind(this.onAgentsPopulate,this)),t.then(o().bind(this.onScannersPopulate,this)),n.then(o().bind(this.renderSectionSettings,this)),i.then(o().bind(this.renderSectionAgentSettings,this)),r().when(e,t,n,i).then(o().bind(this.validate,this,this.model))},renderSectionAgent:function(){const e=this.model.agentsProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("identifier")}})),this.model.get("agent"));this.ui.sectionAgent.html(t),e.length>1&&this.ui.agentGroup.removeClass("hidden")},renderSectionScanner:function(){const e=this.model.scannersProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("name")}})),this.model.get("scanner"));this.ui.sectionScanner.html(t),e.length>1&&this.ui.scannerGroup.removeClass("hidden")},updateSectionAgent:function(e){const t=this.model.get("scanner");this.model.set("agent",e),this.agentSettingsRegion.close();const n=this.model.agents.get(e);if(n){const i=n.get("languages"),r=this.model.get("language"),s=this.getSectionType();if(!i.get(r)){let e=i.findWhere({default:!0});e||2!==r.search("-")||(e=i.get(r.substr(0,2))),e||(e=i.get(s.defaultLanguage)||i.first()),this.model.set("language",e.get("code"))}if(this.model.agentSettings=null,this.populateSectionAgentSettings().then(o().bind(this.renderSectionAgentSettings,this)),this.model.settings=null,this.populateSectionSettings().then(o().bind(this.renderSectionSettings,this)),e===s.mutual.agent)this.model.set("scanner",s.mutual.scanner),this.renderSectionScanner();else if(this.model.get("scanner")===s.mutual.scanner){const e=this.model.scanners.find((e=>e.get("name")!==t));this.model.set("scanner",e.get("name")),this.renderSectionScanner()}}this.showValidationResult(this.validate(this.model))},onEditSectionAgentChange:function(e){const t=r()(e.currentTarget).val();this.updateSectionAgent(t)},onEditSectionScannerChange:function(e){const t=r()(e.currentTarget).val(),n=this.model.get("agent"),i=this.getSectionType();if(this.model.set("scanner",t),t===i.mutual.scanner)this.updateSectionAgent(i.mutual.agent),this.renderSectionAgent();else if(this.model.get("agent")===i.mutual.agent){const e=this.model.agents.find((e=>e.get("identifier")!==n));this.updateSectionAgent(e.get("identifier")),this.renderSectionAgent()}this.showValidationResult(this.validate(this.model))},onAgentsPopulate:function(){this.renderSectionAgent()},onScannersPopulate:function(){this.renderSectionScanner()},onThumbnailsDeleteClick:function(e){e.preventDefault(),I.Z.execute("deleteSectionThumbnails",{section:this.model}).done(this.whenRendered((function(){this.ui.thumbnailsCheckbox.prop("checked",!1)})))}});var Q=n(64038),J=n.n(Q);const Y=H.extend({template:J()});var ee=n(78e3),te=n.n(ee);const ne=k.Z.ItemView.extend({template:te(),className:"row",events:{"click .remove-path-btn":"onRemovePathClick"},onRemovePathClick:function(e){e.preventDefault(),this.model.trigger("destroy",this.model,this.model.collection)}}),ie=k.Z.CollectionView.extend({itemView:ne});var re=n(90126),se=n(81560),oe=n(8710),ae=n.n(oe);const le=k.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item disabled",template:ae(),serializeData:function(){return{filePath:this.model.toJSON()}}});var ce=n(95882),de=n.n(ce);const ue=k.Z.CompositeView.extend({template:de(),itemView:le,itemViewContainer:".js-file-list-items",bindings:{".js-file-list-truncated-message":{modelAttribute:"truncatedFilesCount",formatter:e=>e?(0,C.Z)("and {truncatedFilesCount} more",{truncatedFilesCount:e}):null}}});var he=n(98651),pe=n.n(he);const ge=k.Z.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item",template:pe(),ui:{link:"a",spinner:".loading"},serializeData:function(){return{filePath:this.model.toJSON(),isRoot:!this.model.parent}},select:function(e){this.ui.link.addClass("selected"),this.ui.spinner.toggleClass("hidden",!e)},unselect:function(){this.ui.link.removeClass("selected"),this.ui.spinner.addClass("hidden")}}),me=k.Z.CollectionView.extend({tagName:"ul",className:"list browse-directory-list",itemView:ge,selectedFilePath:null,events:{"click a":"onDirectoryClick"},collectionEvents:{reset:"onReset"},startLoadingItem:function(e){this.selectedFilePath&&this.unselectItem(this.selectedFilePath),this.selectedFilePath=e;const t=this.children.findByModel(e);t&&t.select(!0)},stopLoadingItem:function(e){const t=this.children.findByModel(e);t&&t.select(!1)},unselectItem:function(e){this.selectedFilePath=null;const t=this.children.findByModel(e);t&&t.unselect()},onReset:function(){this.parentFilePath&&this.collection.add(this.parentFilePath,{at:0})},onDirectoryClick:function(e){e.preventDefault();const t=r()(e.currentTarget).data("key"),n=this.collection.get(t)||this.parentFilePath;this.trigger("change:path",n),this.options.isRoot||(n.parent.parent?(this.parentFilePath=n.parent.parent.clone(),this.parentFilePath.set({title:".. [Back]",isBackShortcut:!0})):this.parentFilePath=null)}});var fe=n(98759),ve=n(26719),ye=n.n(ve);const be=fe.Z.extend({name:"addFolderModal",className:"add-folder-modal modal fade",template:ye(),events:o().extend({"submit form":"onSubmitForm"},fe.Z.prototype.events),ui:{path:'input[name="path"]'},regions:{rootList:".home-directory-container",childrenList:".path-container",childrenFileList:".file-container"},initialize:function(e){fe.Z.prototype.initialize.apply(this,arguments),this.rootPathList=new re.Z({},{server:e.server,includeFiles:1}),this.childrenPathList=new re.Z({},{server:e.server,includeFiles:1}),this.loadRootPaths()},loadRootPaths:function(){this.rootPathList.fetch().done(this.whenRendered((function(){const e=this.rootPathList.get("paths").where({home:!0}),t=o().first(e)||this.rootPathList.get("paths").first();this.rootList.currentView.startLoadingItem(t),this.loadChildrenPaths(t)})))},loadChildrenPaths:function(e){se.Z.abortAll("addFolderModal");const t=e.get("children"),n=t.fetch({scope:"addFolderModal"});n.done(this.whenRendered((function(){this.ui.path.val(e.get("path")),this.childrenPathList.get("paths").reset(t.get("paths").models),this.childrenPathList.get("files").reset(t.get("files").models),this.childrenPathList.set("truncatedFilesCount",t.get("truncatedFilesCount"))}))),n.fail(this.whenRendered((function(){this.childrenList.currentView.unselectItem(e),Z.Z.trigger("show:alert",{type:"error",message:(0,C.Z)("Unable to load contents of '{1}'",e.get("path"))})}))),n.always(this.whenRendered((function(){this.rootList.currentView.stopLoadingItem(e)})))},onRender:function(){fe.Z.prototype.onRender.apply(this,arguments);const e=new me({isRoot:!0,collection:this.rootPathList.get("paths")}),t=new me({collection:this.childrenPathList.get("paths")}),n=new ue({model:this.childrenPathList,collection:this.childrenPathList.get("files")});this.listenTo(e,"change:path",this.onRootPathChange),this.listenTo(t,"change:path",this.onChildrenPathChange),this.rootList.show(e),this.childrenList.show(t),this.childrenFileList.show(n)},onRootPathChange:function(e){this.childrenList.currentView.parentFilePath=null,this.rootList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onChildrenPathChange:function(e){this.childrenList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onSubmitForm:function(e){e.preventDefault(),this.trigger("add:folder",this.ui.path.val()),this.hide()}});var Ze=n(69106),Se=n.n(Ze),we=Object.defineProperty,Pe=Object.prototype.hasOwnProperty,Ce=Object.getOwnPropertySymbols,xe=Object.prototype.propertyIsEnumerable,Ae=(e,t,n)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ee=(e,t)=>{for(var n in t||(t={}))Pe.call(t,n)&&Ae(e,n,t[n]);if(Ce)for(var n of Ce(t))xe.call(t,n)&&Ae(e,n,t[n]);return e};const Ie=H.extend({template:Se(),fieldNames:["Location"],regions:{pathsRegion:".paths-region"},ui:Ee(Ee({},H.prototype.ui),{addFolderBtn:".add-folder-btn",addFolderPopulating:".add-folder-populating",addFolderError:".add-folder-error"}),events:{"click .add-folder-btn":"onAddFolderClick","change input[name=path]":"onFolderChange"},onlyAfterRender:["renderSectionLocation"].concat(H.prototype.onlyAfterRender),initialize:function(){this.listenTo(this.model.get("locations"),{add:this.onCollectionChange,remove:this.onCollectionChange}),this.renderSectionLocation(),this.showValidationResult(this.validate(this.model))},validate:function(e){const t=[];return e.get("locations").length||t.push("locations"),t},renderSectionLocation:function(){const e=new ie({collection:this.model.get("locations")});this.pathsRegion.show(e)},onCollectionChange:function(){this.showValidationResult(this.validate(this.model))},onAddFolderClick:function(e){e.preventDefault();const t=new be({server:this.model.server});this.listenToOnce(t,"add:folder",this.onAddFolder),Z.Z.trigger("show:modal",t)},onAddFolder:function(e){if(!e)return;const t={path:e};this.model.get("locations").findWhere(t)||this.model.get("locations").add(t)},onFolderChange:function(e){const t=r()(e.currentTarget),n=t.prop("defaultValue"),i=t.val();i?(this.model.get("locations").findWhere({path:n}).set("path",i),t.prop("defaultValue",i)):t.val(n)}});var ke=n(94983),Te=n.n(ke);const Oe=fe.Z.extend({name:"plexPassModal",template:Te(),serializeData:function(){return{plexPassUrl:a.DB("appModel").get("user").server.get("plexPassUrl"),escapedFriendlyName:o().escape(this.model.get("friendlyName")),isClaimed:this.model.get("isClaimed")}}});var Me=n(45089),Re=n.n(Me);const De=H.extend({template:Re(),ui:{chooseLibrary:".choose-library"},events:{"click .choose-library":"onChooseLibraryClick"},modelEvents:{"change:agent":"onSectionAgentChange","change:scanner":"onSectionScannerChange"},onlyAfterRender:["updateSelectedOffering"],initialize:function(){this.hasPremiumMusic=this.model.server.hasOwnerFeature("premium_music_metadata"),this.updateSelectedOffering()},serializeData:function(){const e=a.DB("appModel").get("user");return{hasPremiumMusic:this.hasPremiumMusic,plexPassUrl:e.server.get("plexPassUrl"),hasLyrics:this.model.server.get("transcoderLyrics")}},updateSelectedOffering:function(){const e=this.model.get("agent"),t=this.model.get("scanner");this.ui.chooseLibrary.find("input").prop("checked",!1);let n=this.ui.chooseLibrary.filter('[data-agent="'+e+'"][data-scanner="'+t+'"]').find("input");n.length||(n=this.ui.chooseLibrary.not("[data-agent][data-scanner]").find("input")),n.prop("checked",!0)},onChooseLibraryClick:function(e){const t=r()(e.currentTarget),n=t.data("agent"),i=t.data("scanner");!n&&!i||this.hasPremiumMusic?(this.model.agentSettings=null,this.model.set({agent:n||this.getSectionType().defaultAgent,scanner:i||this.getSectionType().defaultScanner})):Z.Z.trigger("show:modal",new Oe({model:this.model.server}))},onSectionAgentChange:function(){this.updateSelectedOffering()},onSectionScannerChange:function(){this.updateSelectedOffering()}});var _e=n(15856),Ve=n(61973),Le=n(42227),je=n(42902);const Ne=function(e,t){return function(e,{limit:t}={},n=!1){if(!e)return"";const i=new Date;e=Math.round(e),"past"===t?e=Math.min(e,(0,je.Z)(i)):"future"===t&&(e=Math.max(e,(0,je.Z)((0,Ve.Z)(i,1))));const r=(0,Le.Z)(e).getTime()-i.getTime();let s;return s="future"===t||"past"!==t&&r>0,function({milliseconds:e,isShorthand:t,isFuture:n}){let i=Math.abs(e)/1e3;i&&(i=i<1?1:Math.round(i));const r=Math.round(i/60),s=Math.round(r/60),o=Math.round(s/24),a=Math.round(o/30),l=Math.round(o/365),c={seconds:i,minutes:r,hours:s,days:o,months:a,years:l},d={unitOfTime:i<=44&&(t?(0,C.Z)("{seconds}s",c):(0,C.Z)("a few seconds",c))||i<45&&(t?(0,C.Z)("{seconds}s",c):(0,C.Z)("{seconds} seconds",c))||r<=1&&(t?(0,C.Z)("{minutes}m",c):(0,C.Z)("a minute",c))||r<45&&(t?(0,C.Z)("{minutes}m",c):(0,C.Z)("{minutes} minutes",c))||s<=1&&(t?(0,C.Z)("{hours}h",c):(0,C.Z)("an hour",c))||s<22&&(t?(0,C.Z)("{hours}h",c):(0,C.Z)("{hours} hours",c))||o<=1&&(t?(0,C.Z)("{days}d",c):(0,C.Z)("a day",c))||o<26&&(t?(0,C.Z)("{days}d",c):(0,C.Z)("{days} days",c))||a<=1&&(t?(0,C.Z)("{months}mo",c):(0,C.Z)("a month",c))||a<11&&(t?(0,C.Z)("{months}mo",c):(0,C.Z)("{months} months",c))||l<=1&&(t?(0,C.Z)("{years}y",c):(0,C.Z)("a year",c))||(t?(0,C.Z)("{years}y",c):(0,C.Z)("{years} years",c))};return n?(0,C.Z)("in {unitOfTime}",d):(0,C.Z)("{unitOfTime} ago",d)}({milliseconds:r,isShorthand:n,isFuture:s})}(e,{limit:"past"},t)};var Ue=n(67294),Fe=n(97762),Be=Object.defineProperty,ze=Object.prototype.hasOwnProperty,He=Object.getOwnPropertySymbols,qe=Object.prototype.propertyIsEnumerable,We=(e,t,n)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function $e(e,t={}){return(0,Fe.renderToStaticMarkup)(Ue.createElement(e,((e,t)=>{for(var n in t||(t={}))ze.call(t,n)&&We(e,n,t[n]);if(He)for(var n of He(t))qe.call(t,n)&&We(e,n,t[n]);return e})({},t)))}var Ge=n(6400),Ke=n(6909),Xe=n(30311),Qe=n(32714),Je=n(8946),Ye=n(56315);const et=function(e){switch(e){case A.MB:return Ge.l;case A.xF:return Ke.H;case A.n1:return Xe.L;case A.TV:return Qe.W;case A.FM:return Je.O;case A.S7:return Ye.Z}};var tt=n(85512),nt=n.n(tt),it=Object.defineProperty,rt=Object.prototype.hasOwnProperty,st=Object.getOwnPropertySymbols,ot=Object.prototype.propertyIsEnumerable,at=(e,t,n)=>t in e?it(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lt=(e,t)=>{for(var n in t||(t={}))rt.call(t,n)&&at(e,n,t[n]);if(st)for(var n of st(t))ot.call(t,n)&&at(e,n,t[n]);return e};function ct(e,t){return(null==e?void 0:e.key)!==A.S7||t.get("audiobook")}const dt=H.extend({template:nt(),ui:o().extend({sectionTypes:".wizard-block",sectionTitle:"#edit-section-title",sectionLanguage:"#edit-section-language",sectionLanguageGroup:".language-group"},H.prototype.ui),modelEvents:{"change:type":"onSectionTypeChange","change:title":"onSectionTitleChange","change:language":"onSectionLanguageChange"},events:{"click .section-type":"onSectionTypeClick","keyup #edit-section-title":"onEditSectionTitleChange","change #edit-section-title":"onEditSectionTitleChange","change #edit-section-language":"onEditSectionLanguageChange"},onlyAfterRender:["renderSectionLanguage","updateSectionTypesWizardBlocks","updateSectionLanguage","updateSectionTitle"].concat(H.prototype.onlyAfterRender),initialize:function(e){this.populateCollections(),this.isDefaultSection=e.isDefaultSection},serializeData:function(){const e=H.prototype.serializeData.apply(this,arguments),t=a.DB("appModel"),n=t.get("user"),i=n.get("features").get(_e.Ix);e.sectionTypes=A.ZP.getAll().reduce(((e,t)=>((t.key!==A.S7||t.key===A.S7&&i)&&e.push(lt(lt({},t),{typeIcon:$e(et(t.key))})),e)),[]);const r=this.getSectionType();r&&(e.currentSectionKey=r.key);const s=this.model.get("updatedAt");return s&&(e.updatedAt=Ne(s)),e.canChangeType=this.model.isNew()&&!this.isDefaultSection,e.hasType=!!this.model.get("type"),e.isInitialTypeSupported=ct(this.model.sectionType,this.model.server),e.escapedUpdatedAt=o().escape(e.updatedAt),e},validate:function(e){const t=[];return e.get("type")||t.push("type"),e.get("title")||t.push("title"),e.get("language")||t.push("language"),e.get("isCollectionsPopulated")||t.push("collectionsNotPopulated"),ct(e.sectionType,e.server)||t.push("unsupportedType"),t},populateCollections:function(){this.model.set("isCollectionsPopulated",!1);const e=this.populateAgents(),t=this.populateScanners(),n=this.getSectionType();let i=r().when(n,e,t,this.model.server.get("myPlexSubscription")&&this.model.server.supports("premiumMusic"));return this.model.isNew()&&(i=i.then(o().bind(this.model.setAgentAndScanner,this.model))),i=i.then(e).then(o().bind(this.onAgentsPopulate,this)).then(o().bind((function(){this.showValidationResult(this.validate(this.model))}),this)).then((()=>{this.model.set("isCollectionsPopulated",!0)})),i},renderSectionLanguage:function(){let e=this.model.get("language");const t=this.model.agents.get(this.model.get("agent"));if(!t)return void this.ui.sectionLanguageGroup.hide();const n=t.get("languages");if(!n.get(e)){const t=n.findWhere({default:!0});let i;if(t&&(i=t.get("code")),!i){const e=this.model.get("type");i=A.ZP.get(e).defaultLanguage}this.model.set("language",i,{silent:!0}),e=i}const i=n.map((function(e){return{label:e.get("name"),value:e.id}}));this.updateSectionLanguage(),this.ui.sectionLanguage.html(this.createMenuOptions(i,e))},updateSectionTypesWizardBlocks:function(){this.ui.sectionTypes.removeClass("selected"),this.ui.sectionTypes.filter('[data-key="'+this.model.get("type")+'"]').addClass("selected"),this.$el.addClass("section-type-chosen")},updateSectionLanguage:function(){this.ui.sectionLanguage.val(this.model.get("language"))},updateSectionTitle:function(){const e=this.ui.sectionTitle.val(),t=this.model.get("title");e!==t&&this.ui.sectionTitle.val(t)},onSectionTypeClick:function(e){e.preventDefault();const t=r()(e.currentTarget);if(!t.hasClass("selectable"))return;const n=t.data("key"),i={type:n},s=A.ZP.get(n);this.model.get("title")||(i.title=s.title),this.model.set(i)},onEditSectionTitleChange:function(e){const t=r()(e.currentTarget);this.model.set("title",t.val()),this.showValidationResult(this.validate(this.model))},onEditSectionLanguageChange:function(e){const t=r()(e.currentTarget);this.model.set("language",t.val()),this.showValidationResult(this.validate(this.model))},onSectionTypeChange:function(e,t){this.updateSectionTypesWizardBlocks();const n=A.ZP.get(t);if(!this.model.get("language")){const e=n.defaultLanguage;this.model.set("language",e)}const i=this.model.get("title"),r=this.model.previous("type"),s=A.ZP.get(r),o=s&&s.title;i&&i!==o||this.model.set("title",n.title),this.setSectionType(n),this.model.agents=null,this.model.scanners=null,this.model.settings=null;const a=ct(n,this.model.server);this.$el.toggleClass("is-type-unsupported",!a),a&&this.populateCollections()},onSectionTitleChange:function(e,t){this.updateSectionTitle(),this.showValidationResult(this.validate(this.model))},onSectionLanguageChange:function(e,t){this.updateSectionLanguage()},onAgentsPopulate:function(e){this.renderSectionLanguage()}});var ut=n(5027),ht=n(66501),pt=n(3698),gt=n.n(pt);const mt=fe.Z.extend({mixins:[p],name:"editSectionModal",className:"edit-section-modal modal modal-lg fade",template:gt(),panes:{type:{constructor:dt,nextPane:"folders",dependentPanes(){return this.showFolders?["folders"]:["options","advanced"]}},folders:{constructor:Ie,nextPane:"options",dependentPanes:["options","advanced"]},options:{constructor:De,nextPane:"advanced"},advanced:{constructor:X},error:{constructor:Y}},panesModel:"tempModel",ui:{sidebar:".modal-nav-list",optionsBtn:".options-btn",saveBtn:".save-btn",message:".form-message",headerSectionType:".section-type-title"},regions:{paneRegion:".pane-region"},events:o().extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onSaveClick","submit .edit-section-type-form":"onGeneralFormSubmit"},fe.Z.prototype.events),onlyAfterRender:["showPane","updateMessage","updateSectionTitle","updateSectionTitleDestabilized","updateSaveBtn"],paneConstructorArg:function(){return{isDefaultSection:this.isDefaultSection}},initialize:function(e){fe.Z.prototype.initialize.apply(this,arguments),this.server=e.server,this.redirect=e.redirect,this.isDefaultSection=e.isDefaultSection,this.isLoading=!0,this.model?(this.tempModel=this.model.clone(),this.tempModel.collection=this.model.collection):this.tempModel=new g.Z({},{server:this.server,collection:this.server.get("sections")}),this.listenTo(this.tempModel,"change:type",this.onSectionTypeChange),this.tempModel.isNew()&&e.seedAttrs&&this.tempModel.set(this.tempModel.parse(e.seedAttrs)),this._deferred=r().Deferred(),this.promise=this._deferred.promise();const t=this.server.get("providers");t.populate().done(this.whenRendered((()=>{const n=t.get(b.Y3).get("features").get(y.Z.MANAGE).get("automaticLibraryFolders");this.showFolders=!n,this.isLoading=!1,this.render(),this.showPane(e.selectedPane||"type")})))},serializeData:function(){const e=this.tempModel,t=e.isNew(),n=e&&(0,C.U)("Edit {1}",e.get("title"));return{isLoading:this.isLoading,add:t,edit:!t,paneTitle:n,section:null==e?void 0:e.toJSON(),selectedPane:this.selectedPane,showFolders:this.showFolders}},updateMessage:function(e){this.ui.message.text(e||"")},updateSaveBtn:function(){const e=this.ui.saveBtn,t=this.panes[this.selectedPane],n=o().bind((function(n){const i=t.nextPane,r=this.tempModel.isNew(),s=!t.constructor.prototype.validate||0===t.constructor.prototype.validate(this.tempModel).length,o=!this.getReachablePanes().isAnyInvalid,a=this.tempModel.get("isCollectionsPopulated");let l;this.ui.optionsBtn.toggleClass("hidden",!n.showOptions);const c=a&&(o||r&&s);l=i,n.showOptions||"options"!==i||(l=!1),o&&(l=!1),n.showOptions&&"options"===i&&(l=!0),n.showAdvanced&&"advanced"===i&&(l=!0),this.tempModel.isNew()&&"folders"===i&&(l=!0),e.toggleClass("save",!l),e.toggleClass("next",!!l),e.toggleClass("disabled",!c)}),this),i=this.tempModel.server,r=this.tempModel.sectionType,s=r&&"music"===r.key&&i.supports("premiumMusic"),a=this.tempModel.isNew();s?this.paneRegion.currentView.populateAgents().then((function(e){const t=e.findWhere({identifier:v.zR}),i=a&&t;n({showOptions:i,showAdvanced:i})})):n({})},updateSectionTitle:function(){const e=A.ZP.get(this.tempModel.get("type"));if(e){this.updateSectionTitleDestabilized();const t=o().escape(e.title);this.ui.headerSectionType.html(t)}},updateSectionTitleDestabilized:function(){this.ui.headerSectionType.addClass("section-type-title-unstable"),this.ui.headerSectionType.triggerReflow(),this.ui.headerSectionType.removeClass("section-type-title-unstable")},save:function(){const e=this.ui.saveBtn;this.updateMessage(""),e.addClass("active");const t=this.saveModel();t.always((function(){e.removeClass("active")})),t.fail(o().bind((function(e){503===e.status?Z.Z.trigger("show:modal",new ut.Z({model:this.server})):this.updateMessage((0,C.Z)("Your changes could not be saved."))}),this)),t.then(o().bind((function(){const e=this.model.server.entityID(),t=(0,a.DB)("appStore").dispatch;if(t((0,f.lm)({serverEntityID:e})),t((0,f.tU)({serverEntityID:e})),!this.redirect)return this._deferred.resolve(),void this.hide();const n={machineIdentifier:this.model.server.get("machineIdentifier"),isCloud:this.model.server.get("isCloud")},i={identifier:b.Y3,isLibraryProvider:!0},r={id:this.model.id},s=this.model.get("type"),o={};o.pivot=(0,S.Z)(this.model.server.get("version"),m.Z.pivotIDs)?"library":(0,P.Z)(this.model.id,s),s===x.R0&&(o.key=E.Z.join(["/library/sections",this.model.id,"all"],{type:(0,x.nW)(x.c5).id,sort:"addedAt:desc"}));const l=(0,ht.Z)(n,i,r,o);window.location.hash=l,this._deferred.resolve(),this.hide()}),this))},saveModel:function(){const e=this.getSectionSettingsParams(),t=e?{data:{prefs:e}}:{};let n;return this.tempModel.isNew()?(n=this.tempModel.save(null,t),n=n.then(o().bind((function(e,t,n){let i=w.Z.parseXML(e);if(201!==n.status)return;if(i.Directory&&(i=i.Directory),!i.key){const e=n.getResponseHeader("Location");e&&(i.key=e.substring(e.lastIndexOf("/")+1))}const r=this.server;return r.supports("advancedFilters")&&(i.filters=!0),this.model=new g.Z(i,{parse:!0,server:r}),r.get("sections").add(this.model),n}),this))):(this.model.copy(this.tempModel),n=this.model.save(null,t)),n=n.then(o().bind(this.saveAgentSettings,this)),n},saveSettings:function(e){const t=r().Deferred().resolve(this.model).promise();if(!this.server.supports("sectionSettings"))return t;if(!e)return t;const n=E.Z.join(["/library/sections/",this.model.id,"/prefs"],e),i=o().extend(this.server.getXHROptions(n),{type:"PUT"});return r().ajax(i).promise().then((function(){return t}))},saveAgentSettings:function(){const e=r().Deferred().resolve(this.model).promise(),t=this.tempModel.agentSettings;if(!this.tempModel.agentSettings)return e;const n=this.getSettingsChanges(t);if(o().isEmpty(n))return e;const i=t.first(),s=i.getSaveParams(n),a=o().result(t,"url"),l=E.Z.join([a,"/set"],s),c=i.server.getXHROptions(l);return r().ajax(c).promise().then((function(){return e}))},getSectionSettingsParams:function(){const e=this.tempModel.settings;if(!e)return;const t=this.getSettingsChanges(e);return o().isEmpty(t)?void 0:e.first().getSaveParams(t)},getSettingsChanges:function(e){return e.filter((function(e){return e.changedAttributes()})).reduce((function(e,t){let n=t.get("value");return"bool"===t.get("type")&&(n=n?"1":"0"),e[t.get("id")]=n,e}),{})},onPaneShow:function(e,t){this.listenTo(t,"valid",this.updateSaveBtn),this.listenTo(t,"invalid",this.updateSaveBtn),this.updateSaveBtn()},onPaneHide:function(e,t){this.stopListening(t,"valid",this.updateSaveBtn),this.stopListening(t,"invalid",this.updateSaveBtn)},onChangePaneClick:function(e){e.preventDefault();const t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))},onSaveClick:function(e){e.preventDefault();const t=this.ui.saveBtn;if(!t.isDisabled())if(t.hasClass("next")){let e=this.panes[this.selectedPane].nextPane;"folders"!==e||this.showFolders||(e=this.ui.sidebar.find(".options-btn").isDisabled()?"advanced":"options"),e&&!this.ui.sidebar.find("."+e+"-btn").isDisabled()&&this.showPane(e)}else this.save()},onGeneralFormSubmit:function(e){this.onSaveClick(e)},onSectionTypeChange:function(){this.updateSaveBtn()}})},5027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(13469),r=n.n(i),s=n(4141),o=n(98759),a=n(7496),l=n(85115),c=n.n(l);const d=o.Z.extend({name:"libraryFailureModal",className:"confirm-modal modal modal-sm fade",template:c(),events:r().extend({"click .confirm-btn":"hide"},o.Z.prototype.events),serializeData(){return{isSignedIn:this.model.get("myPlexSigninState")===s.Hq,hasPlexSubscription:this.model.get("myPlexSubscription"),serverSettingsRoute:(0,a.Z)(this.model.get("machineIdentifier"),"settings","general")}}})},73069:(e,t,n)=>{"use strict";n.d(t,{Z:()=>J});var i=n(19755),r=n.n(i),s=n(64373),o=n(86512),a=n(30944),l=n(13469),c=n.n(l),d=n(68918),u=n(60964);const h=d.Z.extend({idAttribute:"title",whitelistedAttrs:["title","selected"],convert:function(e){const t=c().isObject(e)?e:u.Z.parseXML(e);return u.Z.parseBoolean(t,"selected"),t},parse:function(e){let t=this.convert(e);return t=c().pick(t,this.whitelistedAttrs),t}});var p=n(57840);const g=a.Z.extend({model:h,url:"/clients/profiles?type="+p.Z.LOCAL,parse:function(e){return this.convert(e,"Profile")}}),m=d.Z.extend({name:"VersionTargetModel",whitelistedAttrs:["id","tag","tagType","MediaSettings","Device"],convert:function(e){const t=c().isObject(e)?e:u.Z.parseXML(e);return u.Z.parseInteger(t,"id"),t},parse:function(e){let t=this.convert(e);return t=c().pick(t,this.whitelistedAttrs),t}}),f=a.Z.extend({model:m,url:"/library/tags?type="+p.Z.LOCAL,comparator:function(e){return e.get("MediaSettings").maxVideoBitrate},parse:function(e){return this.convert(e,"Tag")}});var v=n(98759),y=n(57076),b=n(62196),Z=n.n(b);const S=y.Z.ItemView.extend({className:"modal-body",template:Z(),events:{"click .try-again-link":"onTryAgainClick"},serializeData:function(){return{status:this.options.status}},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","loading")}});var w=n(96576),P=n(51394),C=n(42751),x=n(21451),A=n(41120),E=n(21235),I=n(25213),k=n.n(I);const T=y.Z.ItemView.extend({className:"convert-location-container form-group",template:k(),events:{"change select[name=storageLocation]":"onLocationChange"},serializeData:function(){var e;return{disableLocation:!this.model.isNew(),selectedLocationID:this.model.get("locationID"),locations:null==(e=this.model.section)?void 0:e.get("locations").toJSON()}},onLocationChange:function(e){this.model.set("locationID",parseInt(e.currentTarget.value,10))}});var O=n(94377),M=n(50958),R=n(41933),D=n.n(R);const _=y.Z.ItemView.extend({className:"convert-policy-container",template:D(),ui:{policyUnwatchedInput:"#convert-policy-unwatched",policyScopeInput:"#convert-policy-scope",policyValueInput:"#convert-policy-value",policyWarning:".convert-warning"},events:{"change input[name=policyUnwatched]":"onPolicyUnwatchedChange","change input[name=policyScope]":"onPolicyScopeChange","keyup input[name=policyValue]":"onPolicyValueChange","change input[name=policyValue]":"onPolicyValueChange"},initialize:function(){this.type=(0,M.nW)(this.model.get("metadataType")||"movie"),this.leafMediaType=(0,M.A_)(this.type.typeString).mediaType,this.model.setPolicyDefaultsFor(this.leafMediaType)},serializeData:function(){const e={isSync:this.options.isSync,isDirectory:this.model.get("isDirectory"),policy:this.model.get("policy").toJSON()};return e.showLimitWarning=this.model.shouldShowPolicyWarning(this.leafMediaType,e.policy.value),e.showUnwatched=e.isDirectory&&this.leafMediaType===O.pX,e},updatePolicyValue:function(){const e=this.model.get("policy");let t=Math.abs(parseInt(this.ui.policyValueInput.val(),10));this.ui.policyValueInput.val(c().isNaN(t)?"":t),c().isNaN(t)&&(t=0),e.set("value","all"===e.scope?null:t);const n=this.model.shouldShowPolicyWarning(this.leafMediaType,t);this.ui.policyWarning.toggleClass("hidden",!n)},onPolicyUnwatchedChange:function(){this.model.get("policy").set("unwatched",this.ui.policyUnwatchedInput.prop("checked"))},onPolicyScopeChange:function(){const e=this.model.get("policy"),t=this.ui.policyScopeInput.prop("checked")?this.ui.policyScopeInput.val():"all";e.set("scope",t),this.updatePolicyValue()},onPolicyValueChange:function(){this.updatePolicyValue()}});var V=n(29045),L=n(88531),j=n.n(L);const N=y.Z.ItemView.extend({className:"convert-target-container form-group",template:j(),ui:{targetTitleInput:".convert-target-title"},events:{"change select[name=target]":"onTargetChange","keydown input[name=targetTitle]":"onTitleKeyDown","change input[name=targetTitle]":"onTitleChange","change select[name=targetProfile]":"onProfileChange","change select[name=targetQuality]":"onQualityChange"},initialize:function(e){this.targets=e.targets,this.profiles=e.profiles;const t=this.model.get("Device").profile;this.selectedProfile=t?this.profiles.get(t):this.profiles.findWhere({selected:!0}),this.availableCustomQualities=V.Z.getAvailableQualities({lowestQualityIndex:2}).reverse();const n=this.model.get("mediaSettings").get("maxVideoBitrate");if(n){const e=V.Z.getNearestIndexToBitrate(n);this.selectedCustomQuality=V.Z.getQualityByIndex(e)}else this.selectedCustomQuality=c().first(this.availableCustomQualities);this.model.isNew()||this.model.get("targetTagID")||this.$el.addClass("show-custom-target")},serializeData:function(){return{item:this.model.toJSON(),targets:this.targets.toJSON(),disableTarget:!this.model.isNew(),profiles:this.profiles.toJSON(),selectedProfile:this.selectedProfile.toJSON(),availableCustomQualities:this.availableCustomQualities,selectedCustomQuality:this.selectedCustomQuality}},updateDeviceProfile:function(){this.model.get("Device").profile=this.selectedProfile.get("title")},updateMediaSettings:function(e){this.model.get("mediaSettings").set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},onTargetChange:function(e){const t=parseInt(e.currentTarget.value,10);t>-1?(this.model.unset("target"),this.model.set({targetTagID:t,Device:{}}),this.model.get("mediaSettings").restoreDefaults()):(this.model.set("target",this.ui.targetTitleInput.val()),this.model.unset("targetTagID"),this.updateDeviceProfile(this.selectedProfile),this.updateMediaSettings(this.selectedCustomQuality)),this.$el.toggleClass("show-custom-target",-1===t)},onTitleKeyDown:function(e){190===e.which&&0===e.currentTarget.selectionStart&&e.preventDefault()},onTitleChange:function(e){this.model.set("target",e.currentTarget.value)},onProfileChange:function(e){this.selectedProfile=this.profiles.findWhere({title:e.currentTarget.value}),this.updateDeviceProfile(this.selectedProfile)},onQualityChange:function(e){const t=parseInt(e.currentTarget.value,10);this.selectedCustomQuality=V.Z.getQualityByIndex(t),this.updateMediaSettings(this.selectedCustomQuality)}});var U=n(94160),F=n.n(U);const B=y.Z.Layout.extend({template:F(),ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",targetsRegion:".targets-region",locationRegion:".location-region"},events:{"change input[name=title]":"onTitleChange","submit #convert-form":"onSubmit"},initialize:function(e){if(this.playlist=e.playlist,this.targets=e.targets,this.profiles=e.profiles,this.model){this.tempModel=this.model.clone();const e=this.model.get("Location").librarySectionID;if(e){const t=new P.Z({key:e},{server:this.model.server,onlyIfCached:!0});c().isEmpty(t)||(this.tempModel.section=t)}}else{const t=e.item,n=e.items,i=t.has("childrenKey")?new C.Z({containerKey:t.get("childrenKey")},{server:t.server,provider:t.provider}):t,r=t.server;let s;if(t.get("isSection"))s=t;else{const e=(0,A.Z)(t);c().isEmpty(e)||(s=e)}this.tempModel=new w.Z({title:x.Z.title(t,{items:n}),targetTagID:this.targets.first().id,Location:{uri:x.Z.uri(i,{items:n})}},{server:r,section:s})}},serializeData:function(){return{conversionItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew(),showRemuxOnlyWarning:this.tempModel.server.get("transcoderVideoRemuxOnly")}},onRender:function(){this.policyRegion.show(new _({model:this.tempModel,isSync:!1})),this.targetsRegion.show(new N({model:this.tempModel,targets:this.targets,profiles:this.profiles})),this.locationRegion.show(new T({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();const t=this.ui.submitBtn;if(t.hasClass("active"))return;if(t.addClass("active"),!this.tempModel.get("targetTagID")&&!this.tempModel.get("target")){const e=this.tempModel.get("Device");this.tempModel.set("target",(0,E.Z)("Custom: {1}",e.profile))}const n=this.playlist.addContent(this.tempModel);n.done(this.whenRendered((function(){if(this.model){const e=c().omit(this.tempModel.toJSON(),"children");this.model.set(this.model.parse(e))}this.trigger("request:nextState")}))),n.fail(this.whenRendered((function(e){const t=e.responseText,n=u.Z.parseXML(t),i=null==n?void 0:n.status;this.trigger("request:state","error",i)})))}});var z=n(82973),H=n.n(z);const q=y.Z.ItemView.extend({className:"modal-body loading-container",template:H()});var W=n(91986),$=n(14889),G=n.n($);const K=y.Z.ItemView.extend({className:"modal-body",template:G(),events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),(0,W.Z)("serverSettings",{machineIdentifier:this.options.server.id,settingsSection:"status",settingsGroup:"conversion"})}});var X=n(60704),Q=n.n(X);const J=v.Z.extend({mixins:[s.Z],name:"convertModal",className:"convert-modal modal fade",template:Q(),regions:{bodyRegion:".modal-body-region"},initialize:function(e){v.Z.prototype.initialize.apply(this,arguments),this.server=this.model?this.model.server:e.item.server;const t={server:this.server,allowInCache:!0};this.playlists=new o.Z([],t),this.targets=new f([],t),this.profiles=new g([],t)},initialState:"loading",states:{loading:{nextState:"form",onEnter:function(){this.bodyRegion.show(new q),this.listenForStateRequests();const e=this.options.item,t=e&&!e.get("isMetadataList"),n=r().when(t?e.populate():null,this.playlists.populate(),this.targets.populate(),this.profiles.populate(),this.server.get("sections").populate());n.done(this.whenRendered((function(){this.playlist=this.playlists.first(),this.playlist?this.enterNextState():this.enterState("error")}))),n.fail(this.whenRendered((function(){this.enterState("error")})))}},form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new B({model:this.model,item:this.options.item,items:this.options.items,playlist:this.playlist,targets:this.targets,profiles:this.profiles})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new K({server:this.server})),this.listenForStateRequests())}},error:{onEnter:function(e){this.bodyRegion.show(new S({status:e})),this.listenForStateRequests()}}},listenForStateRequests:function(){var e;(null==(e=this.bodyRegion)?void 0:e.currentView)&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){v.Z.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}})},88936:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);class r extends i.Component{componentDidMount(){const e=this.props.view;this._view=new e(this.props.viewOptions),this._view.render(),this._el.appendChild(this._view.el),this._view.triggerMethod("show")}shouldComponentUpdate(){return!1}componentWillUnmount(){this._view.close&&this._view.close()}render(){return i.createElement("div",{ref:e=>this._el=e,className:this.props.className})}}const s=r},35811:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var i=n(28216),r=n(22222),s=n(39953),o=n(66307),a=n(9306),l=n(24533),c=n(30271),d=n(15856),u=n(95959),h=n(67294),p=n(5977),g=n(68468),m=n(7567),f=n(75130),v=n(43473),y=n(25525),b=n(21235),Z=n(59963),S=n(84020),w=n(44838),P=n(4495),C=n(81821),x=n(98385),A=n(55349),E=n(78388);const I=function(){return h.createElement(P.Z,{description:(0,b.Z)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media."),iconSrc:E,title:(0,b.Z)("No servers found")},h.createElement(S.Z,{kind:x._8,size:A.ln,target:"_self",to:y._N},(0,b.Z)("Get Plex Media Server")),h.createElement(C.Z,null,h.createElement(Z.Z,{className:"Aod5u",message:(0,b.Z)("Not seeing your server? Make sure that a current version is running and claimed by your account. For more troubleshooting tips, see our {openLink}support article{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:w.Z,kind:x._8,to:y.GF,target:"_self",sizes:A.HC}]})))};var k=n(46935),T=n(44738),O=n(87830);function M(e){const{children:t,isWaitingForServers:n,isAnyServerAuthenticated:i,isWaitingForCloudServer:r,isCloudServerUnauthorized:s,isCloudServerConnected:o,isCloudServerUnavailable:a,isCloudServerDownForMaintenance:l,hasAttemptedSignIn:c,hasManageableServers:d,hasServerManagerAccess:u,isUserFeaturesPopulated:y,isUserFeaturesError:b,onPopulateUserFeatures:Z}=e,S=(0,p.k6)(),[w,P]=(0,h.useState)(b||y),C=c||a,x=C&&o,A=y||b||w||a,E=!n&&!i&&!l&&!a&&C||s,M=A&&!u;if((0,h.useEffect)((()=>{if(x){const e=window.setTimeout((()=>P(!0)),5e3);return()=>window.clearTimeout(e)}}),[x]),(0,h.useEffect)((()=>{x&&Z()}),[x,Z]),(0,O.Z)((()=>{S.push(v.Z.login)}),E),(0,h.useEffect)((()=>{M&&window.location.replace((0,g.we)())}),[M]),i&&A&&C&&o&&u)return d?t:h.createElement(I,null);if(!r&&!n&&!i){if(l)return h.createElement(k.Z,null);if(a)return h.createElement(T.Z,null)}return h.createElement(m.Z,null,h.createElement(f.Z,null))}M.defaultProps={isAccountRequired:!1};const R=M,D=(0,r.P1)((e=>e.downloads),(e=>!!e&&!e.isSubscriptionsPopulated&&!e.subscriptionsError)),_=(0,r.P1)((e=>e.downloads),(e=>!!(e&&e.subscriptions&&e.subscriptions.length>0))),V=(0,r.P1)(l.Z,(e=>e.some((e=>e.isCloud&&e.isResolved||!e.isCloud&&e.isConnected)))),L=(0,r.P1)((e=>e.isWaitingForServers),D,V,_,c.Z,o.Z,a.Z,(0,u.Z)(d.dX),((e,t,n,i,r,s,o,a)=>({isWaitingForServers:e||t,isAnyServerAuthenticated:n||i,isWaitingForCloudServer:!s.isResolved&&!s.isRejected,isCloudServerUnauthorized:s.isUnauthorized,isCloudServerConnected:s.isConnected,isCloudServerUnavailable:s.isUnavailable,isCloudServerDownForMaintenance:s.isDownForMaintenance,hasAttemptedSignIn:r.hasAttemptedSignIn,hasManageableServers:!!(o&&o.length>0),hasServerManagerAccess:a,isUserFeaturesPopulated:r.isFeaturesPopulated,isUserFeaturesError:!!r.featuresError}))),j={onPopulateUserFeatures:s.$Q},N=(0,i.$j)(L,j)(R)},12273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(94184),r=n.n(i),s=n(82777),o=n(67294),a=n(33237);const l={circularProgressBarContainer:"fifdd",absoluteCenterCircularProgressBarContainer:"PA8DX",circularProgressBar:"clDAn",circularProgressBarBackground:"gKSWm",circularProgressBarText:"vgbPn",indeterminate:"YIX_3 m_4Rc"},c=function(e){const{className:t=l.circularProgressBar,containerClassName:n=l.circularProgressBarContainer,backgroundClassName:i=l.circularProgressBarBackground,textClassName:c=l.circularProgressBarText,size:d=60,lineWidth:u=5,strokeColor:h=a.Z.primaryColor,trackColor:p,progress:g,progressText:m=`${Math.round(g)}%`,easing:f="easeOut",showProgressText:v=!0,showIndeterminate:y,smoothProgressDuration:b=1e3}=e,Z=b/1e3,S=y?50:g,w=y?null:m,P=d/2,C=P-u,x=Math.PI*(2*C),A=d+"px",E=d-3*u+"px",I=(100-S)/100*x;return o.createElement("div",{className:n,style:{width:A,height:A,lineHeight:A}},o.createElement("svg",{className:r()(t,y&&l.indeterminate),height:d,version:"1.1",width:d,xmlns:"http://www.w3.org/2000/svg"},p?o.createElement("circle",{cx:P,cy:P,fill:"transparent",r:C,style:{strokeWidth:u,stroke:p}}):null,o.createElement(s.ww.circle,{animate:{strokeDashoffset:I},cx:P,cy:P,fill:"transparent",initial:!0,r:C,strokeDasharray:x,strokeDashoffset:I,style:{strokeWidth:u,stroke:h},transition:{duration:Z,ease:f}})),o.createElement("div",{className:i,style:{width:E,height:E}}),v&&w?o.createElement("div",{className:c},w):null)}},66977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294),r=n(21235),s=n(17035),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function h(e){return i.createElement(s.Z,u(u({},e),{loadingLabel:(0,r.Z)("Loading")}))}h.propTypes=s.Z.propTypes,h.defaultProps=s.Z.defaultProps;const p=h},59963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=(n(14710),n(95180)),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e},u=(e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n};const h=function(e){const{className:t,component:n="span",childrenPropName:s="children",tags:o,message:a}=e;let l=[a],c=o.length-1,h=0;for(;c>=0;){const e=o[c],{open:t,close:n,unpaired:s,children:a,component:p,childrenPropName:g}=e,m=u(e,["open","close","unpaired","children","component","childrenPropName"]),f=t?new RegExp("(^.*)"+(0,r.Z)(`{${t}}`)+"(.*)"+(0,r.Z)(`{${n}}`)+"(.*$)"):new RegExp("(^.*)"+(0,r.Z)(`{${s}}`)+"()(.*$)"),v=[];for(let e=l.length-1;e>=0;e--){const t=l[e];if("string"!=typeof t)v.unshift(t);else{const e=t.match(f);if(e){const[,t,n,r]=e;p?v.unshift(t,i.createElement(p,d(d({key:h},m),{[g||"children"]:n})),r):v.unshift(t,a,r),h+=1}else v.unshift(t)}}v.length===l.length?c-=1:l=v}return i.createElement(n,d({className:t},{[s]:l}))}},27477:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94184),r=n.n(i),s=n(67294),o=n(45223),a=n(98385),l=n(55349);const c={disclosureArrow:"LzfC_",default:"Zp7Wt",primary:"hEq49",success:"Uf8bA",danger:"qkqy_",small:"oRMRS",up:"J_usl",right:"V8mDn",medium:"LGKVq",large:"s6uc8",down:"AHqoK J_usl",left:"qt2wI V8mDn",isSelected:"ymHLz"};function d({className:e,kind:t,size:n,direction:i,isSelected:o}){return s.createElement("span",{className:r()(e,c[i],c[t],c[n],o&&c.isSelected)})}d.defaultProps={className:c.disclosureArrow,direction:o.WV,kind:a.TP,size:l.M2,isSelected:!1};const u=d},98602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(67294),r=n(73935),s=n(15016),o=(n(14710),n(62503)),a=n(74646),l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e};class g extends i.Component{constructor(e,t){super(e,t),this.onOpen=()=>{var e,t;this._open(),null==(t=(e=this.props).onOpen)||t.call(e)},this.onClose=()=>{var e,t;this._close(),null==(t=(e=this.props).onClose)||t.call(e)},this._ref=e.forwardedRef||i.createRef(),this._popper=null}shouldComponentUpdate(e,t){return(0,a.Z)(this,e,t)}componentDidUpdate(e){this._popper&&this._popper.update()}componentWillUnmount(){this._close()}_open(){const{target:e,options:t}=this.props,n=document.getElementById(e)||document.getElementsByName(e)[0];this._popper=(0,s.fi)(n,r.findDOMNode(this._ref.current),t),this._popper.update()}_close(){this._popper&&(this._popper.destroy(),this._popper=null)}render(){return i.createElement(o.Z,p(p({},this.props),{ref:this._ref,onClose:this.onClose,onOpen:this.onOpen}))}}g.defaultProps={options:{placement:"bottom-start"}};const m=i.forwardRef(((e,t)=>i.createElement(g,p(p({},e),{forwardedRef:t}))))},62503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=n(73935),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e};class u extends i.Component{constructor(e,t){super(e,t),this.onCloseTimeout=()=>{this._closeTimeoutID=null,this.setState({shouldPreventPortalClose:!1},(()=>{this.props.onClose&&this.props.onClose()}))},this.onInteractionEvent=e=>{this.props.allowInteractionEventBubbling||e.stopPropagation()},this.state={isOpen:e.isOpen,shouldPreventPortalClose:!1}}static getDerivedStateFromProps(e,t){return e.isOpen===t.isOpen?null:{isOpen:e.isOpen,shouldPreventPortalClose:e.closeTimeoutMilliseconds&&!e.isOpen&&t.isOpen}}componentDidMount(){this.props.onOpen&&this.props.isOpen&&this.props.onOpen()}componentDidUpdate(e,t){!this.state.shouldPreventPortalClose&&t.shouldPreventPortalClose&&(this._closeTimeoutID=window.clearTimeout(this._closeTimeoutID)),this.state.shouldPreventPortalClose&&!t.shouldPreventPortalClose&&(this._closeTimeoutID=window.setTimeout(this.onCloseTimeout,this.props.closeTimeoutMilliseconds)),this.props.onOpen&&this.props.isOpen&&!e.isOpen&&this.props.onOpen()}componentWillUnmount(){this._closeTimeoutID&&window.clearTimeout(this._closeTimeoutID)}render(){const{className:e,style:t,children:n,forwardedRef:s}=this.props,{isOpen:o,shouldPreventPortalClose:a}=this.state;return o||a?r.createPortal(i.createElement("div",{ref:s,className:e,style:t,onBlur:this.onInteractionEvent,onClick:this.onInteractionEvent,onFocus:this.onInteractionEvent,onMouseDown:this.onInteractionEvent,onMouseUp:this.onInteractionEvent,onTouchCancel:this.onInteractionEvent,onTouchEnd:this.onInteractionEvent,onTouchMove:this.onInteractionEvent,onTouchStart:this.onInteractionEvent},n),document.body):null}}u.defaultProps={isOpen:!0,closeTimeoutMilliseconds:0,allowInteractionEventBubbling:!1};const h=i.forwardRef(((e,t)=>i.createElement(u,d(d({},e),{forwardedRef:t}))))},20725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(94184),r=n.n(i),s=n(82777),o=n(67294),a=n(53311),l=n(74646);const c={scroller:"aoByP",none:"wyI3C",vertical:"RXkcY",auto:"SYUm8",horizontal:"WuPH1",omni:"SisGX",compactScroller:"EekQO"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e};class f extends o.Component{constructor(e,t){super(e,t),this.onScroll=e=>{if(e.target!==this._scrollerRef.current)return;const t=e.target.scrollTop,n=e.target.scrollLeft,i=t!==this._currentScrollTop,r=n!==this._currentScrollLeft;(i||r)&&this._setScrollPosition({scrollTop:t,scrollLeft:n}),this.props.onScroll&&this.props.onScroll(e)},this.onScrollPositionChange=()=>{this._animationFrameID=null,this.props.onScrollPositionChange({scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})},this.onScrollTimeout=()=>{this.setState({isScrolling:!1})},this.onScrollTopUpdate=e=>{this._updateScrollPosition({scrollTop:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollTop:e})},this.onScrollTopComplete=()=>{this._scrollTopTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.onScrollLeftUpdate=e=>{this._updateScrollPosition({scrollLeft:e}),this.props.onScrollToUpdate&&this.props.onScrollToUpdate({scrollLeft:e})},this.onScrollLeftComplete=()=>{this._scrollLeftTween=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.state={isScrolling:!1},this._scrollerRef=e.forwardedRef||o.createRef(),this._currentScrollTop=0,this._currentScrollLeft=0}componentDidMount(){this._scrollTo(this.props)}UNSAFE_componentWillReceiveProps(e){e.scrollTop===this.props.scrollTop&&e.scrollLeft===this.props.scrollLeft||this.setState({isScrolling:!0})}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}componentDidUpdate(e){this.state.isScrolling&&(this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID),this._scrollTimeoutID=window.setTimeout(this.onScrollTimeout,this.props.isScrollingTimeout)),this._scrollTo(this.props)}componentWillUnmount(){this._clearTimeouts(),this._cancelScrollTo()}_setScrollPosition({scrollTop:e,scrollLeft:t}){this._clearTimeouts(),this._currentScrollTop=e,this._currentScrollLeft=t,this._animationFrameID=window.requestAnimationFrame(this.onScrollPositionChange)}_updateScrollPosition({scrollTop:e,scrollLeft:t}){const n=this._scrollerRef.current;null!=e&&(n.scrollTop=e),null!=t&&(n.scrollLeft=t)}_scrollTo({scrollTop:e,scrollLeft:t}){if(null==e&&null==t)return;const n=null!=e&&e!==this._currentScrollTop,i=null!=t&&t!==this._currentScrollLeft;if(!n&&!i)return;if(!this.props.smoothScroll&&!this.props.restoreScroll)return this._currentScrollTop=e,this._currentScrollLeft=t,void this._updateScrollPosition({scrollTop:e,scrollLeft:t});const r=this.props.smoothScrollDuration/1e3;this._scrollToPosition={};const o=this._scrollerRef.current;if(this._cancelScrollTo(),n){const t=Math.min(e,o.scrollHeight-o.clientHeight);this._scrollToPosition.scrollTop=o.scrollTop,this._scrollTopTween=(0,s.jt)(o.scrollTop,t,{type:"tween",duration:r,onUpdate:this.onScrollTopUpdate,onComplete:this.onScrollTopComplete})}if(i){const e=Math.min(t,o.scrollWidth-o.clientWidth);this._scrollToPosition.scrollLeft=o.scrollLeft,this._scrollLeftTween=(0,s.jt)(o.scrollLeft,e,{type:"tween",duration:r,onUpdate:this.onScrollLeftUpdate,onComplete:this.onScrollLeftComplete})}}_cancelScrollTo(){this._scrollTopTween&&(this._scrollTopTween.stop(),this._scrollTopTween=null),this._scrollLeftTween&&(this._scrollLeftTween.stop(),this._scrollLeftTween=null)}_clearTimeouts(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID)}render(){const e=this.props,{className:t,children:n,scrollDirection:i,autoScroll:s,compactScroller:a,enableChildrenProps:l,onScroll:d,onScrollPositionChange:g,forwardedRef:f,smoothScroll:v,restoreScroll:y,smoothScrollDuration:b,scrollTop:Z,scrollLeft:S,isScrollingTimeout:w,onScrollToUpdate:P,onScrollToComplete:C}=e,x=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&h)for(var i of h(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(e,["className","children","scrollDirection","autoScroll","compactScroller","enableChildrenProps","onScroll","onScrollPositionChange","forwardedRef","smoothScroll","restoreScroll","smoothScrollDuration","scrollTop","scrollLeft","isScrollingTimeout","onScrollToUpdate","onScrollToComplete"]);return o.createElement("div",m({ref:this._scrollerRef,className:r()(t,c.scroller,c[i],s&&c.auto,a&&c.compactScroller),onScroll:g?this.onScroll:d},x),l?function(e,t,n){let i=0;return o.Children.map(e,(e=>{if(o.isValidElement(e)){const n=i;return i++,t.call(undefined,e,n)}return e}))}(n,(e=>o.cloneElement(e,{isScrolling:this.state.isScrolling,scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft}))):n)}}f.defaultProps={scrollDirection:a.yZ,autoScroll:!1,smoothScroll:!0,restoreScroll:!1,smoothScrollDuration:400,enableChildrenProps:!1,isScrollingTimeout:100};const v=o.forwardRef(((e,t)=>o.createElement(f,m(m({},e),{forwardedRef:t}))))},17035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(94184),r=n.n(i),s=n(67294),o=n(55349),a=n(80772);const l={spinner:"dHO6j m_4Rc",spinnerContainer:"iSU8J",spinnerLabel:"iOyIg",small:"HM5yP dHO6j m_4Rc",medium:"rjY6J dHO6j m_4Rc",large:"ckZ9X dHO6j m_4Rc"};function c({className:e,containerClassName:t,labelClassName:n,size:i,color:o,label:a,loadingLabel:c}){const d=r()(e,l[i]),u={borderTopColor:o,borderLeftColor:o};return a?s.createElement("div",{className:r()(t,l.spinnerContainer)},s.createElement("div",{className:d,style:u}),s.createElement("div",{className:r()(n,l.spinnerLabel)},a)):s.createElement("div",{"aria-label":c,className:d,style:u})}c.defaultProps={size:o.M2,color:a.Z.primaryColor};const d=c},84020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(94184),r=n.n(i),s=n(67294),o=n(98385),a=n(55349),l=n(44838);const c={button:"r2dcz x5jRQ",default:"JAqpM",primary:"czPbW",success:"R5b41",danger:"H1CLA",dark:"H4O1a",small:"ehPXv",medium:"okUEB",large:"OMhm8"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const m=function(e){var t=e,{className:n,children:i,kind:d=o.TP,size:m=a.M2}=t,f=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&h)for(var i of h(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(t,["className","children","kind","size"]);return s.createElement(l.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e})({className:r()(n,c.button,d&&c[d],m&&c[m])},f),i)}},37018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(94184),r=n.n(i),s=n(67294),o=n(27477),a=n(44838),l=n(45223),c=n(55349);const d={disclosureArrowButton:"IZ0cW x5jRQ",isSelected:"vj2_K",small:"O8mL2",medium:"Ok1hU",large:"aPeP8",disclosureArrow:"Js4ax LzfC_",down:"hBJ6U",left:"AWCf5",up:"KSfjB",right:"FYWin"};var u=Object.defineProperty,h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class f extends s.Component{render(){const e=this.props,{className:t,arrowClassName:n,children:i,direction:l,kind:u,size:f,isSelected:v}=e,y=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&g.call(e,i)&&(n[i]=e[i]);return n})(e,["className","arrowClassName","children","direction","kind","size","isSelected"]),b=f||c.M2;return s.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))h.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))g.call(t,n)&&m(e,n,t[n]);return e})({"aria-haspopup":!0,className:r()(t,d[b],v&&d.isSelected),isSelected:v,kind:u,size:f},y),i,s.createElement(o.Z,{className:r()(n,d[l],d[b]),direction:l,isSelected:v,kind:u,size:b}))}}f.defaultProps={className:d.disclosureArrowButton,arrowClassName:d.disclosureArrow,direction:l.WV,isSelected:!0};const v=f},44838:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(94184),r=n.n(i),s=n(67294),o=n(53246);n(14710);const a=null;function l(){const e=document.activeElement;return e&&e.dataset&&e.dataset.uid||a}var c=n(97330),d=n(26700),u=n(98385),h=n(74646);const p={link:"x5jRQ",default:"TwynL",primary:"vIlXB",success:"BeT_7",danger:"I5EZg",dark:"IOwXJ",small:"LmZ3l",medium:"MfxKQ",large:"XFBw0",isSelected:"Yp_Xa"};var g=Object.defineProperty,m=Object.prototype.hasOwnProperty,f=Object.getOwnPropertySymbols,v=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(f)for(var n of f(t))v.call(t,n)&&y(e,n,t[n]);return e};let Z=a;o.Z&&window.addEventListener("blur",(()=>{Z=l()}));class S extends s.Component{constructor(e,t){super(e,t),this.onTouchStart=e=>{this._isTouch=!0,this._preventFocus=this._shouldPreventFocus(),1===e.touches.length&&this._activate(!0),this.props.onTouchStart&&this.props.onTouchStart(e)},this.onTouchMove=e=>{this._activate(!1),this.props.onTouchMove&&this.props.onTouchMove(e)},this.onTouchEnd=e=>{const{to:t,target:n,isDisabled:i,onTouchEnd:r}=this.props;this._isActive&&!i&&(!t||n&&"_self"!==n||(e.preventDefault(),window.location.href=t),this._press(e)),this._activate(!1),r&&r(e)},this.onTouchCancel=e=>{this._isTouch=!1,this._activate(!1),this.props.onTouchCancel&&this.props.onTouchCancel(e)},this.onMouseDown=e=>{this._isTouch||(this._preventFocus=this._shouldPreventFocus(),0===e.button&&this._activate(!0),this.props.onMouseDown&&this.props.onMouseDown(e))},this.onMouseUp=e=>{if(this._isTouch)return;const{isDisabled:t,onMouseUp:n}=this.props;this._isActive&&!t&&(this._press(e),this._preventOnClick=!0),this._activate(!1),n&&n(e)},this.onMouseLeave=e=>{this._isTouch||(this._isActive&&this.setState({isActive:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},this.onClick=e=>{this._preventFocus=!1;const{isDisabled:t}=this.props;this._preventOnClick||this._isTouch||this._isActive||!this._isFocused||t||this._press(e),this._preventOnClick=!1,this._isTouch=!1},this.onFocus=e=>{this._preventFocus?this._preventFocus=!1:this._uid!==Z?(this._focus(!0),this.props.onFocus&&this.props.onFocus(e)):Z=a},this.onBlur=e=>{this._focus(!1),this.props.onBlur&&this.props.onBlur(e)},this._preventFocus=!1,this._preventOnClick=!1,this._isTouch=!1,this._isActive=!1,this._isFocused=!1,this._uid=(0,c.Z)(),this.state={isActive:!1,isFocused:!1},this._ref=s.createRef()}componentDidMount(){!this.props.isDisabled&&this.props.focusOnEnabled&&this._ref.current.focus()}shouldComponentUpdate(e,t){return(0,h.Z)(this,e,t)}componentDidUpdate(e){const t=this.props.focusOnEnabled&&!this.props.isDisabled,n=e.focusOnEnabled&&!e.isDisabled;t&&!n&&this._ref.current.focus()}_activate(e){this._isActive=e,this.setState({isActive:e})}_focus(e){this._isFocused=e,this.setState({isFocused:e})}_shouldPreventFocus(){return!this.props.allowFocusOnPress&&!(l()===this._uid)}_press(e){const{onPress:t}=this.props;t&&t(e)}render(){const e=this.props,{className:t,to:n,kind:i,size:o,isSelected:a,isDisabled:l,component:c,allowFocusOnPress:u,role:h,focusOnEnabled:g,onPress:y}=e,Z=((e,t)=>{var n={};for(var i in e)m.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&f)for(var i of f(e))t.indexOf(i)<0&&v.call(e,i)&&(n[i]=e[i]);return n})(e,["className","to","kind","size","isSelected","isDisabled","component","allowFocusOnPress","role","focusOnEnabled","onPress"]),{isActive:S,isFocused:w}=this.state,P={"data-uid":this._uid};let C=c;return n&&(C="a",P.href=n),P.role=h||(n?"link":"button"),P.className=r()(t,p.link,p[i],o&&p[o],a&&p.isSelected,S&&d.lW,w&&d.GZ,l&&d.Pv),"button"!==C&&"input"!==C||(P.type=Z.type||"button",P.disabled=l),C?s.createElement(C,b(b(b({},Z),P),{ref:this._ref,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur})):null}}S.defaultProps={component:"button",kind:u.TP,isSelected:!1,isDisabled:!1,allowFocusOnPress:!1};const w=S},55710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(94184),r=n.n(i),s=n(67294),o=n(21235),a=n(17035),l=n(55349),c=n(80772),d=n(84020);var u=Object.defineProperty,h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const f=function(e){var t=e,{children:n,className:i,loadingLabel:u=(0,o.Z)("Loading"),spinnerSize:f=l.HC,spinnerColor:v=c.Z.defaultColor,isDisabled:y=!1,isSpinning:b=!1}=t,Z=((e,t)=>{var n={};for(var i in e)h.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&p)for(var i of p(e))t.indexOf(i)<0&&g.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className","loadingLabel","spinnerSize","spinnerColor","isDisabled","isSpinning"]);return s.createElement(d.Z,((e,t)=>{for(var n in t||(t={}))h.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))g.call(t,n)&&m(e,n,t[n]);return e})({className:r()(i,"mfBoX r2dcz x5jRQ",b&&"t6Ayq"),isDisabled:y||b},Z),s.createElement("span",{className:"X__bn"},s.createElement(a.Z,{className:"RfHtl dHO6j m_4Rc",color:v,loadingLabel:u,size:f})),s.createElement("span",{className:"JNAY4"},n))}},26056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(67294);function r(e,t){return`${e}&size=${t}`}var s=n(43016),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e};function h(e){const t=e,{className:n,url:o,width:d}=t,h=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(t,["className","url","width"]);return i.createElement("div",{className:n},i.createElement(s.Z,u(u({},h),{url:o&&r(o,d),width:d})))}h.defaultProps={className:"hdLnl"};const p=h},48210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&l(e,n,t[n]);return e};function d(e){const{className:t,style:n,src:r,width:s,height:o,backgroundSize:a,backgroundPosition:l,backgroundRepeat:d}=e;return i.createElement("div",{className:t,style:c({width:s,height:o,backgroundImage:`url(${r})`,backgroundSize:a,backgroundPosition:l,backgroundRepeat:d},n)})}d.defaultProps={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};const u=d},43016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>X});var i=n(28216),r=n(22222),s=n(80731),o=n(13469),a=n.n(o),l=n(72059),c=n(59634),d=n(53621),u=n(35785),h=n(14398),p=n(71065);const g={},m={};function f(e,t){const{serverEntityID:n,providerEntityID:i}=t,s=`${n}:${i}`;return m[s]||(m[s]=(0,l.Z)((0,r.P1)((0,d.Z)(),(0,c.Z)(),((e,t)=>{const n=e&&e.activeConnection&&e.activeConnection.uri;if(!n)return g;let i,r="/photo/:/transcode",s=!1,o=!1;if(t){const e=a().findWhere(t.features,{type:u.Z.IMAGE_TRANSCODER});e&&(r=e.key,s=(0,h.Z)(r),o=e.public)}return i=s?t&&t.baseURL?t.baseURL:n:"",{accessToken:e.accessToken,baseUrl:i,isAbsoluteTranscodeKey:s,isPublicTranscoder:o,transcodeKey:r,uri:n}})),(e=>e))),m[s](e,t)}var v=n(40738),y=n(57788),b=n(19755),Z=n.n(b),S=n(67294),w=n(78542),P=n(6312),C=n(6539),x=(n(14710),n(7966)),A=n(48210),E=Object.defineProperty,I=Object.prototype.hasOwnProperty,k=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&O(e,n,t[n]);if(k)for(var n of k(t))T.call(t,n)&&O(e,n,t[n]);return e};function R(e){e&&(e.onload=e.onabort=e.onerror=void 0)}function D(e){const t=e,{src:n,emptySrc:i,component:r,preloadOnMount:s,onLoad:o,onError:a}=t,l=((e,t)=>{var n={};for(var i in e)I.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&k)for(var i of k(e))t.indexOf(i)<0&&T.call(e,i)&&(n[i]=e[i]);return n})(t,["src","emptySrc","component","preloadOnMount","onLoad","onError"]),[c,d]=(0,S.useState)(s?null:n),[u,h]=(0,S.useState)(null),p=(0,S.useRef)(s);return(0,S.useEffect)((()=>{if(!p.current)return void(p.current=!0);if(!n)return;let e=new window.Image;return e.onload=()=>{e=R(e),d(n),h(null)},e.onabort=e.onerror=()=>{e=R(e),d(null),h(new Error(`Unable to load ${n}`))},e.src=n,()=>{e=R(e)}}),[n]),(0,S.useEffect)((()=>{!n&&c&&d(null)}),[c,n]),(0,S.useEffect)((()=>{c&&o&&o(c)}),[c,o]),(0,S.useEffect)((()=>{u&&a&&a(u)}),[u,a]),S.createElement(r,M(M({},l),{src:c||i}))}D.defaultProps={emptySrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",component:A.Z,preloadOnMount:!0};const _=D;var V=Object.defineProperty,L=Object.prototype.hasOwnProperty,j=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&U(e,n,t[n]);if(j)for(var n of j(t))N.call(t,n)&&U(e,n,t[n]);return e};const B=new w.Z,z={},H={},q=[C.EU,C.yy,C.it,C.bS,C.Rr,C.Ko,C.ES,C.oP].sort(((e,t)=>W(e)-W(t)));function W(e){if(H.hasOwnProperty(e))return H[e];const t=e.split("-")[1];return H[e]=t,t}function $(e){const t=e,{url:n,minSize:i,format:r,quality:s,upscale:o,filters:a,allowPixelRatioSize:l,allowImageBlobs:c,supportsSize:d,onError:u}=t,h=((e,t)=>{var n={};for(var i in e)L.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&j)for(var i of j(e))t.indexOf(i)<0&&N.call(e,i)&&(n[i]=e[i]);return n})(t,["url","minSize","format","quality","upscale","filters","allowPixelRatioSize","allowImageBlobs","supportsSize","onError"]),g=function(e,t){if(!e)return;const n=Object.assign(function(e){const t=e.allowPixelRatioSize?(0,P.Z)():1,n=e.size||function(e){if(z.hasOwnProperty(e))return z[e];const t=q.find((t=>W(t)>=e))||q[q.length-1];return z[e]=t,t}(e.width);if(e.supportsSize)return{size:n,scale:Math.ceil(t)};{const i=W(n),r=e.height/e.width;return{width:Math.ceil(i*t),height:Math.ceil(r*i*t),minSize:e.minSize?1:void 0,upscale:e.upscale?1:void 0}}}(t),t.filters);t.format&&(n.format=t.format),t.quality&&(n.quality=t.quality);const i=e.indexOf("?");let r=e;return i>-1?(r=p.Z.join(e.substring(0,i),n),r+=-1===r.indexOf("?")?"?":"&",r+=e.substring(i+1)):r=p.Z.join(r,n),r}(n,e);let m,f;g&&c&&(m=B.getBlobUrl(g),m||(f=B.getPlaceholder(g)));const[v,y]=(0,S.useState)(m||f||(c?null:g)),b=(0,S.useRef)(!1);return(0,S.useEffect)((()=>{if(b.current&&(b.current=!1,null==v))return void(u&&u());let e;return m?v!==m&&y(m):g&&c?(e=function(e){const t=Z().Deferred(),n={cancelable:(0,x.Z)(t.promise()),xhr:null},i=new window.XMLHttpRequest;return i.open("GET",e,!0),i.responseType="arraybuffer",n.xhr=i,i.onreadystatechange=()=>{if(4===i.readyState)if(i.onreadystatechange=null,200===i.status){const n=new window.Blob([i.response],{type:"image/jpeg"}),r=window.URL.createObjectURL(n);B.store({url:e,blobUrl:r}),t.resolve(r)}else t.reject()},i.send(),n}(g),e.cancelable.promise.then((t=>{e=null,y(t)}),(({isCanceled:t}={})=>{t||(e=null,null===v?u&&u():(b.current=!0,y(null)))}))):y(g&&!c?g:null),()=>{e&&(e.cancelable.cancel(),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort()))}}),[v,g,m,c,u]),S.createElement(_,F(F({},h),{src:v,onError:u}))}$.defaultProps={minSize:!0,upscale:!0,allowPixelRatioSize:!0,allowImageBlobs:!0};const G=(0,S.memo)($),K=s.Z.allowSyncDownload?{urlParams:{"X-Plex-Account-ID":1}}:null,X=(0,i.$j)((function(){return(0,r.P1)(y.Z,v.Z,function(e){const t=e&&e.urlParams;return(0,r.P1)(((e,{url:t})=>t),f,((e,n)=>{if(!e||n===g)return;const{accessToken:i,baseUrl:r,isAbsoluteTranscodeKey:s,isPublicTranscoder:o,transcodeKey:a,uri:l}=n;let c;if((0,h.Z)(e))c=e;else{const n={"X-Plex-Token":i};t&&Object.assign(n,t),c=p.Z.join([r,e],n)}const d=s?a:[l,a];return p.Z.join(d,{url:c,"X-Plex-Token":o?void 0:i})}))}(K),((e,t,n)=>({url:n,supportsSize:!!(e&&e.isCloud&&t)})))}))(G)},32516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var i=n(94184),r=n.n(i),s=n(82777),o=n(67294),a=n(1475),l=n(98602),c=n(20725),d=n(11722),u=n(19176),h=n(97330),p=n(53311),g=n(55349),m=n(74646),f=n(6963),v=n(20721),y=n(25710);const b={menuPortal:"QVH3_",menuScroller:"iYDY8 RXkcY",menu:"CgKY7",isDisabled:"UhC8e",small:"_MjW_",medium:"TAtgQ",large:"lYXUn"};var Z=Object.defineProperty,S=Object.prototype.hasOwnProperty,w=Object.getOwnPropertySymbols,P=Object.prototype.propertyIsEnumerable,C=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))S.call(t,n)&&C(e,n,t[n]);if(w)for(var n of w(t))P.call(t,n)&&C(e,n,t[n]);return e};const A=(0,d.Z)(f.Z.menuSpeed),E=1e3*A,I=parseInt(v.Z.menuPadding,10),k={ease:"easeOut",duration:A},T={ease:y.Z.motionEasing,duration:A},O={opacity:k,y:T,scale:T},M={preEnter:{opacity:0,y:-10,scale:.95,transition:O},enter:{opacity:1,y:0,scale:1,transition:O},exit:{opacity:0,y:10,scale:.95,transition:O}},R=[{name:"preventOverflow",enabled:!0,options:{altAxis:!0}}];function D(e){return Math.min(window.innerHeight-2*I,e.maxHeight)}class _ extends o.Component{constructor(e,t){super(e,t),this.onResize=e=>{this.setState({maxHeight:D(this.props)})},this.onWindowDownPress=e=>{this._isElementContainedOrTarget(e.target)||(this._willMenuClose=!0)},this.onWindowUpPress=e=>{this._willMenuClose&&!this._isElementContainedOrTarget(e.target)&&this.props.onMenuClose(),this._willMenuClose=!1},this.onKeyDown=e=>{const t=e.keyCode;t===a.Mf?u.QE(e):t===a.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onMenuClose(),u.sM())},this.state={maxHeight:D(e)},this._willMenuClose=!1,this._menuID=(0,h.Z)()}componentDidMount(){this.props.isOpen&&this._enable(),window.addEventListener("resize",this.onResize)}shouldComponentUpdate(e,t){return(0,m.Z)(this,e,t)}componentDidUpdate(e,t){const n=e.isOpen&&!e.isAutoCloseDisabled,i=this.props.isOpen&&!this.props.isAutoCloseDisabled;!n&&i?this._enable():n&&!i&&this._disable()}componentWillUnmount(){this.props.isOpen&&!this.props.isAutoCloseDisabled&&this._disable(),window.removeEventListener("resize",this.onResize)}_enable(){u.LJ(document.getElementById(this._menuID)),document.addEventListener("mousedown",this.onWindowDownPress),document.addEventListener("touchstart",this.onWindowDownPress),document.addEventListener("mouseup",this.onWindowUpPress),document.addEventListener("touchend",this.onWindowUpPress),document.addEventListener("keydown",this.onKeyDown)}_disable(){document.removeEventListener("mousedown",this.onWindowDownPress),document.removeEventListener("touchstart",this.onWindowDownPress),document.removeEventListener("mouseup",this.onWindowUpPress),document.removeEventListener("touchend",this.onWindowUpPress),document.removeEventListener("keydown",this.onKeyDown)}_isElementContainedOrTarget(e){const{target:t}=this.props,n=document.getElementById(this._menuID),i=n&&n.contains(e),r=!i&&document.getElementById(t),s=r&&r.contains(e);return i||s}render(){var e;const{children:t,className:n,portalClassName:i,target:a,options:d,isOpen:u,isDisabled:h,scrollerProps:p,size:g,onMouseEnter:m,onMouseLeave:f,onMenuCloseComplete:v}=this.props,{maxHeight:y}=this.state;return o.createElement(l.Z,{className:i,closeTimeoutMilliseconds:E,isOpen:u,options:x(x({placement:"bottom-start"},d),{modifiers:[...R,...null!=(e=null==d?void 0:d.modifiers)?e:[]]}),target:a,onClose:v},o.createElement(s.M_,null,u?o.createElement(s.ww.div,{key:"container",animate:"enter",className:r()(n,b[g],h&&b.isDisabled),exit:"exit",id:this._menuID,initial:"preEnter",variants:M,onMouseEnter:m,onMouseLeave:f},o.createElement(c.Z,x(x({},p),{style:{maxHeight:y}}),t)):null))}}_.defaultProps={className:b.menu,portalClassName:b.menuPortal,size:g.M2,maxHeight:600,isDisabled:!1,scrollerProps:{className:b.menuScroller,scrollDirection:p.yZ,autoScroll:!0}};const V=_},24296:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(94184),r=n.n(i),s=n(67294),o=n(44838),a=n(98385);const l={menuItem:"Q4FVu",isDisabled:"ZNVWR",isHidden:"CrWPD",default:"aBSil",primary:"RQGUr",success:"f7AUO",danger:"l2YZ6"};var c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){const t=e,{className:n,children:i,kind:a,isDisabled:c,isHidden:g}=t,m=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n})(t,["className","children","kind","isDisabled","isHidden"]);return s.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(u)for(var n of u(t))h.call(t,n)&&p(e,n,t[n]);return e})({className:r()(n,l.menuItem,l[a],c&&l.isDisabled,g&&l.isHidden),"data-testid":"dropdownItem",role:"menuitem"},m),i)}g.defaultProps={kind:a.TP,isDisabled:!1};const m=g},77574:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);const r=function(){return i.createElement("div",{className:"ujh6D"})}},48631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(45697),r=n.n(i),s=n(67294),o=n(28941),a=n(43559),l=n(74646),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(u)for(var n of u(t))h.call(t,n)&&p(e,n,t[n]);return e};class m extends s.Component{constructor(){super(...arguments),this.onPress=e=>{const t=this.props,{children:n}=t,i=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]),{metricsPage:r}=this.context;(0,o.DB)("metrics").trackClick(g(g({},i),{page:r}))}}shouldComponentUpdate(e,t){return(0,l.Z)(this,e,t)}render(){const e=s.Children.only(this.props.children);return s.cloneElement(e,{onPress:(0,a.Z)(this.onPress,e.props.onPress)})}}m.propTypes={children:r().element.isRequired,action:r().string.isRequired},m.contextTypes={metricsPage:r().string.isRequired};const f=m},61094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(45697),r=n.n(i),s=n(67294),o=n(28941),a=(n(14710),n(98956)),l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n};class h extends s.Component{constructor(e,t){super(e,t),this.page=e.page}getChildContext(){return{metricsPage:this.page}}componentDidMount(){const e=this.props,{children:t,isDelegated:n}=e,i=u(e,["children","isDelegated"]);n||window.requestAnimationFrame((()=>{(0,o.DB)("metrics").trackView(i)}))}UNSAFE_componentWillReceiveProps(e){}componentDidUpdate(e){const t=e,{children:n,isDelegated:i}=t,r=u(t,["children","isDelegated"]),s=this.props,{children:l,isDelegated:c}=s,d=u(s,["children","isDelegated"]),h=i!==c||!(0,a.Z)(r,d);!c&&h&&(0,o.DB)("metrics").trackView(d)}render(){return this.props.children?s.Children.only(this.props.children):null}}h.childContextTypes={metricsPage:r().string.isRequired};const p=h},23889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var i=n(82777),r=n(67294),s=n(73935),o=n(1475),a=n(62503),l=n(61094),c=n(11722),d=n(19176),u=n(55349),h=n(74646),p=n(6963),g=n(25710);const m={modalContainer:"ZpXJa",modalBackdrop:"Tw82H",modal:"fm6U4",small:"qB4xz fm6U4",medium:"fNGCP fm6U4",large:"S1gPT fm6U4"};var f=Object.defineProperty,v=Object.prototype.hasOwnProperty,y=Object.getOwnPropertySymbols,b=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&Z(e,n,t[n]);if(y)for(var n of y(t))b.call(t,n)&&Z(e,n,t[n]);return e};const w=(0,c.Z)(p.Z.modalSpeed),P=1e3*w,C={ease:"easeOut",duration:w},x={ease:g.Z.motionEasing,duration:w},A={opacity:C},E={enter:{opacity:1,transition:A},exit:{opacity:0,transition:A}},I={scale:x,opacity:C},k={enter:{opacity:1,scale:1,transition:I},exit:{opacity:0,scale:.95,transition:I}};class T extends r.Component{constructor(){super(...arguments),this.onBackdropBeginPress=e=>{this._isBackdropPressed=this._isBackdropTarget(e)},this.onBackdropEndPress=e=>{!this.props.preventCloseOnBackdropPress&&this._isBackdropPressed&&this._isBackdropTarget(e)&&this.props.onModalClose(),this._isBackdropPressed=!1},this.onTouchMove=e=>{this._isBackdropPressed=!1},this.onTouchCancel=e=>{this._isBackdropPressed=!1},this.onKeyDown=e=>{const t=e.keyCode;t===o.Mf?d.QE(e):t===o.hY&&(e.preventDefault(),e.stopPropagation(),this.props.onModalClose(),d.sM())}}componentDidMount(){this.props.isOpen&&this._openModal()}shouldComponentUpdate(e,t){return(0,h.Z)(this,e,t)}componentDidUpdate(e){!e.isOpen&&this.props.isOpen?this._openModal():e.isOpen&&!this.props.isOpen&&this._closeModal()}componentWillUnmount(){this.props.isOpen&&this._closeModal()}_openModal(){d.LJ(s.findDOMNode(this.refs.modal)),this._autoFocusTimeoutID=window.setTimeout(d.pc,P),document.addEventListener("keydown",this.onKeyDown)}_closeModal(){window.clearTimeout(this._autoFocusTimeoutID),document.removeEventListener("keydown",this.onKeyDown)}_isBackdropTarget(e){const t=this._findEventTarget(e);if(t){const e=s.findDOMNode(this.refs.modal);return!e||!e.contains(t)}return!1}_findEventTarget(e){const t=e.changedTouches;if(!t)return e.target;if(1===t.length){const e=t[0];return document.elementFromPoint(e.clientX,e.clientY)}}render(){const{className:e,backdropClassName:t,containerClassName:n,children:s,size:o,isOpen:c,metricsPage:d,metricsProperties:u}=this.props;return r.createElement(a.Z,{className:n,closeTimeoutMilliseconds:P,isOpen:c},r.createElement(i.M_,null,c?r.createElement(i.ww.div,{key:"backdrop",animate:"enter",className:t,exit:"exit",initial:"exit",variants:E,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress,onTouchCancel:this.onTouchCancel,onTouchEnd:this.onBackdropEndPress,onTouchMove:this.onTouchMove,onTouchStart:this.onBackdropBeginPress},r.createElement(i.ww.div,{key:"modal",ref:"modal",animate:"enter",className:e||m[o],exit:"exit",initial:"exit",variants:k},r.createElement(l.Z,S(S({},u),{page:d}),s))):null))}}T.defaultProps={backdropClassName:m.modalBackdrop,containerClassName:m.modalContainer,size:u.M2,preventCloseOnBackdropPress:!1};const O=T},11066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=n(20725),s=n(53311);var o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function u(e){var t=e,{children:n,className:o,innerClassName:u,scrollDirection:h}=t,p=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className","innerClassName","scrollDirection"]);const g=h!==s.Hn;return o||(o=g?"KmjAG Oeojk":"Oeojk"),i.createElement(r.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({autoScroll:!0,className:o,scrollDirection:h},p),g?i.createElement("div",{className:u},n):n)}u.defaultProps={innerClassName:"Itgwf"};const h=u},77553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=n(44838),s=n(3694);const o={modalContent:"W5jPb",closeButton:"XWrxW x5jRQ"};var a=Object.defineProperty,l=Object.prototype.hasOwnProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const h=function(e){const t=e,{className:n=o.modalContent,children:a,iconComponent:h=s.Z,onModalClose:p}=t,g=((e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&c)for(var i of c(e))t.indexOf(i)<0&&d.call(e,i)&&(n[i]=e[i]);return n})(t,["className","children","iconComponent","onModalClose"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:n},g),i.createElement(r.Z,{className:o.closeButton,onPress:p},h?i.createElement(h,null):null),a)}},43655:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=n(74576),s=Object.defineProperty,o=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function d(e){var t=e,{className:n,children:r}=t,s=((e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n})(t,["className","children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e})({className:n},s),r)}d.defaultProps={className:r.Z.modalFooter};const u=d},40894:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(67294),r=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,r=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&l(e,n,t[n]);return e})({},r),n)}c.defaultProps={className:"dZE3G"};const d=c},38737:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294);var r=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const c=function(e){var t=e,{children:n}=t,r=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&l(e,n,t[n]);return e})({className:"GB5xN"},r),n)}},98612:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294);function r(e){const{className:t,children:n}=e;return i.createElement("div",{className:t},n)}r.defaultProps={className:"B6YGR"};const s=r},98458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var i=n(67294),r=n(61775),s=n(82777),o=n(98602),a=n(11722),l=n(20764),c=n(6963),d=n(25710);const u={tooltipPortal:"lfpK9",tooltip:"GtJsp",tooltipArrow:"If9gp",tooltipBottomArrow:"VJGxZ",tooltipTopArrow:"cb5I0",tooltipRightArrow:"fmYHh",tooltipLeftArrow:"egNyl",tooltipCenterAlignArrow:"rII2m",tooltipLeftAlignArrow:"FDsdp",tooltipRightAlignArrow:"c63xo",tooltipMiddleAlignArrow:"rjhVo",topLeft:"MxuDU GtJsp If9gp VJGxZ FDsdp",topCenter:"KdgV3 GtJsp If9gp VJGxZ rII2m",topRight:"aRfI0 GtJsp If9gp VJGxZ c63xo",bottomLeft:"iH9ts GtJsp If9gp cb5I0 FDsdp",bottomCenter:"a1e4c GtJsp If9gp cb5I0 rII2m",bottomRight:"BCoc8 GtJsp If9gp cb5I0 c63xo",middleLeft:"_eS22 GtJsp If9gp fmYHh rjhVo",middleRight:"w6QSF GtJsp If9gp egNyl rjhVo"};var h=Object.defineProperty,p=Object.prototype.hasOwnProperty,g=Object.getOwnPropertySymbols,m=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const v=(0,a.Z)(c.Z.tooltipSpeed),y=1e3*v,b={opacity:{ease:"easeOut",duration:v},y:{ease:d.Z.motionEasing,duration:v},x:{ease:d.Z.motionEasing,duration:v},scale:{ease:d.Z.motionEasing,duration:v}};function Z(e){switch(e){case l.IM:case l.jO:case l.ee:return 5;case l.aV:case l.eO:case l.OI:return-5;case l.Gf:case l.ab:default:return 0}}function S(e){switch(e){case l.IM:case l.jO:case l.ee:return 0;case l.aV:case l.eO:case l.OI:return 0;case l.Gf:return 5;case l.ab:return-5;default:return 0}}function w(e){switch(e){case l.IM:case l.jO:case l.ee:return-5;case l.aV:case l.eO:case l.OI:return 5;case l.Gf:case l.ab:default:return 0}}function P(e){switch(e){case l.IM:case l.jO:case l.ee:return 0;case l.aV:case l.eO:case l.OI:return 0;case l.Gf:return-5;case l.ab:return 5;default:return 0}}const C={before:e=>({opacity:0,y:Z(e),x:S(e),scale:.95,transition:b}),enter:{opacity:1,y:0,x:.001,scale:1,transition:b},exit:e=>({opacity:0,y:w(e),x:P(e),scale:.95,transition:b})},x={[l.IM]:{placement:"top-start"},[l.jO]:{placement:"top"},[l.ee]:{placement:"top-end"},[l.aV]:{placement:"bottom-start"},[l.eO]:{placement:"bottom"},[l.OI]:{placement:"bottom-end"},[l.Gf]:{placement:"left"},[l.ab]:{placement:"right"}};function A(e){const t=e,{children:n,className:r,target:a,attachment:l,options:c,isOpen:d,onMenuClose:h}=t,v=((e,t)=>{var n={};for(var i in e)p.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&g)for(var i of g(e))t.indexOf(i)<0&&m.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className","target","attachment","options","isOpen","onMenuClose"]);return i.createElement(o.Z,{className:u.tooltipPortal,closeTimeoutMilliseconds:y,isOpen:d,options:c||x[l],target:a},i.createElement(s.M_,null,d?i.createElement(s.ww.div,((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&f(e,n,t[n]);if(g)for(var n of g(t))m.call(t,n)&&f(e,n,t[n]);return e})({key:"container",animate:"enter",className:r||u[l],custom:l,exit:"exit",initial:"before",variants:C},v),n):null))}A.defaultProps={attachment:l.eO};const E=A;var I=Object.defineProperty,k=Object.prototype.hasOwnProperty,T=Object.getOwnPropertySymbols,O=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const R=function(e){const t=e,{children:n}=t,r=((e,t)=>{var n={};for(var i in e)k.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&T)for(var i of T(e))t.indexOf(i)<0&&O.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]);return i.createElement("div",((e,t)=>{for(var n in t||(t={}))k.call(t,n)&&M(e,n,t[n]);if(T)for(var n of T(t))O.call(t,n)&&M(e,n,t[n]);return e})({},r),n)};var D=Object.defineProperty,_=Object.prototype.hasOwnProperty,V=Object.getOwnPropertySymbols,L=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))_.call(t,n)&&j(e,n,t[n]);if(V)for(var n of V(t))L.call(t,n)&&j(e,n,t[n]);return e};function U(e){const t=e,{component:n=R,hideOnDisabled:s=!0,hideOnPress:o=!0,showOnFocus:a=!0,showOnHover:l=!0,tooltip:c,tooltipAttachment:d,tooltipClassName:u,tooltipFocusedClassName:h,tooltipOptions:p}=t,g=((e,t)=>{var n={};for(var i in e)_.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&V)for(var i of V(e))t.indexOf(i)<0&&L.call(e,i)&&(n[i]=e[i]);return n})(t,["component","hideOnDisabled","hideOnPress","showOnFocus","showOnHover","tooltip","tooltipAttachment","tooltipClassName","tooltipFocusedClassName","tooltipOptions"]),[m,f]=(0,i.useState)(!1),v=(0,i.useRef)(!1),y=(0,i.useRef)(!1),b=(0,r.Z)(),Z=e.tooltipTarget||e.id||b,S=(0,i.useCallback)(((...t)=>{var n;l&&(y.current=!0,f(!0)),null==(n=e.onMouseEnter)||n.call(e,...t)}),[e,l]),w=(0,i.useCallback)(((...t)=>{var n;l&&(y.current=!1,f(v.current)),null==(n=e.onMouseLeave)||n.call(e,...t)}),[e,l]),P=(0,i.useCallback)(((...t)=>{var n;a&&(v.current=!0,f(!0)),null==(n=e.onFocus)||n.call(e,...t)}),[e,a]),C=(0,i.useCallback)(((...t)=>{var n;e.showOnFocus&&(v.current=!1,f(y.current)),null==(n=e.onBlur)||n.call(e,...t)}),[e]),x=(0,i.useCallback)(((...t)=>{var n;o&&(v.current=!1,y.current=!1,f(!1)),null==(n=e.onPress)||n.call(e,...t)}),[o,e]),A=v.current&&h?h:u;return(0,i.useEffect)((()=>{m&&s&&e.isDisabled&&(v.current=!1,y.current=!1,f(!1))}),[s,m,e.isDisabled]),i.createElement(i.Fragment,null,i.createElement(n,N(N({id:Z},g),{onBlur:C,onFocus:P,onMouseEnter:S,onMouseLeave:w,onPress:x})),c?i.createElement(E,{attachment:d,className:A,isOpen:m,options:p,target:Z},c):null)}},85795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var i=n(67294),r=n(86076),s=n(31517),o=n(61094),a=n(4426);var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e};const g=function(e){const t=e,{children:n,metricsPage:r,metricsProperties:s,isMetricsDelegated:l}=t,h=((e,t)=>{var n={};for(var i in e)c.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&d)for(var i of d(e))t.indexOf(i)<0&&u.call(e,i)&&(n[i]=e[i]);return n})(t,["children","metricsPage","metricsProperties","isMetricsDelegated"]);return i.createElement(o.Z,p(p({},s),{isDelegated:l,page:r}),i.createElement(a.Z,p({className:"ma9n0"},h),n))};var m=Object.defineProperty,f=Object.prototype.hasOwnProperty,v=Object.getOwnPropertySymbols,y=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Z extends i.Component{constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e){r.Z.error(e),this.setState({hasError:!0})}render(){const{hasError:e}=this.state;return e?i.createElement(s.Z,null):i.createElement(g,((e,t)=>{for(var n in t||(t={}))f.call(t,n)&&b(e,n,t[n]);if(v)for(var n of v(t))y.call(t,n)&&b(e,n,t[n]);return e})({},this.props))}}const S=Z},4426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(67294),r=n(20725),s=n(66510),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class u extends i.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.state.isScrolling||(this._currentScrollTop=e)},this.state={isScrolling:!1},this._positionKey=s.Z.getKey(e.scrollPositionKey),this._currentScrollTop=0,this._restoreScrollDelay=e.smoothScroll?e.smoothScrollDuration:e.restoreScrollDelay,this._restoreScroll=!1,this._restoreScrollTimeoutID=null}componentDidMount(){this._restoreScrollPosition()}componentDidUpdate(e){const{scrollPositionKey:t}=this.props;e.scrollPositionKey!==t&&(this._positionKey=s.Z.getKey(t))}componentWillUnmount(){this._storeScrollPosition(),this._restoreScrollTimeoutID&&window.clearTimeout(this._restoreScrollTimeoutID)}_restoreScrollPosition(){const e=s.Z.get(this._positionKey);e&&(this.setState({isScrolling:!0}),this._currentScrollTop=e.scrollTop,this._restoreScroll=!0,this._restoreScrollTimeoutID=window.setTimeout((()=>{this.setState({isScrolling:!1}),this._restoreScroll=!1}),this._restoreScrollDelay))}_storeScrollPosition(){s.Z.set(this._positionKey,{scrollTop:this._currentScrollTop})}render(){const e=this.props,{children:t,className:n,restoreScrollDelay:s,scrollPositionKey:o}=e,u=((e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(e,["children","className","restoreScrollDelay","scrollPositionKey"]);return i.createElement(r.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({className:n,restoreScroll:this._restoreScroll,scrollTop:this._currentScrollTop,onScrollPositionChange:this.onScrollPositionChange},u),t)}}u.defaultProps={restoreScrollDelay:100,scrollPositionKey:"scrollPosition",smoothScroll:!0,smoothScrollDuration:400};const h=u},69299:(e,t,n)=>{"use strict";n.d(t,{Z:()=>J});var i=n(45697),r=n.n(i),s=n(28216),o=n(22222),a=n(46611),l=n(53621),c=n(33024);const d=(0,o.P1)(c.Z,(e=>e.dismissedUnclaimedServers));var u=n(49521),h=n(67294),p=n(66977),g=n(20165),m=n(63542);class f extends h.Component{componentDidMount(){this._populate(this.props)}componentDidUpdate(e){const{machineIdentifier:t}=this.props;t&&t!==e.machineIdentifier&&this._populate(this.props)}_populate(e){const{machineIdentifier:t,dispatchSetPrimaryServer:n}=e;t&&(0,m.c9)((()=>{n({machineIdentifier:t})}))}render(){return h.createElement(h.Fragment,null,this.props.children)}}const v={dispatchSetPrimaryServer:g.qO},y=(0,s.$j)(null,v)(f);var b=n(60829),Z=n(87380),S=n(16916),w=n(5977),P=n(28941),C=n(39620),x=n(22220),A=n(21235),E=n(43473),I=n(84020),k=n(44838),T=n(81821),O=n(99778),M=n(98385),R=n(55349),D=n(7496);const _={dispatchDismissUnclaimedServer:g.EK},V=(0,s.$j)((function(){return(0,o.P1)((0,l.Z)(),S.Z,((e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isPlexAccountRequired:t})))}),_)((function(e){const{machineIdentifier:t,friendlyName:n,isPlexAccountRequired:i,dispatchDismissUnclaimedServer:r}=e,s=(0,w.k6)(),o=(0,h.useCallback)((()=>{s.push(E.Z.login)}),[s]),a=(0,h.useCallback)((()=>{(0,P.DB)("metrics").trackClick({page:x.yl,action:C.ql})}),[]),l=(0,h.useCallback)((()=>{(0,P.DB)("metrics").trackClick({page:x.yl,action:C.GP}),r({machineIdentifier:t})}),[t,r]);return h.createElement(O.Z,{description:(0,A.Z)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe."),title:(0,A.Z)("{friendlyName} server is unclaimed and not secure",{friendlyName:n})},i?h.createElement(I.Z,{kind:M._8,size:R.ln,onPress:o},(0,A.Z)("Sign in to claim this server")):h.createElement(I.Z,{kind:M._8,size:R.ln,to:(0,D.Z)(t,"settings","general"),onPress:a},(0,A.Z)("Claim it now")),h.createElement(T.Z,null,h.createElement(k.Z,{kind:M._8,size:R.HC,onPress:l},(0,A.Z)("Don't show this again"))))}));var L=n(7631),j=n(26120),N=n(98984),U=n(71065);const F=(0,s.$j)((function(){return(0,o.P1)((0,l.Z)(),(e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,activeConnectionUri:e.activeConnection.uri,shouldUseNewSettingsRoutes:(0,j.Z)(e.version,L.Z.bundledWebAppNewSettingsRoutes),isShared:e.isShared})))}))((function(e){const{machineIdentifier:t,friendlyName:n,activeConnectionUri:i,shouldUseNewSettingsRoutes:r,isShared:s}=e;let o;n&&(o=(0,A.Z)("The server {1} is out of date and cannot be used.",n)),o=o+" "+(0,A.Z)("This version of {productName} requires Plex Media Server {minServerVersion} or higher.",{productName:N.Z.prop("X-Plex-Product"),minServerVersion:"1.18.3"});let a="/web/index.html";return s||(a+=r?(0,D.Z)(t,"settings","general"):"#!/settings/server"),h.createElement(O.Z,{description:o,title:"Update your Plex Media Server"},h.createElement(I.Z,{kind:M._8,size:R.ln,target:"_self",to:U.Z.join([i,a])},(0,A.Z)("Open server directly")))}));var B=n(4495),z=n(48445),H=n(36652);var q=Object.defineProperty,W=Object.prototype.hasOwnProperty,$=Object.getOwnPropertySymbols,G=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X=(e,t)=>{for(var n in t||(t={}))W.call(t,n)&&K(e,n,t[n]);if($)for(var n of $(t))G.call(t,n)&&K(e,n,t[n]);return e};const Q=(0,s.$j)((function(){return(0,o.P1)((e=>e.isWaitingForServers),((e,{hideUnclaimedPage:t})=>t),(0,l.Z)(),(0,o.P1)(((e,{serverEntityID:t})=>t),a.Z,((e,t)=>!(!e||e!==t))),d,((e,t,n,i,r)=>n?{hasServer:!0,showSpinner:!n.isConnected&&!n.isUnauthorized&&!n.isUnavailable,machineIdentifier:n.machineIdentifier,isUnauthorized:n.isUnauthorized,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isInstallingServerUpdate:n.isInstallingServerUpdate,isUnclaimed:n.isConnected&&!n.isClaimed&&!r[n.machineIdentifier]&&!i&&!t,hasHttpsConnections:n.hasHttpsConnections,isHostedHttps:u.Z.isHostedHttps}:{hasServer:!1,showSpinner:e}))}))((function(e){const{serverEntityID:t,children:n,hasServer:i,showSpinner:r,machineIdentifier:s,isUnauthorized:o,isUnavailable:a,isOutOfDate:l,isUnclaimed:c,isInstallingServerUpdate:d}=e;return r?h.createElement(B.Z,null,h.createElement(p.Z,null)):i?d?h.createElement(z.Z,{serverEntityID:t}):a?h.createElement(Z.Z,{serverEntityID:t}):l?h.createElement(F,{serverEntityID:t}):o?h.createElement(b.Z,null):c?h.createElement(V,{serverEntityID:t}):h.createElement(y,{machineIdentifier:s},n):h.createElement(H.Z,null)}));Q.propTypes=X(X({},Q.propTypes),{serverEntityID:r().string.isRequired});const J=Q},60829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),r=n(21235),s=n(99778);const o=function(){return i.createElement(s.Z,{description:(0,r.Z)("You do not have access to this server"),title:(0,r.Z)("Not authorized")})}},87380:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(67294),r=n(28216),s=n(22222),o=n(20165),a=n(65228),l=n(53621),c=n(25525),d=n(80100),u=n(21235),h=n(71065),p=n(86233),g=n(84020),m=n(44838),f=n(59963),v=n(55710),y=n(99778),b=n(98385);const Z=function(e){const{friendlyName:t,isPending:n,onTryAgainPress:r}=e;return i.createElement(y.Z,{description:i.createElement(f.Z,{message:(0,u.Z)("Verify you have a network connection and that the server is online, or see our {openLink}troubleshooting{closeLink} tips for further assistance."),tags:[{open:"openLink",close:"closeLink",component:m.Z,kind:b._8,to:"https://help.plex.tv/noserver",target:"_blank"}]}),title:t?(0,u.Z)("{serverName} is currently unavailable",{serverName:t}):(0,u.Z)("Server is currently unavailable")},i.createElement(v.Z,{isSpinning:n,kind:b._8,onPress:r},(0,u.Z)("Retry connection")))};var S=n(79683),w=n(4495),P=n(78388);class C extends i.Component{render(){const{title:e,description:t,children:n}=this.props;return i.createElement(w.Z,{description:i.createElement(i.Fragment,null,i.createElement(f.Z,{message:(0,u.Z)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network. You can {openLink}learn more about secure connections here{closeLink}.'),tags:[{open:"openLink",close:"closeLink",component:m.Z,to:"https://support.plex.tv/hc/en-us/articles/206225077-How-to-Use-Secure-Server-Connections",kind:b._8,target:"_blank"}]})),iconSrc:P,title:e},t?i.createElement("div",{className:"BMkrY BQ0Uf"},t):null,n)}}const x=C;var A=n(31945);const E=(0,r.$j)((function(){return(0,s.P1)((0,l.Z)(),(e=>{const t=e.connections.find((e=>"http"===e.scheme));return{friendlyName:e.friendlyName,bundledConnectionUri:null==t?void 0:t.uri,shouldShowInsecureAppMessage:A.P(e),shouldAllowInsecureFallback:A.E(e),isPending:e.isPending}}))}),(function(e,t){const n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onTryAgainPress(){e((0,o.bc)()),e(a.Vk(n))}}}))((function(e){const{friendlyName:t,bundledConnectionUri:n,shouldShowInsecureAppMessage:r,shouldAllowInsecureFallback:s,isPending:o,onTryAgainPress:a}=e,{isOpen:l,onOpen:f,onClose:v}=(0,p.Z)();if(r){const e="macos"===d.Z.platformID||"windows"===d.Z.platformID;return i.createElement(x,{title:(0,u.Z)('app.plex.tv is unable to connect to "{serverName}" securely',{serverName:t})},e?i.createElement("div",{className:"vg2aF"},i.createElement(g.Z,{kind:b._8,target:"_blank",to:c.jv},"windows"===d.Z.platformID?(0,u.Z)("Download Plex for Windows"):(0,u.Z)("Download Plex for Mac"))):null,n?i.createElement(m.Z,{kind:b._8,to:h.Z.join([n,"/web/index.html"])},e?(0,u.Z)("Or you can try to navigate directly to Plex Media Server"):(0,u.Z)("You can try to navigate directly to Plex Media Server")):null)}return s?i.createElement(x,{description:(0,u.Z)("The app is loaded insecurely. You can attempt to use an insecure connection now."),title:(0,u.Z)('The server "{serverName}" does not allow secure connections',{serverName:t})},i.createElement(S.Z,{isOpen:l,serverEntityID:e.serverEntityID,onModalClose:v}),i.createElement(g.Z,{kind:b._8,onPress:f},(0,u.Z)("Allow Insecure Connections"))):i.createElement(Z,{friendlyName:t,isPending:o,onTryAgainPress:a})}))},79683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(28216),r=n(22222),s=n(65228),o=n(53621),a=n(67294),l=n(44560),c=n(22220),d=n(21235),u=n(55710),h=n(23889),p=n(11066),g=n(77553),m=n(43655),f=n(40894),v=n(38737),y=n(98385),b=n(55349);class Z extends a.Component{constructor(e,t){super(e,t),this.onAllowFallbackConfirm=()=>{this.setState({isSubmitting:!0}),this.props.onAllowHttpFallback({serverEntityID:this.props.serverEntityID,allowHttpFallback:this.props.publicAddressMatches?l.Z.SAME_NETWORK:l.Z.ALWAYS})},this.state={isSubmitting:!1}}render(){const{publicAddressMatches:e,isOpen:t,onModalClose:n}=this.props,{isSubmitting:i}=this.state;return a.createElement(h.Z,{isOpen:t,metricsPage:c.Sd,size:b.HC,onModalClose:n},a.createElement(g.Z,{onModalClose:n},a.createElement(v.Z,null,(0,d.Z)("Allow Insecure Connections")),a.createElement(p.Z,null,e?(0,d.Z)("Insecure connections will only be allowed when you're on the same network as the server."):(0,d.Z)("Insecure connections will be allowed to any server."),a.createElement("br",null),(0,d.Z)("The Allow Fallback to Insecure Connections setting can be changed in Web Settings. Would you like to allow insecure connections?")),a.createElement(m.Z,null,a.createElement(f.Z,null,a.createElement(u.Z,{isDisabled:i,kind:y.TP,onPress:n},(0,d.Z)("Cancel")),a.createElement(u.Z,{isSpinning:i,kind:y.T,onPress:this.onAllowFallbackConfirm},(0,d.Z)("Allow"))))))}}const S=Z,w={onAllowHttpFallback:s.JZ},P=(0,i.$j)((function(){return(0,r.P1)((0,o.Z)(),(e=>({publicAddressMatches:e.publicAddressMatches})))}),w)(S)},46935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(67294),r=n(25525),s=n(21235),o=n(44838),a=n(99778),l=n(98385);const c=function(){return i.createElement(a.Z,{description:(0,s.Z)("Don't worry, it will be back soon"),title:(0,s.Z)("Plex is down for maintenance")},i.createElement(o.Z,{kind:l._8,target:"_blank",to:r.S7},"status.plex.tv"))}},4495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(94184),r=n.n(i),s=n(67294),o=n(20725),a=n(81821),l=n(98385);const c={emptyPage:"BmNjQ",content:"Ocumg",icon:"BIfF7",default:"q27mR",primary:"RiRlN",success:"SM8HT",danger:"iBxg7",imgIcon:"uEwNS",title:"eTubS",footer:"D_Abe"};var d=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getOwnPropertySymbols,p=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e){const t=e,{className:n,contentClassName:i,iconClassName:l,titleClassName:d,footerClassName:m,children:f,kind:v,scrollDirection:y,iconComponent:b,iconSrc:Z,title:S,description:w,footer:P}=t,C=((e,t)=>{var n={};for(var i in e)u.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&h)for(var i of h(e))t.indexOf(i)<0&&p.call(e,i)&&(n[i]=e[i]);return n})(t,["className","contentClassName","iconClassName","titleClassName","footerClassName","children","kind","scrollDirection","iconComponent","iconSrc","title","description","footer"]);return s.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&g(e,n,t[n]);return e})({className:n,scrollDirection:y},C),s.createElement("div",{className:i},Z?s.createElement("img",{className:c.imgIcon,src:Z}):null,b?s.createElement("span",{className:r()(l,c[v])},s.createElement(b,null)):null,S?s.createElement("div",{className:d},S):null,w?s.createElement(a.Z,null,w):null,f),P?s.createElement("div",{className:m},P):null)}m.defaultProps={className:c.emptyPage,contentClassName:c.content,iconClassName:c.icon,titleClassName:c.title,footerClassName:c.footer,kind:l.TP};const f=m},81821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);const r=function({children:e}){return i.createElement("div",{className:"BQ0Uf"},e)}},99778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(67294),r=n(26400),s=n(4495),o=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u=function(e){return i.createElement(s.Z,((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e})({iconComponent:r.F},e))}},48445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(28216),r=n(22222),s=n(20165),o=n(65228),a=n(53621),l=n(67294),c=n(21235),d=n(55710),u=n(4495),h=n(98385),p=n(78388);const g=(0,i.$j)((function(){return(0,r.P1)((0,a.Z)(),(e=>({friendlyName:e.friendlyName,isPending:e.isPending})))}),(function(e,t){const n={serverEntityID:t.serverEntityID};return{onTryAgainPress(){e((0,s.bc)()),e(o.Vk(n))}}}))((function(e){const{friendlyName:t,isPending:n,onTryAgainPress:i}=e;return l.createElement(u.Z,{description:(0,c.Z)("Grab a cup of tea. This may take a couple of minutes."),iconSrc:p,title:(0,c.Z)('The server "{serverName}" is installing an update',{serverName:t})},l.createElement(d.Z,{isSpinning:n,kind:h._8,onPress:i},(0,c.Z)("Retry connection")))}))},36652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(67294),r=n(21235),s=n(44838),o=n(99778),a=n(98385);const l=function(){return i.createElement(o.Z,{description:(0,r.Z)("We can't find the page you're looking for"),title:(0,r.Z)("Not found")},i.createElement(s.Z,{kind:a._8,to:"#"},(0,r.Z)("Go Home")))}},31517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(67294),r=n(25525),s=n(21235),o=n(44838),a=n(99778),l=n(98385),c=Object.defineProperty,d=Object.prototype.hasOwnProperty,u=Object.getOwnPropertySymbols,h=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const g=function(e){const t=e,{children:n}=t,c=((e,t)=>{var n={};for(var i in e)d.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&h.call(e,i)&&(n[i]=e[i]);return n})(t,["children"]);return i.createElement(a.Z,((e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(u)for(var n of u(t))h.call(t,n)&&p(e,n,t[n]);return e})({description:(0,s.Z)("Please visit our forums if you continue to experience problems"),title:(0,s.Z)("There was an unexpected error")},c),i.createElement(o.Z,{kind:l._8,target:"_self",to:r.bB},(0,s.Z)("Go to Forums")),n)}},44738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(67294),r=n(21235),s=n(99778);const o=function(){return i.createElement(s.Z,{description:(0,r.Z)("We are unable to connect to plex.tv at this time. Please try again later."),title:(0,r.Z)("Plex is not reachable")})}},79712:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(45697),r=n.n(i),s=n(67294),o=n(28216);const a={dispatchRedirectToUrl:n(20165).nL};class l extends s.Component{componentDidMount(){const{to:e,replace:t}=this.props;this.props.dispatchRedirectToUrl({url:e,replace:t})}render(){return null}}l.propTypes={to:r().string.isRequired,replace:r().bool,dispatchRedirectToUrl:r().func.isRequired};const c=(0,o.$j)(null,a)(l)},32629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var i=n(67294),r=n(28216),s=n(22222),o=n(5977),a=n(28941),l=n(80204),c=n(68468),d=n(13469),u=n.n(d);const h=function e(t){return function(e,t=u().identity){return Object.keys(e).forEach((n=>{e[n]=t(e[n])})),e}(function(e,t=u().identity){return Object.keys(e).forEach((n=>{t(e[n])||delete e[n]})),e}(t),(t=>u().isObject(t)?e(t):t))};var p=n(71417),g=n(57020),m=n(80441),f=n(30581),v=Object.defineProperty,y=Object.prototype.hasOwnProperty,b=Object.getOwnPropertySymbols,Z=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&S(e,n,t[n]);if(b)for(var n of b(t))Z.call(t,n)&&S(e,n,t[n]);return e};var P=n(71065);const C=e=>e.user;var x=n(91856),A=n(43473),E=Object.defineProperty,I=Object.prototype.hasOwnProperty,k=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function M(e){const t=e.context||{},{user:n}=t,i=((e,t)=>{var n={};for(var i in e)I.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&k)for(var i of k(e))t.indexOf(i)<0&&T.call(e,i)&&(n[i]=e[i]);return n})(t,["user"]);return h(((e,t)=>{for(var n in t||(t={}))I.call(t,n)&&O(e,n,t[n]);if(k)for(var n of k(t))T.call(t,n)&&O(e,n,t[n]);return e})({},i))}const R=function(){return(0,s.P1)(((e,{signUp:t})=>t),((e,{email:t})=>t),((e,{providerID:t})=>t),((e,{userAuthToken:t})=>t),((e,{code:t})=>t),((e,{pinID:t})=>t),((e,{errorMessage:t})=>t),(e=>e.clientID),C,l.Z,((e,t,n,i,r,s,l,d,u,h)=>{const v=M((0,a.DB)("metrics").toJSON());if(e){const{base:e}=(0,f.Z)(window.location.href),t={forwardUrl:e,twop:"1",context:v};return h&&(t.lang=h),u.anonymous&&(t.guestToken=u.authToken),P.Z.join((0,c.LL)("sign-up/"),t,{trailingSlash:!0})}{const e={clientID:d,context:v};if(!(0,p.Z)()){const t=s?function(e,t){const{base:n,searchParams:i,hashPath:r,hashParams:s}=(0,f.Z)(e),o=(0,g.Z)(s);return`${n}${i}#${r}?${(0,m.Z)(w(w({},o),t))}`}(window.location.href,{pinID:s}):window.location.href;e.forwardUrl=t,(0,o.LX)(x.Z.location.pathname,{path:A.Z.serverSetup})&&(e.skipSignInUrl=function(e,t){let[,n]=e.match(/(^[^#]+)?/);return n=n||"",`${n}${t}`}(window.location.href,P.Z.join(["#!/setup"],{forwardUrl:t},{trailingSlash:!0})))}return r&&(e.code=r),n&&(e.provider=n),t&&(e.email=t),i&&(e.authToken=i),l&&(e.error=l),h&&(e.language=h),u.anonymous&&(e.guestToken=u.authToken),P.Z.join([(0,c.tZ)(),P.Z.join(["#!/"],e)],{},{recognizeHash:!0,trailingSlash:!0})}}))};var D=Object.defineProperty,_=Object.prototype.hasOwnProperty,V=Object.getOwnPropertySymbols,L=Object.prototype.propertyIsEnumerable,j=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const N=(0,r.$j)((function(){return(0,s.P1)(R(),(e=>({serviceAuthUrl:e})))}),{})((function(e){const t=e,{component:n,serviceAuthUrl:r}=t,s=((e,t)=>{var n={};for(var i in e)_.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&V)for(var i of V(e))t.indexOf(i)<0&&L.call(e,i)&&(n[i]=e[i]);return n})(t,["component","serviceAuthUrl"]);return i.createElement(n,((e,t)=>{for(var n in t||(t={}))_.call(t,n)&&j(e,n,t[n]);if(V)for(var n of V(t))L.call(t,n)&&j(e,n,t[n]);return e})({to:r},s))}))},92255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var i=n(67294),r=n(28941),s=n(39620),o=n(22220),a=n(23889),l=n(55349),c=n(74646),d=n(28216),u=n(22222),h=n(39953),p=n(30271),g=n(68468),m=n(71065),f=n(94184),v=n.n(f),y=n(21235),b=n(66977),Z=n(84020),S=n(44838),w=n(48631),P=n(11066),C=n(77553),x=n(43655),A=n(38737),E=n(98385),I=n(53117),k=n(85828),T=n(92740),O=n(16752),M=n(47958),R=n(90136);const D=function({img:e,title:t,description:n}){return i.createElement("div",{className:"v68Zv"},i.createElement("div",{className:"RhJbE"},i.createElement("img",{className:"ld3K4",src:e}),i.createElement("div",{className:"ezibF"},i.createElement("div",{className:"UK0W0"},t),i.createElement("div",{className:"IEISx"},n))))},_="yn8Ev";var V=Object.defineProperty,L=Object.prototype.hasOwnProperty,j=Object.getOwnPropertySymbols,N=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&U(e,n,t[n]);if(j)for(var n of j(t))N.call(t,n)&&U(e,n,t[n]);return e};const B=function(e){const{metricsProperties:t,subscribeUrl:n,infoUrl:r,plans:o,isPlansPending:a,isPlansPopulated:c,plansError:d,onModalClose:u}=e;return i.createElement(C.Z,{onModalClose:u},i.createElement(A.Z,{className:"oy4UL GB5xN"},i.createElement("div",{className:"Oeu_z"},(0,y.Z)("Plex Pass")),(0,y.Z)("Enhance your Plex experience with exclusive premium features")),i.createElement(P.Z,{innerClassName:"Tqt8q Itgwf"},i.createElement(D,{description:(0,y.Z)("Enjoy your media offline on Android and iOS devices"),img:T,title:(0,y.Z)("Downloads")}),i.createElement(D,{description:(0,y.Z)("Connect a tuner and antenna to record free OTA broadcasts"),img:k,title:(0,y.Z)("Live TV & DVR")}),i.createElement(D,{description:(0,y.Z)("Set up managed user accounts to create custom access restrictions"),img:M,title:(0,y.Z)("Parental Controls")}),i.createElement(D,{description:(0,y.Z)("Connect your media server to your home automation system"),img:R,title:(0,y.Z)("Webhooks")}),i.createElement(D,{description:(0,y.Z)("See the play history, bandwidth, and top users on your media server"),img:I,title:(0,y.Z)("Server Dashboard")}),i.createElement(D,{description:(0,y.Z)("Sweet Fades, Loudness Leveling, Lyrics, and more"),img:O,title:(0,y.Z)("Premium Music Magic")}),i.createElement("div",{className:"dXd6r"},i.createElement(S.Z,{className:"m1P8l",target:"_self",to:r},(0,y.Z)("...plus more exclusive features!")))),i.createElement(x.Z,{className:"xMKyL dNFZf"},a?i.createElement("div",{className:"BOSsi"},i.createElement(b.Z,null)):null,i.createElement("div",{className:v()("ADVyI",a&&"jWRRD")},!a&&c?o.map((e=>i.createElement(w.Z,F(F({key:e.id},t),{action:s.kD,plan:e.id}),i.createElement(Z.Z,{className:_,kind:E._8,size:l.ln,target:"_self",to:m.Z.join(n,{plan:e.id,continue:window.location.href})},e.formattedPrice,"  ",e.name)))):null,!a&&d?i.createElement(w.Z,F(F({},t),{action:s.kD,plan:"unknown"}),i.createElement(Z.Z,{className:_,kind:E._8,size:l.ln,target:"_self",to:n},(0,y.Z)("Subscribe"))):null)))};var z=Object.defineProperty,H=Object.prototype.hasOwnProperty,q=Object.getOwnPropertySymbols,W=Object.prototype.propertyIsEnumerable,$=(e,t,n)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class G extends i.Component{UNSAFE_componentWillMount(){this.props.isSignedIn&&this.props.fetchPlans()}UNSAFE_componentWillReceiveProps(e){e.isSignedIn&&e.isSignedIn!==this.props.isSignedIn&&e.fetchPlans()}render(){return i.createElement(B,((e,t)=>{for(var n in t||(t={}))H.call(t,n)&&$(e,n,t[n]);if(q)for(var n of q(t))W.call(t,n)&&$(e,n,t[n]);return e})({},this.props))}}const K=(0,d.$j)((function(){return(0,u.P1)(((e,{origin:t})=>t),p.Z,((e,t)=>{const n=t.desktop,i={utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01"};return e&&(i.utm_content=e),{isSignedIn:t.isSignedIn,plans:n.plans,isPlansPending:n.isPlansPending,isPlansPopulated:n.isPlansPopulated,plansError:n.plansError,subscribeUrl:m.Z.join((0,g.LL)("/plex-pass/purchase"),i),infoUrl:(0,g.LL)("/plex-pass")}}))}),{fetchPlans:h.ZQ})(G);var X=Object.defineProperty,Q=Object.prototype.hasOwnProperty,J=Object.getOwnPropertySymbols,Y=Object.prototype.propertyIsEnumerable,ee=(e,t,n)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,te=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&ee(e,n,t[n]);if(J)for(var n of J(t))Y.call(t,n)&&ee(e,n,t[n]);return e};class ne extends i.Component{constructor(){super(...arguments),this.onModalClose=()=>{(0,r.DB)("metrics").trackClick(te(te({},this.props.metricsProperties),{page:o.G5,action:s.AM})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return(0,c.Z)(this,e,t)}render(){const{origin:e,isOpen:t,metricsProperties:n}=this.props;return i.createElement(a.Z,{isOpen:t,metricsPage:o.G5,metricsProperties:n,size:l.ln,onModalClose:this.onModalClose},i.createElement(K,{metricsProperties:n,origin:e,onModalClose:this.onModalClose}))}}const ie=ne},43559:(e,t,n)=>{"use strict";function i(...e){return function(...t){for(let n=0,i=e.length;n<i;n++){const i=e[n];"function"==typeof i&&i(...t)}}}n.d(t,{Z:()=>i})},90616:(e,t,n)=>{"use strict";function i(...e){return e.filter((e=>!!e)).join("--")}n.d(t,{Z:()=>i})},12681:(e,t,n)=>{"use strict";function i(e){const t=parseFloat(e,10);let n=e.match(/m?s/);switch(n&&(n=n[0]),n){case"s":return 1e3*t;case"ms":return t}return 0}n.d(t,{Z:()=>i})},11722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(12681);function r(e){return(0,i.Z)(e)/1e3}},19176:(e,t,n)=>{"use strict";n.d(t,{sM:()=>f,pc:()=>m,QE:()=>g,LJ:()=>p});var i=n(13469),r=n.n(i),s=n(14710),o=n(25798);function a(e){if(e===document)return!0;if(!e)return!1;if(!e.parentNode)return!1;if(e.style){const t=e.style;if("none"===t.display||"hidden"===t.visibility)return!1}if(window.getComputedStyle){const t=window.getComputedStyle(e);if("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))return!1}return a(e.parentNode)}function l(e){let t=e.tabIndex;return null===t&&(t=void 0),!isNaN(t)&&t>=0&&function(e){if(!a(e))return!1;const t=e.nodeName.toLowerCase();return/input|select|textarea|button|object/.test(t)?!e.disabled:"a"!==t||e.href}(e)}function c(e){if(!e)return[];const t=[].slice.call(e.getElementsByTagName("*"),0).filter((e=>l(e)));return r().sortBy(t,(e=>0===e.tabIndex?1/0:e.tabIndex))}let d,u;function h(e){try{e.focus()}catch(e){}}function p(e){d=document.activeElement,u=e,function(e){const t=document.activeElement,n=t&&e&&e.contains(t);t&&!n&&t.blur()}(e)}function g(e){(0,s.Z)(u,"Call `startScopedFocus(element)` before `scopeTabEvent`");const t=c(u);if(!t.length)return;e.preventDefault();const n=document.activeElement,i=n?t.indexOf(n):-1,r=t.length-1;let o;-1===i?o=e.shiftKey?r:0:(o=e.shiftKey?i-1:i+1,o<0?o=r:o>r&&(o=0)),h(t[o])}function m(){(0,s.Z)(u,"Call `startScopedFocus(element)` before `scopeAutoFocus`");const e=c(u),t=r().find(e,(e=>(0,o.Z)(e.getAttribute("data-autofocus"))));t&&h(t)}function f(){d&&(h(d),d=null)}},97330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let i=0;const r=function(){return"id-"+i++}},87830:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function r(e,t=!0){const n=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(t&&!n.current)return n.current=!0,e()}),[t,e,n])}},49118:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function r(e){const[t,n]=(0,i.useState)(!1);return{isOpen:t,onOpen:(0,i.useCallback)((()=>n(!0)),[]),onClose:(0,i.useCallback)((()=>n(!1)),[]),onConfirm:(0,i.useCallback)((()=>{n(!1),e&&e()}),[e])}}},43569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(67294);function r(e){const t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e}),[e]),t.current}},61775:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(67294),r=n(97330);const s=function(){const[e]=(0,i.useState)(r.Z);return e}},31945:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,E:()=>l});var i=n(80731),r=n(49521);function s(){return!r.Z.isHostedHttps||!!i.Z.allowMixedContent}function o(e){return e.isFullServer&&!!e.presence&&!e.httpsRequired}function a(e){return!s()&&o(e)}function l(e){const t=e.hasHttpsConnections&&!e.hasFallbackConnections;return s()&&o(e)&&t}},26700:(e,t,n)=>{"use strict";n.d(t,{be:()=>i,lW:()=>r,GZ:()=>s,Pv:()=>o});const i="isScrolling",r="isActive",s="isFocused",o="isDisabled"},66510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});let i={};const r={getPageKey:()=>window.location.hash,getKey:e=>`${r.getPageKey()}!${e}`,get:e=>i[e],set(e,t){i[e]=t},remove(e){delete i[e]},clear(){i={}}},s=r},45223:(e,t,n)=>{"use strict";n.d(t,{UP:()=>i,WV:()=>r});const i="up",r="down"},98385:(e,t,n)=>{"use strict";n.d(t,{TP:()=>i,_8:()=>r,T:()=>s,Py:()=>o});const i="default",r="primary",s="danger",o="dark"},53311:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>i,yZ:()=>r,_y:()=>s});const i="none",r="vertical",s="horizontal"},55349:(e,t,n)=>{"use strict";n.d(t,{HC:()=>i,M2:()=>r,ln:()=>s});const i="small",r="medium",s="large"},20764:(e,t,n)=>{"use strict";n.d(t,{IM:()=>i,jO:()=>r,ee:()=>s,aV:()=>o,eO:()=>a,OI:()=>l,Gf:()=>c,ab:()=>d});const i="topLeft",r="topCenter",s="topRight",o="bottomLeft",a="bottomCenter",l="bottomRight",c="middleLeft",d="middleRight"},36800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(35785);function r(e){if(e&&e.features)return e.features.find((e=>e.type===i.Z.CONTENT))}},12359:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(68468),r=n(94377),s=n(71065);function o(e,t,n,o={},a){if(!e||!t||!n)return;const l=function(e,t){const n=encodeURIComponent(e.machineIdentifier),i=encodeURIComponent(t.identifier),r=`/server/${n}`;return t.isLibraryProvider?r:`${e.isCloud?"":r}/provider/${i}`}(e,t),c=encodeURIComponent(n),d={[r.pV]:"album",[r.pX]:"playlist",[r.j0]:"playlist"},u=a?d[a]:"details",h=(0,i.we)(`/#!${l}/${u}?key=${c}`);return s.Z.join(h,o)}},7496:(e,t,n)=>{"use strict";function i(e,t,n){return`#!/server/${encodeURIComponent(e)}/${t}/${n}`}n.d(t,{Z:()=>i})},66501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(28941),r=n(71746),s=n(68468),o=n(71065);function a(e,t,n,i={},a){if(n===r._)return i.pivot?o.Z.join("#!",{pivot:i.pivot}):"#!";const l=[(0,s.we)(),"#!","media"];return e||l.push(encodeURIComponent(t)),l.push(encodeURIComponent(n),a),o.Z.join(l,i)}var l=Object.defineProperty,c=Object.prototype.hasOwnProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p(e,t,n,r={},s){if(!function(e){const t=(0,i.DB)("appModel").get("embeddedServer");return!!e&&!!t&&e.machineIdentifier===t.get("machineIdentifier")}(e))return function(e,t,n,i){return a(e.isCloud,e.machineIdentifier,t.identifier,n,i)}(e,t,n?((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&h(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&h(e,n,t[n]);return e})({source:n.id},r):r,s)}},58216:(e,t,n)=>{"use strict";n.d(t,{tk:()=>i});n(71065);n(36800),n(66501),Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable;const i={RECORDING_SCHEDULE:"view://dvr/recording-schedule",GUIDE:"view://dvr/guide",TIMELINE:"view://photo/timeline",SHARED_ITEMS:"view://shared-items",HOME_RECOMMENDED:"view://home/recommended",HOME_WATCHLIST:"view://home/watchlist"};i.RECORDING_SCHEDULE,i.GUIDE,i.TIMELINE,i.SHARED_ITEMS},98956:(e,t,n)=>{"use strict";function i(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;const r=Object.prototype.hasOwnProperty;for(let i=0;i<n.length;i++)if(!r.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}n.d(t,{Z:()=>i})},74646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(98956);function r(e,t,n,r,s){const o=s||i.Z;let a=o(e.props,t);return a&&(a=o(e.state,n),a&&r&&(a=o(e.context,r))),!a}},33237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(80772);const r="#e5a00d",s="#fafafa",o="#a0aab1",a="#1f2326",l="#343a3f",c=Object.assign({},i.Z,{v4AccentLight:r,v4AltLight:s,v4AltMedium:o,v4AltMediumDark:"#737e87",v4AltMediumLight:"#d6dcdf",v4BaseDark:a,v4BaseLight:"#444f56",v4BaseMedium:"#2a3136",v4BaseMediumLight:l,v4DefaultColor:s,v4DividerColor:a,primaryButtonColor:a,selectBackground:"#525252",dragPreviewBackgroundColor:"rgba(76, 76, 76, 0.7)",dragPreviewOpacity:"0.9",dragPreviewLowOpacity:"0.35",dropLocationColor:"#f9be03",sliderTrackBackgroundColor:"rgba(255, 255, 255, 0.2)",sliderThumbBackgroundColor:"#ddd",sliderThumbHoverBackgroundColor:"#fff",rowOddBackgroundColor:"rgba(255, 255, 255, 0.03)",rowEvenBackgroundColor:"#292929",avatarLoadingBackgroundColor:"#999",avatarBackgroundColor:"#EEEEEE",detailsShadowColor:"#000",playerBackgroundColor:"#232426",playerTopControlsBackgroundColor:"rgba(35, 36, 38, 0.45)",playerBottomControlsBackgroundColor:"rgba(35, 36, 38, 0.8)",playerPrimaryButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",miniPlayerBackgroundColor:i.Z.blackDarkerTranslucentBackgroundColor,playerSecondaryOverlayColor:"rgba(0, 0, 0, 0.5)",playerPosterActionColor:i.Z.blackDarkTranslucentBackgroundColor,playerPanelColor:"rgba(0, 0, 0, 0.6)",playerDisabledLinkColor:"rgba(255, 255, 255, 0.15)",playerShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTrackColor:"rgba(0, 0, 0, 0.75)",seekBarTrackColorHover:"rgba(255, 255, 255, 0.15)",seekBarFillColor:"#cc7b19",seekBarBufferColor:"rgba(204, 123, 25, 0.3)",seekBarThumbnailShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTooltipBackgroundColor:"#000",seekBarTooltipShadowColor:"rgba(0, 0, 0, 0.5)",thumbnailBackgroundColor:"rgba(0, 0, 0, 0.45)",adSeekBarFillColor:"#f9be03",equalizerBarColor:"#f9be03",htmlMediaElementBackgroundColor:"#000",toastBackgroundColor:"rgba(1, 1, 1, 0.50)",posterBackgroundColor:"rgba(0, 0, 0, 0.45)",posterHoverBackgroundColor:"radial-gradient(farthest-corner at 50% 50%, rgba(50, 50, 50, 0.5) 50%, rgb(50, 50, 50) 100%)",posterSelectedBackgroundColor:"rgba(30, 30, 30, 0.5)",posterBlendedSelectedBackgroundColor:"rgba(19, 19, 19, 0.78);",posterPlaceholderIconColor:"rgba(255, 255, 255, 0.15)",posterCenterCircleBackgroundColor:"rgba(0, 0, 0, 0.45)",posterBadgeShadowColor:"rgba(0, 0, 0, 0.6)",posterProgressTrackBackgroundColor:"rgba(0, 0, 0, 0.75)",posterVersionBadgeColor:"#556688",posterSmartBadgeColor:"rgb(142, 97, 145)",posterFavoriteBadgeColor:"rgb(229, 172, 182)",v4CardBackgroundColor:"rgba(0, 0, 0, 0.45)",v4CardShimmerBackgroundColor:"rgba(0, 0, 0, 0.3)",v4CardShadowColor:"rgba(0, 0, 0, 0.3)",v4CardHoverBackgroundColor:"rgba(30, 30, 30, 0.6)",v4CardHoverBorderColor:r,recordColor:"#f53",recordHoverColor:"lighten(#f53, 0.1)",recordBackgroundColor:"#b32",recordActiveBackgroundColor:"darken(#b32, 0.1)",dayOfWeekBackgroundColor:"rgba(255, 255, 255, 0.1)",dayOfWeekColor:"rgba(255, 255, 255, 0.75)",todayBackgroundColor:"rgba(255, 255, 255, 0.3)",todayColor:"rgba(255, 255, 255, 0.1)",calendarEventSuccessBackgroundColor:"rgba(0, 102, 153, 0.15)",calendarEventSuccessAlternateBackgroundColor:"rgba(31, 120, 165, 0.17)",calendarEventSuccessHoverBackgroundColor:"rgba(76, 148, 183, 0.20)",calendarEventErrorBackgroundColor:"rgba(187, 51, 34, 0.3)",calendarEventErrorAlternateBackgroundColor:"rgba(191, 64, 48, 0.31)",calendarEventErrorHoverBackgroundColor:"rgba(199, 87, 73, 0.34)",recordingIconColor:"#ff5533",playColor:"rgba(255, 255, 255, 0.75)",channelGridTimelineLabelColor:o,channelGridSelectedItemDetailsBackgroundColor:"rgba(0, 0, 0, 0.2)",channelGridBorderColor:l,channelGridHoverColor:"rgba(255, 255, 255, 0.2)",channelGridBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridOnAirBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridFinishedAiringBackgroundColor:"rgba(160, 170, 177, 0.3)",channelGridProgressColor:"rgba(160, 170, 177, 0.1)",channelGridMissingItemBackgroundColor:"rgba(0, 0, 0, 0)",channelGridChannelThumbBackgroundColor:"rgba(42, 49, 54, 0.5)",channelGridRecentChannelThumbBackgroundColor:"rgba(255, 255, 255, 0.05)",channelGridChannelIdentifierBackroundColor:"rgba(42, 49, 54, 0.5)",channelGridNewBadgeColor:"rgba(84, 84, 84)",filterBuilderInputBackgroundColor:"#1e2121",altFilterBuilderInputBackgroundColor:i.Z.blackDarkerTranslucentBackgroundColor,dvrBackgroundColor:i.Z.blackDarkTranslucentBackgroundColor,prePlayUnavailableButtonBackgroundColor:"rgba(255, 84, 50, 0.6)",prePlayPartialButtonBackgroundColor:"rgba(204, 123, 25, 0.6)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.08)",preferredServerButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",sortableHomeHubsContainerBackgroundColor:"rgba(255, 255, 255, 0.03)",sortableHomeHubsRowBackgroundColor:"rgba(255, 255, 255, 0.02)",chartTranslucentOpacity:"0.25",serverDashboardTileRowBackgroundPrimaryColor:"rgba(229, 160, 13, 0.2)",serverDashboardTileRowBackgroundSecondaryColor:"rgba(229, 160, 13, 0.15)",serverDashboardTileRowBackgroundTertiaryColor:"rgba(229, 160, 13, 0.1)",serverDashboardTileRowBackgroundQuaternaryColor:"rgba(229, 160, 13, 0.05)",sessionStopBackgroundColor:"#701f29",sessionStopIconColor:"rgba(255, 255, 255, 0.5)",sourceSidebarSelectedColor:"rgba(255, 255, 255, 0.07)",liveTVSettingsTuner1Color:"#7EB0D5",liveTVSettingsTuner2Color:"#BC9BB7",liveTVSettingsTuner3Color:"#8f9148",liveTVSettingsTuner4Color:"#7a3d84",liveTVSettingsTuner5Color:"#ca5f5a"})},86322:(e,t,n)=>{"use strict";var i={};n.r(i),n.d(i,{abortServerConnectionTest:()=>Fs,analyzeItems:()=>qs,analyzeSection:()=>$s,authenticateWithHash:()=>ml,authenticateWithServer:()=>gl,autoMatch:()=>vo,changeArtwork:()=>bo,cleanBundles:()=>go,connectServer:()=>$o,deleteAllVersionGenerators:()=>zo,deleteFile:()=>Po,deleteItem:()=>Lo,deleteItems:()=>Ys,deleteMediaItem:()=>so,deletePlaylist:()=>uo,deleteSection:()=>lo,deleteSectionThumbnails:()=>co,deleteVersionGenerator:()=>Fo,deleteVersions:()=>oo,disableVersionGenerator:()=>No,emptyTrash:()=>mo,enableVersionGenerator:()=>jo,match:()=>fo,merge:()=>Xs,optimize:()=>po,populateServerIdentity:()=>Bs,rate:()=>Zo,reconnectServer:()=>Go,refreshMetadata:()=>Hs,removeDevice:()=>fl,removeServer:()=>Jo,reprocessVersionGenerator:()=>Uo,resetUser:()=>Yo,selectStream:()=>wo,signInServer:()=>Xo,signOut:()=>yl,splitApart:()=>Ks,switchUser:()=>Ja,testServerConnection:()=>Us,uninstallChannel:()=>qo,unmatch:()=>Gs,updateChannel:()=>Ho,updateLibrary:()=>ho});var r=n(19755),s=n.n(r),o=n(67294),a=n(15969),l=n(57865),c=n(73935),d=n(28216),u=n(5977),h=n(28941),p=n(55327),g=n(82590),m=n(51401),f=n(13469),v=n.n(f),y=n(57076),b=n(64373),Z=n(29847),S=n.n(Z);const w=y.Z.ItemView.extend({mixins:[b.Z],className:"alert transition-in",template:S(),alertDuration:2e3,transitionDuration:500,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialState:"transitionIn",states:{transitionIn:{nextState:"visible",onEnter:function(){this.$el.triggerReflow(),this.$el.removeClass("transition-in"),this.startTransition()}},visible:{nextState:"transitionOut",onEnter:function(){this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration)}},transitionOut:{onEnter:function(){this.$el.addClass("transition-out"),this.startTransition()}}},initialize:function(e){this.bindAllWhenRendered(["enterNextState"]),v().isString(e)&&(e={message:e}),this.type=e.type,this.message=e.message,this.type&&this.$el.addClass("has-"+this.type)},serializeData:function(){return{type:this.type,message:this.message}},startTransition:function(){window.setTimeout(this.enterNextState,this.transitionDuration)},onRender:function(){v().defer(this.enterNextState)},onStateMachineComplete:function(){this.close()},onMouseEnter:function(){window.clearTimeout(this.transitionOutTimeout)},onMouseLeave:function(){"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration/2))},onCloseClick:function(e){e.preventDefault(),"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.enterNextState())}}),P=p.Z.extend({mixins:[m.Z],initialize(){this.openAlerts={}},start(){this.listenTo(g.Z,{"show:alert":this.showAlert})},showAlert:function(e){const t=e.message;if(this.openAlerts[t])return;const n=new w(e);this.openAlerts[t]=!0,this.listenToOnce(n,"close",(function(){delete this.openAlerts[t]})),s()("body").append(n.render().el)}});function C(){(new P).start()}const x=p.Z.extend({mixins:[m.Z],initialize(){this.modals=[]},start(){this.listenTo(g.Z,{"show:modal":this.showModal,"hide:modal":this.hideModal})},showModal(e){this.modals.push(e);const t=s()("body");e.transparent&&t.addClass("show-modal-transparent"),t.append(e.render().el)},hideModal(e){const t=v().indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].close(),e.transparent&&!v().findWhere(this.modals,{transparent:!0})&&s()("body").removeClass("show-modal-transparent")}});function A(){(new x).start()}n(32688),n(13513),n(68553),n(51724);var E=n(80731),I=n(53572),k=n(7567),T=n(75130),O=n(26263);const M=["#3a3a3a","#4c4c4c","#3f3f3f","#2f2f2f"];function R(){return o.createElement("div",{className:"EQJNO"},o.createElement(O.j,{bottomLeft:M[3],bottomRight:M[2],topLeft:M[0],topRight:M[1]}))}var D=n(20165),_=n(21235),V=n(59767),L=n(86438),j=n(91986),N=n(35811),U=n(98612),F=Object.defineProperty,B=Object.prototype.hasOwnProperty,z=Object.getOwnPropertySymbols,H=Object.prototype.propertyIsEnumerable,q=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function W(e){return o.createElement(U.Z,((e,t)=>{for(var n in t||(t={}))B.call(t,n)&&q(e,n,t[n]);if(z)for(var n of z(t))H.call(t,n)&&q(e,n,t[n]);return e})({},e))}W.defaultProps={className:"eYAwO B6YGR"};const $=W;function G(){var e;const{machineIdentifier:t}=(0,u.UO)(),[n,i]=(0,o.useState)(!1),r=(0,d.I0)(),s=(0,o.useMemo)((()=>(0,V.Z)(t)),[t]),a=(0,d.v9)(s),l=null==(e=a.desktop)?void 0:e.settings.find((e=>"AcceptedEULA"===e.id));return(0,o.useEffect)((()=>{const e=window.setInterval((()=>{r((0,D.bc)())}),2e3);return()=>{window.clearInterval(e)}}),[r]),(0,o.useEffect)((()=>{l&&a.isFullOwnedServer&&a.isConnected&&a.isClaimed&&(l.value?(0,j.Z)("home"):(0,j.Z)("serverSetup",{machineIdentifier:a.machineIdentifier}))}),[l,a.isClaimed,a.isConnected,a.isFullOwnedServer,a.machineIdentifier]),(0,o.useEffect)((()=>{const e=window.setTimeout((()=>{i(!0)}),3e5);return()=>{window.clearTimeout(e)}}),[]),o.createElement($,null,o.createElement(N.Z,null,n?o.createElement(L.Z,null,(0,_.Z)("Something went wrong. Make sure the server is available and try again.")):o.createElement(k.Z,{description:(0,_.Z)("Initializing Plex Media Server")},o.createElement(T.Z,null))))}var K=n(76616),X=n(73282),Q=n(22222),J=n(66307),Y=n(42263),ee=n(68225),te=n(81494),ne=n(96543);var ie=n(34510),re=n(39620),se=n(22220),oe=n(68468),ae=n(86076),le=n(98782),ce=n(66654),de=n(58390),ue=n(88548);const he=new ue.Z({interface:["get","set","remove","clear"]});var pe=n(31977),ge=n(15084),me=n(19738);const fe="user/signIn/signInWithAuthToken",ve=(0,pe.Z)(fe),ye={[fe](e,t,n){const{authToken:i,onSignInSuccess:r}=t,o=e.get("user");o.get("isSignedIn")&&o.get("authToken")!==i?te.Z.execute("resetUser").then((()=>he.set("myPlexAccessToken",i))).then((()=>window.location.reload())):function(e,{authToken:t,onSignInSuccess:n}){const i=e.get("cloudServer"),r=e.get("user");s().ajax(i.getXHROptions(v().result(r,"url"),{headers:{"X-Plex-Token":t}})).then((e=>r.signIn(e))).then((()=>{n&&n()})).fail((e=>{const t=(0,ge.Z)(e);g.Z.trigger("show:alert",{message:(0,me.Z)(t)})}))}(e,{authToken:i,onSignInSuccess:r})}};var be=n(42456),Ze=n(71417),Se=n(46935),we=n(79712),Pe=n(32629),Ce=n(91856),xe=n(43473);const Ae=function(){return o.createElement("div",{className:"lDuPy"},o.createElement("div",{className:"qQ06J"}))};var Ee=n(20725),Ie=n(44838),ke=n(55710);var Te=Object.defineProperty,Oe=Object.prototype.hasOwnProperty,Me=Object.getOwnPropertySymbols,Re=Object.prototype.propertyIsEnumerable,De=(e,t,n)=>t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function _e(e){const t=e,{component:n}=t,i=((e,t)=>{var n={};for(var i in e)Oe.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Me)for(var i of Me(e))t.indexOf(i)<0&&Re.call(e,i)&&(n[i]=e[i]);return n})(t,["component"]);return o.createElement(n,((e,t)=>{for(var n in t||(t={}))Oe.call(t,n)&&De(e,n,t[n]);if(Me)for(var n of Me(t))Re.call(t,n)&&De(e,n,t[n]);return e})({className:"yndst"},i))}_e.defaultProps={component:"div"};const Ve=_e,Le="UdP0h",je=function(e){return o.createElement(Ve,null,o.createElement("div",{className:"ISQNC"},(0,_.Z)("You must be signed in for Plex to work properly. If you are not signed in")),o.createElement("ul",{className:"_wt68"},o.createElement("li",{className:Le},(0,_.Z)("Any connections between your media server and players WILL NOT BE SECURE")),o.createElement("li",{className:Le},(0,_.Z)("You may experience degraded streaming performance")),o.createElement("li",{className:Le},(0,_.Z)("It will be more difficult, and sometimes impossible, to find your server and discover players")),o.createElement("li",{className:Le},(0,_.Z)("You will not be able to access your media server from outside your home")),o.createElement("li",{className:Le},(0,_.Z)("You will not be able to access content and many features provided by Plex"))))};var Ne=n(98385),Ue=n(55349);class Fe extends o.Component{constructor(e,t){super(e,t),this.onSwitchToSkipSignInPress=()=>{this.setState({isSkipSignInVisible:!0})},this.onStillTherePress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onStillTherePress()},this.onSignInPress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onSignInPress()},this.state={isSkipSignInVisible:!1}}render(){const{to:e,code:t,signUp:n,isBusy:i,onSkipSignInPress:r}=this.props,s=!(i||t),a=!s,l=this.state.isSkipSignInVisible,c=(0,u.LX)(Ce.Z.location.pathname,{path:xe.Z.serverSetup});return o.createElement(Ee.Z,{autoScroll:!0,className:"kqpn0"},c&&!l?o.createElement(Ie.Z,{className:"wd9jj",kind:Ne._8,onPress:this.onSwitchToSkipSignInPress},(0,_.Z)("What's this?")):null,o.createElement(Ae,null),o.createElement("div",{className:"jQLrf"},l?o.createElement(je,null):null,o.createElement("div",{className:"aN1YV"},a?o.createElement(ke.Z,{className:"no8mf mfBoX r2dcz x5jRQ OMhm8",isSpinning:!t,kind:Ne._8,size:Ue.ln,target:"_blank",to:e,type:"submit",onPress:this.onSignInPress},n?(0,_.Z)("Sign up"):(0,_.Z)("Sign in")):null,s?o.createElement(Ie.Z,{kind:Ne._8,onPress:this.onStillTherePress},(0,_.Z)("Are you still there?")):null)),l?o.createElement(Ie.Z,{className:"n4Yjg",kind:Ne._8,onPress:r},(0,_.Z)("Skip and accept limited functionality")):null)}}const Be=Fe;var ze=Object.defineProperty,He=Object.prototype.hasOwnProperty,qe=Object.getOwnPropertySymbols,We=Object.prototype.propertyIsEnumerable,$e=(e,t,n)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ge={dispatchPreloadPIN:de.fJ,dispatchBeginPolling:de.W$,dispatchStopPolling:de.FN,dispatchSkipSignIn:de.WW};class Ke extends o.Component{constructor(){super(...arguments),this.onSignInPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()},this.onSkipSignInPress=()=>{this.props.dispatchSkipSignIn()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){const e=this.props,{dispatchPreloadPIN:t,dispatchBeginPolling:n,dispatchStopPolling:i,dispatchSkipSignIn:r}=e,s=((e,t)=>{var n={};for(var i in e)He.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qe)for(var i of qe(e))t.indexOf(i)<0&&We.call(e,i)&&(n[i]=e[i]);return n})(e,["dispatchPreloadPIN","dispatchBeginPolling","dispatchStopPolling","dispatchSkipSignIn"]);return o.createElement(Pe.Z,((e,t)=>{for(var n in t||(t={}))He.call(t,n)&&$e(e,n,t[n]);if(qe)for(var n of qe(t))We.call(t,n)&&$e(e,n,t[n]);return e})({component:Be,onSignInPress:this.onSignInPress,onSkipSignInPress:this.onSkipSignInPress,onStillTherePress:this.onStillTherePress},s))}}const Xe=(0,d.$j)(be.Z,Ge)(Ke);var Qe=n(66977),Je=n(4495),Ye=Object.defineProperty,et=Object.prototype.hasOwnProperty,tt=Object.getOwnPropertySymbols,nt=Object.prototype.propertyIsEnumerable,it=(e,t,n)=>t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const rt={dispatchReadStoredPIN:de.Ty};class st extends o.Component{componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!0})}render(){const e=this.props,{pinID:t,dispatchReadStoredPIN:n}=e,i=((e,t)=>{var n={};for(var i in e)et.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&tt)for(var i of tt(e))t.indexOf(i)<0&&nt.call(e,i)&&(n[i]=e[i]);return n})(e,["pinID","dispatchReadStoredPIN"]);return t?o.createElement(Pe.Z,((e,t)=>{for(var n in t||(t={}))et.call(t,n)&&it(e,n,t[n]);if(tt)for(var n of tt(t))nt.call(t,n)&&it(e,n,t[n]);return e})({component:we.Z,pinID:t,replace:!0},i)):o.createElement(Je.Z,null,o.createElement(Qe.Z,null))}}const ot=(0,d.$j)(be.Z,rt)(st);var at=Object.defineProperty,lt=Object.prototype.hasOwnProperty,ct=Object.getOwnPropertySymbols,dt=Object.prototype.propertyIsEnumerable,ut=(e,t,n)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ht=(e,t)=>{for(var n in t||(t={}))lt.call(t,n)&&ut(e,n,t[n]);if(ct)for(var n of ct(t))dt.call(t,n)&&ut(e,n,t[n]);return e};const pt={dispatchResetAuthCodeExchange:de.tD,dispatchSignInWithAuthToken:ve};class gt extends o.Component{componentDidMount(){this.props.dispatchResetAuthCodeExchange()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInWithAuthToken({authToken:this.props.authToken,onSignInSuccess:this.props.signUp?()=>(0,j.Z)("home"):null})}render(){const e=this.props,{providerID:t,errorMessage:n,fatalErrorMessage:i,signUp:r,isPollClient:s,dispatchResetAuthCodeExchange:a,dispatchSignInWithAuthToken:l}=e,c=((e,t)=>{var n={};for(var i in e)lt.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ct)for(var i of ct(e))t.indexOf(i)<0&&dt.call(e,i)&&(n[i]=e[i]);return n})(e,["providerID","errorMessage","fatalErrorMessage","signUp","isPollClient","dispatchResetAuthCodeExchange","dispatchSignInWithAuthToken"]);return i?o.createElement(Se.Z,null):t?o.createElement(Pe.Z,ht({component:we.Z,providerID:t,replace:!0,signUp:r},c)):s?o.createElement(Xe,ht({signUp:r},c)):o.createElement(ot,{signUp:r})}}const mt=(0,d.$j)((function(){return(0,Q.P1)(be.Z,(e=>ht({isPollClient:(0,Ze.Z)()},e)))}),pt)(gt),ft=ce.Z.extend({component:e=>o.createElement(U.Z,null,o.createElement(mt,{signUp:e.signUp}))});var vt=n(54676),yt=n(79567);function bt(e){const t=s().Deferred();return"object"==typeof e&&"then"in e?e.then(t.resolve,t.resolve):t.resolve(e),t.promise()}var Zt=n(92255),St=n(39997),wt=n.n(St);const Pt=y.Z.ItemView.extend({className:"setup-basic-container",template:wt(),ui:{modalContainer:".modal-container",connectCheckbox:"#connect",publishServerCheckbox:"#PublishServerOnPlexOnlineKey",submitBtn:".submit-btn",nextBtn:".next-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-basic-form":"onSubmit","change #PublishServerOnPlexOnlineKey":"onPublishSettingChange"},initialize:function(){v().bindAll(this,"onPlexPassModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.model.isVersionOrNewer("0.9.15.5")?this.changes={PublishServerOnPlexOnlineKey:1}:this.changes={FirstRun:0,PublishServerOnPlexOnlineKey:1};const e=this.model.get("superToken");e&&(this.changes.PlexOnlineToken=e);const t=(0,h.DB)("appModel").get("user").get("hasPlexSubscription");this.isPlexPassModalOpen=!this.model.get("isDesktop")&&!t},serializeData:function(){const e=this.model.toJSON(),t=this.collection.get("FriendlyName"),n=this.collection.get("PublishServerOnPlexOnlineKey");return{server:e,friendlyNameSetting:t?t.toJSON():null,publishSetting:n?n.toJSON():null}},mountReact:function(){c.render(o.createElement(d.zt,{store:(0,h.DB)("appStore")},o.createElement(Zt.Z,{isOpen:this.isPlexPassModalOpen,metricsProperties:{context:vt.uf,firstRun:!0},origin:yt.pp,onModalClose:this.onPlexPassModalClose})),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&c.unmountComponentAtNode(this.ui.modalContainer[0])},submit:function(){const e=this.ui.submitBtn;if(e.hasClass("active"))return;e.addClass("active"),(0,h.DB)("metrics").trackClick({action:re.pg,page:se.YB,pane:"name",firstRun:!0,value:this.ui.publishServerCheckbox.is(":checked")});let t=this.save();t=t.done((()=>{this.ui.nextBtn.click()})),t.always((function(){e.removeClass("active")}))},save(){return this.saveChanges().then((()=>this.claimServer()))},saveChanges(){return(v().isEmpty(this.changes)?s().Deferred().resolve().promise():this.collection.first().save(this.changes)).then(null,(()=>{g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem saving these settings.")})}))},claimServer(){const e=(0,h.DB)("appModel"),t=e.get("cloudServer");return!this.model.supports("claimServer")||this.model.get("isClaimed")||this.model.get("superToken")||e.get("user").get("anonymous")?s().Deferred().resolve().promise():bt(t.populate().then((()=>te.Z.execute("signInServer",{claim:!0,cloudAccount:this.model.get("desktop").get("cloudAccount")}).then(null,(()=>{g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem claiming this server.")})})))))},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()},onInputChange:function(e){const t=e.currentTarget;let n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onPlexPassModalClose:function(){this.isPlexPassModalOpen=!1,this.mountReact()}}),Ct=function(e){return s().when(...e.map(bt))};var xt=n(218),At=n(42440),Et=n.n(At);const It=y.Z.ItemView.extend({className:"setup-complete-container",template:Et(),ui:{modalContainer:".modal-container",submitBtn:".submit-btn",doneBtn:".done-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-complete-form":"onSubmit"},initialize:function(){this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.changes={};const e=h.DB("appModel").get("user");e.get("isSignedIn")?e.fetch().done(this.whenRendered((()=>{this.ui.submitBtn.removeClass("active")}))):this.once("attached",(()=>{this.ui.submitBtn.removeClass("active")}))},serializeData:function(){const e=this.collection.get("collectUsageData");return{devicesImg:xt,collectUsageDataSetting:e?e.toJSON():null}},submit:function(){const e=this.ui.submitBtn;e.hasClass("active")||(e.addClass("active"),this.save().always(this.whenRendered((function(){this.ui.doneBtn.click(),e.removeClass("active")}))))},save:function(){this.saved=!0,v().has(this.changes,"collectUsageData")&&!this.changes.collectUsageData&&h.DB("metrics").trackClick({action:re.mX,page:se.YB,pane:"complete",firstRun:!0});const e=this.collection.first().save(this.changes),t=this.model.get("sections").filter((e=>e.isNew())).map((e=>e.save())),n=s().when(e,Ct(t));return n.fail((()=>{g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem saving these settings.")})})),n},onClose:function(){this.saved||this.save()},onInputChange:function(e){const t=e.currentTarget;let n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()}});var kt=n(79989),Tt=n.n(kt);const Ot=y.Z.ItemView.extend({className:"setup-error-container",template:Tt()});var Mt=n(39842),Rt=n(9905),Dt=n(57849),_t=n(51119),Vt=n.n(_t);const Lt=y.Z.ItemView.extend({className:"setup-intro-container",template:Vt(),serializeData:()=>({computerImg:Mt,mediaImg:Rt,playImg:Dt})});var jt=n(94928),Nt=n(46608),Ut=n(24729),Ft=n(21887),Bt=n.n(Ft);const zt={artist:"music",movie:"film",photo:"picture",show:"display"},Ht=y.Z.ItemView.extend({tagName:"li",className:"card-tile-list-single-item",template:Bt(),events:{"click .edit-section-btn":"onEditClick","click .delete-section-btn":"onDeleteClick"},serializeData:function(){var e;const t=this.model.server,n=this.model.toJSON(),i=null==(e=n.locations)?void 0:e[0],r=n.locations?n.locations.length:0;return{section:n,serverID:t.id,icon:zt[n.type],path:i.path,more:r-1}},bindings:{".section-title":{modelAttribute:"title"}},onEditClick:function(e){e.preventDefault();const t=this.model,n=new Ut.Z({model:t,server:t.server,isDefaultSection:t.isNew()});t.isNew()&&n.promise.always((()=>{t.trigger("destroy",t,t.collection)})),g.Z.trigger("show:modal",n)},onDeleteClick:function(e){e.preventDefault();const t=this.model;t.isNew()?t.trigger("destroy",t,t.collection):te.Z.execute("deleteSection",{section:t})}}),qt=Nt.Z.extend({tagName:"ul",className:"list card-tile-list",itemView:Ht});var Wt=n(41411),$t=n.n(Wt);const Gt=y.Z.Layout.extend({className:"setup-library-container",template:$t(),regions:{list:".setup-section-list-container"},events:{"click .add-section-btn":"onAddSectionClick"},metricsValue:function(){return this.collection.size()},initialize:function(e){const t=this.model,n=t.get("sections"),i=new jt.Z([],{server:t,url:"/services/defaultLibraries"});this.collection=n,this.model.supports("defaultSections")&&e.isFirstVisitToSubset&&s().when(i.populate(),n.populate()).done((()=>{n.length||i.forEach((e=>{e.collection=n,n.add(e)}))}))},onRender:function(){this.list.show(new qt({collection:this.collection}))},onAddSectionClick:function(e){e.preventDefault(),g.Z.trigger("show:modal",new Ut.Z({server:this.model}))}});var Kt=n(32094),Xt=n.n(Kt);const Qt=y.Z.ItemView.extend({className:"setup-loading-container",template:Xt()});var Jt=n(49506),Yt=n.n(Jt);const en={setupIntro:"intro",setupError:"error",setupBasic:"name",setupLibrary:"library",setupComplete:"complete"},tn=[ie.HN,ie.NV,ie.E4],nn=y.Z.Layout.extend({className:"container",template:Yt(),maxAttempts:120,ui:{header:".setup-header"},regions:{container:".setup-container"},events:{"click .segment-btn":"onNavClick","click .next-btn":"onNavClick","click .done-btn":"onDoneClick"},onlyAfterRender:["onAgentsSuccess","onAgentsFail","onUpdatesComplete"],initialize:function(e){v().bindAll(this,"start","onAgentsSuccess","onAgentsFail","onUpdatesComplete","onSkipSignInChange"),this.subset=e.subset||"setupIntro",this.attempts=0,this._visitedSubsets={},ae.Z.info("Starting the setup wizard");const t=(0,h.DB)("appModel");this.model=(0,le.SW)(t,e),this.listenTo(t,"change:skipSignIn",this.onSkipSignInChange)},serializeData:function(){return{subset:this.subset}},renderSubset:function(){if(this.model.get("shared"))return void this.navigate("setupError");const e=(0,h.DB)("appModel"),t=e.get("user").server,n=t.populate();n.done(this.whenRendered((()=>{this.navigate("setupIntro")}))),n.fail((()=>{e.get("primaryServer").get("desktop").get("settings").fetch().then((e=>!0===e.get("AcceptedEULA").get("value")?s().Deferred().resolve():s().Deferred().reject())).then(this.whenRendered((()=>{this.navigate("setupIntro")}))).fail(this.whenRendered((()=>{const n=e.get("skipSignIn"),i=t.get("isUnavailable");this.navigate(n||i?"setupIntro":"setupSignIn")})))}))},start:function(){if(this.attempts>=this.maxAttempts)return ae.Z.error("Failed to start the setup wizard after "+this.attempts+" attempts"),void this.navigate("setupError");this.attempts++;const e=this.model.get("startState");if(e)(0,ae.Z)("Waiting for server to start ("+e+")"),this.model.fetch().done(v().delay(this.start,500));else{const e=new ne.Z([],{server:this.model}).fetch({timeout:0});e.done(this.onAgentsSuccess),e.fail(this.onAgentsFail)}},navigate:function(e){const t="setupIntro"===e,n="setupSignIn"===e,i="setupLoading"===e,r=function(e){return{setupSignIn:ft,setupIntro:Lt,setupLoading:Qt,setupError:Ot,setupBasic:Pt,setupLibrary:Gt,setupComplete:It}[e]}(e),s=en[e];this.previousSubset=this.subset,this.subset=e,s&&(0,h.DB)("metrics").trackView({page:se.YB,pane:s,firstRun:!0});const o=!this._visitedSubsets[e];this._visitedSubsets[e]=!0;const a=new r({model:this.model,isFirstRun:!0,isFirstVisitToSubset:o});this.container.show(a),this.ui.header.toggleClass("hidden",t||n),this.$el.addClass(e),this.previousSubset!==e&&this.$el.removeClass(this.previousSubset),i&&this.start()},onRender:function(){this.renderSubset()},onAgentsSuccess:function(e){(0,ae.Z)("Looking for a core agent");const t=tn.find((t=>e.get(t)));t?((0,ae.Z)(t+" found"),this.model.get("desktop").get("settings").populate().then((e=>e.get("AcceptedEULA").save({AcceptedEULA:!0}))),te.Z.execute("updateChannel",{server:this.model,silent:!0}).always(this.onUpdatesComplete)):(ae.Z.error("No core agents found"),this.navigate("setupError"))},onAgentsFail:function(){ae.Z.warn("Unable to request agents"),v().delay(this.start,500)},onUpdatesComplete:function(){this.navigate("setupBasic")},onNavClick:function(e){e.preventDefault();const t=s()(e.currentTarget),n=t.data("subset");t.hasClass("segment-btn")&&"setupBasic"===this.subset&&this.container.currentView?(e.preventDefault(),this.container.currentView.submit()):this.navigate(n)},onDoneClick:function(e){e.preventDefault(),(0,h.DB)("metrics").trackClick({page:se.YB,action:re.ly,firstRun:!0}),(0,h.DB)("appStore").dispatch((0,D.nL)({url:(0,oe.we)()}))},onSkipSignInChange(){this.renderSubset()}});var rn=n(88936),sn=n(69299),on=n(99778),an=n(65228),ln=n(47397),cn=n(87830);const dn=(0,d.$j)((function(){return(0,Q.P1)((0,ln.Z)(),(e=>{const t=e.settings.find((e=>"AcceptedEULA"===e.id));return{isSettingsPopulated:e.isSettingsPopulated,settingsError:e.settingsError,hasAcceptedEULA:!(!t||!t.value),isAcceptedEULASaving:!(!t||!t.isSaving)}}))}),(function(e,t){const{serverEntityID:n,forwardUrl:i}=t;return{onPopulateSettings(){e((0,an.R_)({serverEntityID:n}))},onAcceptEULA(){e((0,an.o1)({serverEntityID:n,setting:{id:"AcceptedEULA",value:!0}}))},onSkipSignIn(){(0,h.DB)("metrics").trackClick({page:se.H4,action:re.AM,firstRun:!0}),e((0,D.nL)({url:i}))}}}))((function(e){const{isSettingsPopulated:t,settingsError:n,hasAcceptedEULA:i,isAcceptedEULASaving:r,onPopulateSettings:s,onAcceptEULA:a,onSkipSignIn:l}=e;return(0,cn.Z)((()=>{s()})),(0,cn.Z)((()=>{a()}),t&&!i),(0,cn.Z)((()=>{l()}),i&&!r),n?o.createElement(on.Z,{description:(0,_.Z)("The server you're trying to access doesn't seem to exist."),title:(0,_.Z)("Media server not found")}):o.createElement(Je.Z,null,o.createElement(Qe.Z,null))}));var un=n(90616);const hn=(0,d.$j)((function(){return(0,Q.P1)(((e,{serverEntityID:t})=>t),(e=>e.primaryServer),(e=>e.isWaitingForPrimaryServer),J.Z,((e,t,n)=>({serverEntityID:e||t,isWaitingForPrimaryServer:n})))}))((function(e){const{serverEntityID:t,isWaitingForPrimaryServer:n}=e,i=(0,Y.Z)(),r=(0,ee.Z)(i.forwardUrl);return t?o.createElement(sn.Z,{hideUnclaimedPage:!0,serverEntityID:t},r?o.createElement(dn,{forwardUrl:r,serverEntityID:t}):o.createElement(rn.Z,{key:(0,un.Z)("SetupPage",t),className:ps,view:nn,viewOptions:{serverEntityID:t,subset:"setupBasic"}})):n?o.createElement(Je.Z,null,o.createElement(Qe.Z,null)):o.createElement(on.Z,{description:(0,_.Z)("The server you're trying to access doesn't seem to exist."),title:(0,_.Z)("Media server not found")})}));function pn(){const{machineIdentifier:e}=(0,X.Z)(),t=(0,d.v9)((0,K.Z)(e));return o.createElement($,null,o.createElement(N.Z,null,o.createElement(hn,{serverEntityID:t.entityID})))}var gn=n(24533);const mn=(0,Q.P1)(gn.Z,(e=>e.filter((e=>!e.isCloud&&!e.isEmbedded&&!!e.friendlyName))));var fn=n(78283);const vn={},yn=function(e){const t=vn[e]||(0,Q.P1)(fn.Z,(t=>!!t[e]));return vn[e]=t,t};var bn=n(30271),Zn=n(80177),Sn=n(15856),wn=n(80100);n(25368);var Pn=n(4120),Cn=n(89703),xn=n(98458),An=n(25525),En=n(84020),In=n(23889),kn=n(11066),Tn=n(77553),On=n(43655),Mn=n(38737),Rn=n(74576);const Dn=function(e){const{isOpen:t,errorMessage:n,onModalClose:i}=e,r=[n||(0,_.Z)("There was an unexpected error."),(0,_.Z)("Please visit our forums if you continue to experience problems.")];return o.createElement(In.Z,{isOpen:t,metricsPage:se.Sd,size:Ue.HC,onModalClose:i},o.createElement(Tn.Z,{onModalClose:i},o.createElement(Mn.Z,null,(0,_.Z)("There was an unexpected error")),o.createElement(kn.Z,null,r.join(" "),o.createElement("br",null),o.createElement(Ie.Z,{kind:Ne._8,target:"_self",to:An.bB,onPress:i},(0,_.Z)("Go to Forums"))),o.createElement(On.Z,null,o.createElement(En.Z,{className:Rn.Z.button,"data-autofocus":!0,kind:Ne._8,onPress:i},(0,_.Z)("Okay")))))};var _n=n(49118),Vn=n(20764),Ln=n(81985);const jn=function(){const e=(0,_n.Z)(),t=(0,_.Z)("An unexpected error is impacting the navigation bar");return o.createElement("div",{className:"d5Vrk cgzdn"},o.createElement(xn.Z,{"aria-label":t,component:Ie.Z,tooltip:t,tooltipAttachment:Vn.eO,onPress:e.onOpen},o.createElement(Ln.Z,{className:"Hv42T"})),o.createElement(Dn,{errorMessage:`${t}.`,isOpen:e.isOpen,onModalClose:e.onClose}))};var Nn=n(27553),Un=n(97013),Fn=n(85985),Bn=n(11376),zn=n(51544),Hn=n(38167),qn=n(54320),Wn=n(80204),$n=Object.defineProperty,Gn=Object.prototype.hasOwnProperty,Kn=Object.getOwnPropertySymbols,Xn=Object.prototype.propertyIsEnumerable,Qn=(e,t,n)=>t in e?$n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jn=(e,t)=>{for(var n in t||(t={}))Gn.call(t,n)&&Qn(e,n,t[n]);if(Kn)for(var n of Kn(t))Xn.call(t,n)&&Qn(e,n,t[n]);return e};function Yn(e){const t=e,{children:n,className:i}=t,r=((e,t)=>{var n={};for(var i in e)Gn.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Kn)for(var i of Kn(e))t.indexOf(i)<0&&Xn.call(e,i)&&(n[i]=e[i]);return n})(t,["children","className"]);return o.createElement(Ie.Z,Jn(Jn({},r),{className:i}),n)}Yn.defaultProps={className:"O0hHq x5jRQ"};const ei=Yn,ti=function(){const e=(0,u.k6)(),t=(0,o.useCallback)((()=>{e.push(xe.Z.login)}),[e]);return o.createElement(ei,{className:"jQVX4 O0hHq x5jRQ","data-testid":"signInButton",onPress:t},(0,_.Z)("Sign In"))},ni=function(){const e=(0,u.k6)(),t=(0,o.useCallback)((()=>{e.push(xe.Z.signUp)}),[e]);return o.createElement(ei,{"data-testid":"signUpButton",onPress:t},(0,_.Z)("Sign Up"))};var ii=n(94184),ri=n.n(ii),si=n(37018),oi=n(26056),ai=n(97330),li=n(45223),ci=n(32516);function di(e){const{className:t,children:n}=e;return o.createElement("div",{className:t},n)}di.defaultProps={className:"K6VfI"};const ui=di;var hi=n(24296),pi=n(77574),gi=n(43559);const mi=(0,d.$j)((function(){return(0,Q.P1)(bn.Z,J.Z,yn(Sn.je),((e,t,n)=>({username:e.title,isSignedIn:e.signedIn,isRestricted:e.isRestricted,isCloudServerConnected:t.isConnected,isAnonymousUser:!!e.anonymous,isFullUser:e.isFullUser,appsURL:t?t.appsUrl:"https://plex.tv/downloads",hasHomeLibraryAccessLabels:n})))}),(function(e,t){return{onSignInPress(e){e.preventDefault(),(0,j.Z)("login")},onSignOutPress(e){e.preventDefault(),(0,j.Z)("logout")}}}))((function(e){const{isOpen:t,target:n,options:i,username:r,isSignedIn:s,isAnonymousUser:a,isFullUser:l,appsURL:c,isCloudServerConnected:d,onSignInPress:u,onSignOutPress:h,onMenuClose:p,hasHomeLibraryAccessLabels:g}=e,m=d&&(!s||a),f=s&&l&&!a;return o.createElement(ci.Z,{isOpen:t,options:i,size:g?Ue.ln:Ue.M2,target:n,onMenuClose:p},r?o.createElement(ui,null,r):null,s?o.createElement(pi.Z,null):null,d?o.createElement(hi.Z,{target:"_self",to:c,onPress:p},(0,_.Z)("Get Plex Apps")):null,d?o.createElement(hi.Z,{target:"_self",to:An.av,onPress:p},(0,_.Z)("Help")):null,o.createElement(pi.Z,null),m?o.createElement(hi.Z,{onPress:(0,gi.Z)(p,u)},(0,_.Z)("Sign In")):null,f?o.createElement(hi.Z,{onPress:(0,gi.Z)(p,h)},(0,_.Z)("Sign Out")):null)}));class fi extends o.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=(0,ai.Z)()}render(){const{className:e,tooltipClassName:t,tooltipFocusedClassName:n,serverEntityID:i,userThumb:r}=this.props;return o.createElement(o.Fragment,null,o.createElement(xn.Z,{className:e,component:si.Z,direction:this.state.isMenuOpen?li.UP:li.WV,id:this._buttonID,isSelected:!1,tooltip:this.state.isMenuOpen?void 0:(0,_.Z)("Account"),tooltipClassName:t,tooltipFocusedClassName:n,onPress:this.onButtonPress},o.createElement("div",{className:"z5YBr"},o.createElement("div",{className:ri()("Wz4N3",this.state.isMenuOpen&&"Fa0Hu")}),o.createElement(oi.Z,{height:30,serverEntityID:i,url:r,width:30}))),o.createElement(mi,{isOpen:this.state.isMenuOpen,target:this._buttonID,onMenuClose:this.onMenuClose}))}}fi.defaultProps={className:"LOGsx IZ0cW x5jRQ",tooltipClassName:"gRTc1 a1e4c GtJsp If9gp cb5I0 rII2m",tooltipFocusedClassName:"Nqmbw gRTc1 a1e4c GtJsp If9gp cb5I0 rII2m"};const vi=fi;var yi=n(63457);const bi=(0,Q.P1)(yi.Z,(e=>e.libraries));var Zi=n(46611),Si=n(40271),wi=n(1990);const Pi=(0,Si.Z)((0,Q.P1)(Zi.Z,wi.Z,((e,t)=>t[e])),(e=>e)),Ci=(0,n(72059).Z)((0,Q.P1)(gn.Z,(e=>e.filter((e=>e.isFullOwnedServer&&e.isConnected)))),(e=>e)),xi=(0,Q.P1)(Ci,(e=>e.map((e=>e.entityID))));var Ai=n(33024);const Ei=(0,Q.P1)(Ai.Z,(e=>e.dismissedServerUpdateVersions)),Ii=(0,Q.P1)(Ai.Z,(e=>e.serverUpdateDismissedVersion));var ki=n(79154);const Ti={[ki.RG]:!0,[ki.JW]:!0,[ki.sC]:!0,[ki.t6]:!0,[ki.zL]:!0,[ki.Ts]:!0,[ki.nJ]:!0,[ki.y0]:!0,[ki.QX]:!0,[ki.Gh]:!0,[ki.k9]:!0,[ki.TS]:!0,[ki.ZJ]:!0,[ki.K5]:!0,[ki.AA]:!0,[ki._V]:!0,[ki.iJ]:!0};var Oi=n(49112),Mi=n(67201);function Ri(e,t,n){const i=function(e){const t=e.desktop&&e.desktop.update;if(t&&(t.state===Oi.AVAILABLE||t.state===Oi.DOWNLOADED||t.state===Oi.DOWNLOADING||t.state===Oi.NOTIFY))return(0,Mi.Z)(t.version)}(e);return!!(e.isConnected&&e.isFullOwnedServer&&i&&i!==n&&i!==t[e.machineIdentifier])}var Di=n(52366);const _i=(0,Q.P1)(Di.Z,(e=>e.length>0));var Vi=n(27957),Li=n(25787),ji=n(53621),Ni=n(71746),Ui=n(98963);const Fi="postprocessing";var Bi=n(12273);const zi=function(e){const{title:t,subtitle:n,progress:i,isPostProcessing:r}=e;return o.createElement("div",{className:"jwZ3i Q4FVu"},o.createElement("span",{className:"jS3Sd"},o.createElement("span",{className:"tu4Z9",title:t},t,n?":":null),n?o.createElement("span",{className:"Uyyik",title:n},n):null),o.createElement("span",null,null==i||r?o.createElement(Qe.Z,{size:Ue.HC}):o.createElement(Bi.Z,{lineWidth:2,progress:i,showProgressText:!1,size:18})))},Hi="qiUZl",qi="xXcb0";function Wi(e){const{labelClassName:t,label:n,indicator:i}=e;return o.createElement(hi.Z,{className:"X8md1 jwZ3i Q4FVu",to:null==e?void 0:e.to,onPress:null==e?void 0:e.onPress},o.createElement("span",{className:t},n),i?o.createElement("span",{className:"Jj0bR"},i):null)}const $i=(0,d.$j)((function(){return(0,Q.P1)((0,ji.Z)(),(0,Li.Z)(),(0,Q.P1)((0,ln.Z)(),(e=>e.backgroundTranscodeJobs?e.backgroundTranscodeJobs:[])),(0,Q.P1)((0,ln.Z)(),(e=>e.activities?e.activities:[])),(0,Q.P1)(((e,{serverEntityID:t})=>t),Di.Z,((e,t)=>t.some((([,t])=>e===t)))),Ei,Ii,Vi.Z,((e,t,n,i,r,s,o,a)=>({friendlyName:e.friendlyName,machineIdentifier:e.machineIdentifier,providerEntityID:e.providers.map((e=>a[e])).find((e=>e.identifier===Ni.Y3)).entityID,sessionsCount:t,backgroundTranscodeJobs:n,activities:i,showLibraryUpgradeAvailable:r,showUpdateAvailable:Ri(e,s,o)})))}))((function(e){const{friendlyName:t,machineIdentifier:n,sessionsCount:i,backgroundTranscodeJobs:r,activities:s,showUpdateAvailable:a,onMenuClose:l}=e,c=(0,o.useCallback)((()=>{(0,j.L)(n),l()}),[n,l]);return o.createElement("div",{className:"RpUEJ"},o.createElement("div",{className:"VGqVJ"},t),o.createElement(Wi,{indicator:i?`${i}`:null,label:(0,_.Z)("Dashboard"),to:`#!/server/${n}/status/server-dashboard`,onPress:l}),r.length?o.createElement(Wi,{indicator:`${r.length}`,label:(0,_.Z)("Conversions"),to:`#!/server/${n}/status/conversion`,onPress:l}):null,s.length?s.map((e=>{const{uuid:t,type:n,title:i,subtitle:r,progress:s,Context:a={}}=e;return Ti[n]?o.createElement(zi,{key:t,isPostProcessing:a.status===Fi,progress:s,subtitle:r,title:i}):null})):null,a?o.createElement(Wi,{indicator:o.createElement("div",{className:Hi},o.createElement(Ui.D,null)),label:(0,_.Z)("Server Update Available"),labelClassName:qi,to:`#!/server/${n}/update`,onPress:l}):null,e.showLibraryUpgradeAvailable?o.createElement(Wi,{indicator:o.createElement("div",{className:Hi},o.createElement(Ui.D,null)),label:(0,_.Z)("Upgrade Libraries"),labelClassName:qi,onPress:c}):null)}));var Gi=n(71065);const Ki=(0,d.$j)((function(){return(0,Q.P1)((0,ln.Z)(),(e=>({activities:e&&e.activities?e.activities.filter((e=>Ti[e.type])):[]})))}))((function(e){const{activities:t,onMenuClose:n}=e;return t.length?o.createElement("div",{className:"_6VjBC RpUEJ"},o.createElement("div",{className:"EioCA VGqVJ"},o.createElement(Ie.Z,{to:Gi.Z.join("#!/downloads",undefined),onPress:n},(0,_.Z)("Downloads"))),t.map((e=>{const{uuid:t,title:n,subtitle:i,progress:r,Context:s={}}=e;return o.createElement(zi,{key:t,isPostProcessing:s.status===Fi,progress:r,subtitle:i,title:n})}))):null})),Xi={placement:"bottom-end"},Qi=function(e){const{isOpen:t,target:n,embeddedServerEntityID:i,ownedServerEntityIDs:r,onMenuClose:s}=e;return o.createElement(ci.Z,{className:"duuJG CgKY7",isOpen:t,options:Xi,target:n,onMenuClose:s},r.map((e=>o.createElement($i,{key:e,serverEntityID:e,onMenuClose:s}))),i?o.createElement(Ki,{key:i,serverEntityID:i,onMenuClose:s}):null)};var Ji=n(61775),Yi=n(31300),er=n(60489),tr=n(33237);const nr=function({className:e,showSpinner:t,showHighlighted:n,showUpdateIcon:i}){return o.createElement("span",{className:ri()(e,"gT56r")},t?o.createElement(Qe.Z,{className:"WUBgv dHO6j m_4Rc",color:tr.Z.primaryAlternateColor}):null,n?o.createElement(Yi.C,null):null,!n&&i?o.createElement(Ui.D,null):null,n||i?null:o.createElement(er.z,null))};var ir=n(14710);var rr=Object.defineProperty,sr=Object.prototype.hasOwnProperty,or=Object.getOwnPropertySymbols,ar=Object.prototype.propertyIsEnumerable,lr=(e,t,n)=>t in e?rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cr=(e,t)=>{for(var n in t||(t={}))sr.call(t,n)&&lr(e,n,t[n]);if(or)for(var n of or(t))ar.call(t,n)&&lr(e,n,t[n]);return e};function dr(e){const t=e,{className:n,tooltipClassName:i,tooltipFocusedClassName:r,labelClassName:s,iconComponent:a,title:l,ariaLabel:c,label:d,iconProps:u}=t,h=((e,t)=>{var n={};for(var i in e)sr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&or)for(var i of or(e))t.indexOf(i)<0&&ar.call(e,i)&&(n[i]=e[i]);return n})(t,["className","tooltipClassName","tooltipFocusedClassName","labelClassName","iconComponent","title","ariaLabel","label","iconProps"]),p=l||c;return o.createElement(xn.Z,cr({"aria-label":p,className:n,component:Ie.Z,tooltip:l,tooltipClassName:i,tooltipFocusedClassName:r},h),o.createElement(a,cr({},u)),d?o.createElement("span",{className:s},d):null)}dr.defaultProps={className:"fa3uy LHQ7Y",tooltipClassName:"o48En a1e4c GtJsp If9gp cb5I0 rII2m",tooltipFocusedClassName:"O5ZA3 o48En a1e4c GtJsp If9gp cb5I0 rII2m"};const ur=dr;var hr=Object.defineProperty,pr=Object.prototype.hasOwnProperty,gr=Object.getOwnPropertySymbols,mr=Object.prototype.propertyIsEnumerable,fr=(e,t,n)=>t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const vr={sessionsCount:0,backgroundTranscodeJobsCount:0,activitiesCount:0};function yr(e,t){return e.reduce(((e,n)=>{const{backgroundTranscodeJobs:i=[],activities:r=[]}=n.desktop,s=t[n.machineIdentifier],o=null==s?void 0:s.sessionKeys.length,a=i.length,l=r.filter((e=>!!Ti[e.type])).length;return o>0&&(e.sessionsCount+=o),a>0&&(e.backgroundTranscodeJobsCount+=a),l>0&&(e.activitiesCount+=l),e}),((e,t)=>{for(var n in t||(t={}))pr.call(t,n)&&fr(e,n,t[n]);if(gr)for(var n of gr(t))mr.call(t,n)&&fr(e,n,t[n]);return e})({},vr))}const br=(0,Q.P1)(Ci,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>yr(e,t))),Zr=(0,Q.P1)(Pi,(e=>e.v4.core.serverNowPlayingSessions),((e,t)=>e?yr([e],t):vr)),Sr=(0,Q.P1)(br,Zr,((e,t)=>({activitiesCount:e.activitiesCount+t.activitiesCount,backgroundTranscodeJobsCount:e.backgroundTranscodeJobsCount+t.backgroundTranscodeJobsCount,sessionsCount:e.sessionsCount+t.sessionsCount}))),wr=(0,Q.P1)(Ci,bi,((e,t)=>e.reduce(((e,n)=>{const{libraries:i}=n.desktop;return e+i.filter((e=>{const n=t[e];return!!n&&n.refreshing})).length}),0))),Pr=(0,Q.P1)(Ci,Ei,Ii,((e,t,n)=>e.some((e=>Ri(e,t,n))))),Cr=(0,d.$j)((function(){return(0,Q.P1)(((e,{isDisabled:t})=>!!t),Zi.Z,xi,Sr,wr,Pr,((e,t,n,i,r,s)=>{const o=n.length>0;let a=o;return t&&(a=!0,e=e||!o&&i.sessionsCount+i.backgroundTranscodeJobsCount+i.activitiesCount===0),{isDisabled:e,embeddedServerEntityID:t,ownedServerEntityIDs:n,showActivityButton:a,hasSessions:i.sessionsCount>0,hasConversions:i.backgroundTranscodeJobsCount>0,hasActivities:i.activitiesCount>0,hasAvailableServerUpdate:s,hasLibraryRefreshing:r>0,activityButtonCount:i.sessionsCount+i.backgroundTranscodeJobsCount}}))}))((function(e){const{activityButtonCount:t,embeddedServerEntityID:n,hasActivities:i,hasAvailableServerUpdate:r,hasConversions:s,hasLibraryRefreshing:a,hasSessions:l,isDisabled:c,ownedServerEntityIDs:u}=e,h=(0,d.v9)(_i),p=(0,Ji.Z)(),[g,m]=(0,o.useState)(!1),f=(0,o.useCallback)((()=>{m(!g)}),[g]),v=(0,o.useCallback)((()=>{m(!1)}),[]),y=i||a,b=l||s,Z=!b&&!t&&(r||h);return(0,o.useEffect)((()=>{c&&g&&v()}),[c,g,v]),o.createElement(o.Fragment,null,o.createElement(ur,{ariaLabel:(0,_.Z)("Activity"),className:ri()("bBF2y fa3uy LHQ7Y",(b||Z)&&"l0h1v"),iconComponent:nr,iconProps:{className:"zdedE gT56r",showSpinner:y,showHighlighted:b,showUpdateIcon:Z},id:p,isDisabled:c,label:t?String(t):void 0,labelClassName:"R0Io4",title:g?void 0:(0,_.Z)("Activity"),onPress:f}),o.createElement(Qi,{embeddedServerEntityID:n,isOpen:g,ownedServerEntityIDs:u,target:p,onMenuClose:v}))}));var xr=n(59140);class Ar extends o.Component{constructor(e,t){super(e,t),this.onButtonPress=e=>{const{shouldBypassModal:t}=this.props;(0,h.DB)("metrics").trackEvent({event:xr.Jw,interaction:!0,context:{experiments:{"upsell-experiment":t?"direct":"in-app"}}}),t||this.setState({isPlexPassModalOpen:!0})},this.onModalClose=e=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){const{shouldBypassModal:e}=this.props,t=Gi.Z.join((0,oe.LL)("/plex-pass/purchase"),{utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01",utm_content:yt.uh});return o.createElement(o.Fragment,null,o.createElement(ei,{target:"_blank",to:e?t:void 0,onPress:this.onButtonPress},(0,_.Z)("Go Premium")),o.createElement(Zt.Z,{isOpen:this.state.isPlexPassModalOpen,metricsProperties:{context:vt.uh},origin:yt.uh,onModalClose:this.onModalClose}))}}const Er=Ar,Ir={container:"cgzdn",side:"FVw8d",plexLogo:"c3WX2 fa3uy LHQ7Y",buttonSeparator:"iJOQ4",accountButton:"pipOk LOGsx IZ0cW x5jRQ",left:"OuWyU FVw8d",right:"crowu FVw8d"},kr=function(e=wn.Z){return"ios"===e.platformID}(),Tr=(0,Q.P1)((e=>e.isFullscreen),(e=>e)),Or=(0,Q.P1)((e=>e.downloads&&e.downloads.subscriptions),(e=>!!e&&e.length>0)),Mr=(0,Q.P1)(mn,(e=>e.some((e=>e.isConnected)))),Rr=(0,d.$j)((function(){return(0,Q.P1)((e=>e.history),bn.Z,Tr,(0,Q.P1)(J.Z,Or,Mr,((e,t,n)=>!!e&&(e.isResolved||t||n))),yn(Sn.Oo),((e,t,n,i,r)=>({serverEntityID:(0,Pn.Z)(Cn.SERVER,Zn.X),hasHistory:e.length>1,userThumb:t.thumb,isFullscreen:n,isAnonymousUser:!!t.anonymous,canGoPremium:t.canGoPremium,shouldBypassPlexPassUpsellModal:r,canNavigateHistory:kr,shouldRender:i})))}),(function(e,t){return{onBackPress(t){e((0,D.n)())},onEnterFullscreen(e){(0,h.DB)("fullscreenManager").enter()},onExitFullscreen(e){(0,h.DB)("fullscreenManager").exit()}}}))((function(e){const{serverEntityID:t,hasHistory:n,userThumb:i,canEnterFullscreen:r,canExitFullscreen:s,isAnonymousUser:a,canGoPremium:l,shouldBypassPlexPassUpsellModal:c,canNavigateHistory:u,shouldRender:h,onBackPress:p,onEnterFullscreen:g,onExitFullscreen:m}=e,f=(0,d.v9)(Wn.Z);if(!h)return null;const v=(0,un.Z)("NavBar",f);return o.createElement("div",{key:v,className:Ir.container},o.createElement(Hn.X,{align:qn.xM.Left,grow:!0,height:"100%",verticalAlign:qn.xM.Center},o.createElement(ur,{className:Ir.firstButton,iconComponent:Nn.A,title:(0,_.Z)("Home"),to:(0,oe.we)()}),o.createElement(Ie.Z,{className:Ir.plexLogo,to:(0,oe.we)()},o.createElement(Un.D,null)),u?o.createElement(ur,{iconComponent:Fn.v,isDisabled:!n,title:(0,_.Z)("Back"),onPress:p}):null),o.createElement("div",{className:Ir.right},l?o.createElement(Er,{shouldBypassModal:c}):null,a?o.createElement(o.Fragment,null,o.createElement(ti,null),o.createElement(ni,null)):null,l||a?o.createElement("div",{className:Ir.buttonSeparator}):null,s?o.createElement(ur,{iconComponent:Bn.Y,title:(0,_.Z)("Exit Full Screen"),onPress:m}):null,r?o.createElement(ur,{iconComponent:zn.N,title:(0,_.Z)("Enter Full Screen"),onPress:g}):null,r||s?o.createElement("div",{className:Ir.buttonSeparator}):null,o.createElement(Cr,null),o.createElement(vi,{className:Ir.accountButton,serverEntityID:t,userThumb:a?null:i})))}));class Dr extends o.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){ae.Z.error(e)}render(){return this.state.hasError?o.createElement(jn,null):o.createElement(Rr,null)}}const _r=Dr;var Vr=n(16916),Lr=n(44738),jr=n(43569);const Nr=function(){const e=(0,d.I0)(),t=(0,d.v9)(Vr.Z),{available:n,isResolved:i,isRejected:r}=(0,d.v9)(J.Z),s=(0,jr.Z)(n),a=!0===n||!1===n,l=!0!==s&&!1!==s;return(0,cn.Z)((()=>{e((0,D._K)())})),(0,o.useEffect)((()=>{l&&a&&e((0,D._K)())}),[e,a,l]),i?t?o.createElement(mt,null):o.createElement(u.l_,{to:xe.Z.home}):r&&a?n?o.createElement(mt,null):o.createElement(Lr.Z,null):o.createElement(k.Z,null,o.createElement(T.Z,null))};var Ur=n(36652),Fr=n(85795),Br=n(4426);var zr=Object.defineProperty,Hr=Object.prototype.hasOwnProperty,qr=Object.getOwnPropertySymbols,Wr=Object.prototype.propertyIsEnumerable,$r=(e,t,n)=>t in e?zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Gr(e){var t=e,{children:n,innerClassName:i}=t,r=((e,t)=>{var n={};for(var i in e)Hr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&qr)for(var i of qr(e))t.indexOf(i)<0&&Wr.call(e,i)&&(n[i]=e[i]);return n})(t,["children","innerClassName"]);return o.createElement(Br.Z,((e,t)=>{for(var n in t||(t={}))Hr.call(t,n)&&$r(e,n,t[n]);if(qr)for(var n of qr(t))Wr.call(t,n)&&$r(e,n,t[n]);return e})({className:"t0i7E"},r),o.createElement("div",{className:i},n))}Gr.defaultProps={innerClassName:"ZdrJU"};const Kr=Gr;var Xr=n(53311);var Qr=Object.defineProperty,Jr=Object.prototype.hasOwnProperty,Yr=Object.getOwnPropertySymbols,es=Object.prototype.propertyIsEnumerable,ts=(e,t,n)=>t in e?Qr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ns=function(e){return o.createElement(Je.Z,((e,t)=>{for(var n in t||(t={}))Jr.call(t,n)&&ts(e,n,t[n]);if(Yr)for(var n of Yr(t))es.call(t,n)&&ts(e,n,t[n]);return e})({className:"DeXf3 BmNjQ",contentClassName:"g4Fv4 Ocumg",scrollDirection:Xr.Hn},e))};class is extends o.Component{static getDerivedStateFromProps(e,t){return e.isSignedIn&&!t.isSigningOut?{isSigningOut:!0}:null}constructor(e,t){super(e,t),this.state={isSigningOut:!1}}componentDidMount(){this.state.isSigningOut&&this.props.onSignOut()}componentDidUpdate(e,t){this.state.isSigningOut&&!t.isSigningOut&&this.props.onSignOut()}render(){return o.createElement(Fr.Z,{metricsPage:se.dp},o.createElement(Kr,null,o.createElement(ns,null,o.createElement(Qe.Z,null))))}}const rs=is,ss=(0,Q.P1)(bn.Z,(({isSignedIn:e})=>({isSignedIn:e}))),os=(0,d.$j)(ss,(function(e){return{onSignOut(){te.Z.execute("signOut").then((()=>{e((0,D.im)({route:"login",replace:!0}))}))}}}))(rs),as=o.lazy((()=>n.e(155).then(n.bind(n,42155)))),ls=o.lazy((()=>n.e(357).then(n.bind(n,28357)))),cs=o.lazy((()=>n.e(559).then(n.bind(n,9635)))),ds=o.lazy((()=>Promise.all([n.e(274),n.e(154),n.e(675)]).then(n.bind(n,70638)))),us=o.lazy((()=>n.e(952).then(n.bind(n,61952)))),hs=o.lazy((()=>Promise.all([n.e(274),n.e(960),n.e(154),n.e(322)]).then(n.bind(n,66375)))),ps="scroll-container dark-scrollbar";function gs(){return function(){const e=(0,d.I0)(),t=(0,u.TH)();(0,o.useEffect)((()=>{e((0,D.$e)())}),[t,e])}(),function(){const e=(0,d.I0)(),t=(0,u.k6)();(0,o.useEffect)((()=>(e((0,D.xM)({location:{pathname:t.location.pathname,search:t.location.search}})),t.listen((t=>{e((0,D.xM)({location:{pathname:t.pathname,search:t.search}}))})))),[e,t])}(),o.createElement(o.Fragment,null,o.createElement(R,null),o.createElement(I.Z,null,o.createElement(o.Suspense,{fallback:o.createElement($,null,o.createElement(k.Z,null,o.createElement(T.Z,null)))},o.createElement(u.rs,null,o.createElement(u.l_,{exact:!0,from:xe.Z.serverSettingsPMS,to:(0,u.Gn)(xe.Z.serverSettings,{machineIdentifier:":machineIdentifier",settingsSection:"status",settingsGroup:"server-dashboard"})}),o.createElement(u.AW,{component:pn,exact:!0,path:xe.Z.serverSetup}),o.createElement(u.AW,null,o.createElement("div",null,o.createElement(_r,null)),o.createElement("div",{className:ps},o.createElement(I.Z,null,o.createElement(o.Suspense,{fallback:o.createElement($,null,o.createElement(k.Z,null,o.createElement(T.Z,null)))},o.createElement(u.rs,null,o.createElement(u.AW,{component:as,exact:!0,path:xe.Z.home}),o.createElement(u.AW,{component:G,exact:!0,path:xe.Z.serverAwait}),o.createElement(u.AW,{exact:!0,path:xe.Z.logout},o.createElement($,null,o.createElement(os,null))),o.createElement(u.AW,{exact:!0,path:xe.Z.login},o.createElement($,null,o.createElement(Nr,null))),o.createElement(u.AW,{exact:!0,path:xe.Z.signUp},o.createElement($,null,o.createElement(mt,{signUp:!0}))),o.createElement(u.AW,{component:ls,exact:!0,path:xe.Z.info}),o.createElement(u.AW,{component:cs,exact:!0,path:xe.Z.logs}),o.createElement(u.AW,{component:ds,exact:!0,path:xe.Z.playHistory}),o.createElement(u.AW,{component:us,exact:!0,path:xe.Z.serverUpdate}),o.createElement(u.AW,{component:hs,exact:!0,path:xe.Z.serverSettings}),o.createElement(u.AW,{component:Ur.Z}))))))))))}const ms={PUT:!0,DELETE:!0},fs={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},vs=/^(text\/plain|multipart\/form-data|application\/x-www-form-urlencoded)/,ys=/(^X-Plex-[^=]+)/i,bs=/(^[^?]+)\?(.+$)/;function Zs(e){const{type:t,contentType:n,headers:i,allowHeadersInUrl:r,allowBlacklistedMethodHeaders:s}=e;if(!r)return;if(ms[t]&&!s)return;const o={};let a=!1;if(v().each(i,((e,t)=>{fs[t]||(ys.test(t)?(a=!0,o[t]=e,delete i[t]):ae.Z.warn('Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',t))})),a){const n=e.url.match(bs),[,i,r]=n||[null,e.url,null],s=r?r.split("&"):[],[a,l]=v().partition(s,(e=>ys.test(e))),c=e.data;"GET"===t&&c&&(l.push(v().isString(c)?c:Gi.Z.stringifyParams(c)),delete e.data),a.forEach((e=>{const t=e.match(ys);t&&delete o[t[1]]}));const d=Gi.Z.stringifyParams(o);d&&a.push(d),e.url=`${i}?${l.concat(a).join("&")}`}n&&!vs.test(n)&&ae.Z.warn('Sending %s request with Content-Type "%s". This can result in an unnecessary OPTIONS preflight request.',t,n)}var Ss=n(81560);function ws(){return s().ajaxPrefilter(Zs),Ss.Z.startListening(),s().Deferred().resolve().promise()}const Ps=[];var Cs=n(49521),xs=n(2932);const As=function(){if(!Cs.Z.hasReplaceState)return s().Deferred().resolve().promise();const e=s().Deferred(),t=window.location,n=xs.Z.parseQueryString(t.search);let i;try{i=JSON.parse(n.alerts),delete n.alerts}catch(e){}if(i){Ps.push(...i);const e=`${Gi.Z.join([`${t.origin}${t.pathname}`],n)}${t.hash}`;window.history.replaceState({},"",e)}return e.resolve().promise()};var Es=n(90379);function Is(e){return v().isString(e)&&e.trim().length>0}function ks(e,t){const n=(0,Es.Z)();return(0,ae.Z)("[appModelInitializer] Generating new %s [%s]",t,n),e.set(t,n),he.set(t,n)}function Ts(e,t){let n;const i=e.get(t);return Is(i)?n=he.set(t,i):(n=he.get(t),n=n.then((n=>{if(!Is(n))return ae.Z.error("[appModelInitializer] Invalid %s found in storage [%s]",t,i),ks(e,t);e.set(t,n)}),(()=>((0,ae.Z)("[appModelInitializer] Failed to read %s from storage",t),ks(e,t))))),n}function Os(e){const t=he.get("skipSignIn");return t.always((t=>{e.set("skipSignIn","1"===t)})),t}function Ms(){const e=(0,h.DB)("appModel");return Ct([Ts(e,"clientID"),Ts(e,"anonymousClientID"),Os(e)])}var Rs=n(34755);const Ds=Rs.Z.extend({supportsRetry:e=>e.get("isCloud")});var _s=n(78149),Vs=n(59695),Ls=n(60964);const js=p.Z.extend({lastModified:null,eTag:null,mixins:m.Z,url:function(){const e=h.DB("appModel"),t=e.get("user"),n="/sub/"+this.requestType+"/"+t.id+"/"+e.get("clientID"),i=new Vs.Z({scheme:"websockets"===this.requestType?"wss":"https",address:"pubsub.plex.tv"});return this.server.resolveUrl(n,{connection:i,appendToken:!0})},initialize:function(e){v().bindAll(this,"onSocketOpen","onSocketClose","onSocketError","onSocketMessage","onPingTimeout","onPollSuccess","onPollError"),this.server=e.server},open:function(){return(this.socket||this.pollRequest)&&this.close(),Cs.Z.hasWebSocket?(this._deferred=s().Deferred(),this.requestType="websockets",this.socket=new window.WebSocket(v().result(this,"url")),this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.onSocketMessage,this._deferred.promise()):this.poll()},close:function(){this.pollRequest&&(Ss.Z.abort(this.pollRequest.rid),this.pollRequest=null),this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject(),this.socket&&(this.cancelPing(),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null)},schedulePing:function(){this.cancelPing(),this._pingTimeoutID=window.setTimeout(this.onPingTimeout,3e4)},cancelPing:function(){this._pingTimeoutID&&(window.clearTimeout(this._pingTimeoutID),this._pingTimeoutID=null)},poll:function(){this.requestType="longpolling",this.pollUrl=Gi.Z.join(v().result(this,"url"),{ttl:String(30)+"s"});const e=this.server.getXHROptions(this.pollUrl,{timeout:35e3});return e.headers["If-Modified-Since"]=this.lastModified?this.lastModified:"Thu, 01 Jan 1970 00:00:00 GMT",this.eTag&&(e.headers["If-None-Match"]=this.eTag),this.pollRequest=s().ajax(e).done(this.onPollSuccess).fail(this.onPollError),this.pollRequest.promise()},handleResponse:function(e){if(!e)return;const t=Ls.Z.parseXML(e);if(v().isObject(t)){const e=t.command;g.Z.trigger(`cloudServer:${e}`,t)}},onSocketOpen:function(e){this.server.set("hasEventConnection",!0),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e),this.schedulePing()},onSocketClose:function(e){this.close(),this.server.set("hasEventConnection",!1),this.trigger("close",this.server,e),this._deferred.reject(this.server,e)},onSocketError:function(e){this.close(),this.trigger("error",this.server,e),this._deferred.reject(this.server,e)},onSocketMessage:function(e){this.handleResponse(e.data)},onPingTimeout:function(){this._pingTimeoutID=null,this.socket.send("hello"),this.schedulePing()},onPollSuccess:function(e,t,n){this.trigger("open",this.server,e),this.lastModified=n.getResponseHeader("Last-Modified"),this.eTag=n.getResponseHeader("ETag"),this.handleResponse(e),this.poll()},onPollError:function(e,t){"abort"===t?this.poll():this.pollRequest.aborting||this.trigger("error",this.server,e)}});function Ns(e){return e.get("isCloud")}const Us=function(e){return(0,h.DB)("serverConnectionTestManager").queueConnectionTest(e)},Fs=function(e){return(0,h.DB)("serverConnectionTestManager").abortConnectionTest(e)},Bs=function(e){const{server:t,connection:n}=e;if(t.id)return s().Deferred().resolve(t.id).promise();const i=t.resolveUrl("/identity",{connection:n}),r=v().extend(t.getXHROptions(i),{timeout:t.connectionTestTimeout});(0,ae.Z)(`[Identity] Requesting the machine identifier of ${t.get("debugName")} at ${i}`);let o=s().ajax(r).promise();return o=o.then((e=>{const n=s().Deferred(),i=xs.Z.parseXML(e),r=i&&i.machineIdentifier;return r?((0,ae.Z)(`[Identity] Machine identifier found for ${t.get("debugName")}: ${r}`),!t.collection||t.collection.get(r)?n.resolve(r):(t.collection.populateServer({isCloud:!0}).done((e=>{e.get("resources").populate().always((()=>{n.resolve(r)}))})),t.collection.findServer({isCloud:!0}).done((e=>{e.populate().fail((()=>{n.resolve(r)}))})).fail((()=>{n.resolve(r)})))):n.reject(),n.promise()})),o.fail((()=>{ae.Z.warn(`[Identity] Machine identifier not found for ${t.get("debugName")} at ${i}`)})),o};var zs=n(5027);const Hs=function(e){let t,n;return e.item?(t=e.item,n=[t]):(n=e.items,t=n[0]),s().when.apply(s(),v().map(n,(function(e){const n="/library/metadata/"+e.id+"/refresh",i=v().extend(t.server.getXHROptions(n),{type:"PUT"});return s().ajax(i).promise()}))).fail((function(e){503===e.status?g.Z.trigger("show:modal",new zs.Z({model:t.server})):g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem refreshing.")})}))},qs=function(e){const t=e.items;return s().when.apply(s(),v().map(t,(function(e){const t="/library/metadata/"+e.id+"/analyze",n=v().extend(e.server.getXHROptions(t),{type:"PUT"});return s().ajax(n).promise()})))};var Ws=n(32846);const $s=function(e){const t=s().Deferred(),n=e.section,i="/library/sections/"+n.id+"/analyze",r=v().extend(n.server.getXHROptions(i),{type:"PUT"}),o=new Ws.Z({title:(0,_.Z)("Analyze Library"),message:(0,_.Z)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:(0,_.Z)("Analyze"),cancelLabel:(0,_.Z)("Cancel"),async:!0}),a=o.promise;return a.done((function(){const e=s().ajax(r);e.done((function(){t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem analyzing the library.")}),t.reject(e)})),e.always((function(e){o.hide()}))})),a.fail((function(){t.reject()})),g.Z.trigger("show:modal",o),t.promise()},Gs=function(e){const t=e.item,n="/library/metadata/"+t.id+"/unmatch",i=v().extend(t.server.getXHROptions(n),{type:"PUT"}),r=s().ajax(i);return r.fail((function(){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem unmatching this item.")})})),r.promise()},Ks=function(e){const t=s().Deferred(),n=e.item,i="/library/metadata/"+n.id+"/split",r=new Ws.Z({title:(0,_.Z)("Split Apart"),message:(0,_.Z)("Are you sure you want to split this item apart?"),async:!0}),o=r.promise;return o.done((function(){const o=v().extend(n.server.getXHROptions(i),{type:"PUT"}),a=s().ajax(o);a.done((function(){const i=n.get("type");let r;r="show"===i||"artist"===i||"album"===i?"Location":"Media",n.set(r,n.get(r).slice(0,1)),e.skipNavigate||(0,h.DB)("appStore").dispatch((0,D.n)()),t.resolve()})),a.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem splitting this item apart.")}),t.reject(e)})),a.always((function(e){r.hide()}))})),o.fail((function(){t.reject()})),g.Z.trigger("show:modal",r),t.promise()},Xs=function(e){const t=s().Deferred(),n=e.item,i=v().pluck(e.items,"id").join(","),r="/library/metadata/"+n.id+"/merge?ids="+i,o=v().extend(n.server.getXHROptions(r),{type:"PUT"}),a=new Ws.Z({title:(0,_.Z)("Merge"),message:(0,_.Z)("Are you sure you want to merge these items together?"),async:!0}),l=a.promise;return l.done((function(){const e=s().ajax(o);e.done((function(){t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem merging these items.")}),t.reject(e)})),e.always((function(e){a.hide()}))})),l.fail((function(){t.reject()})),g.Z.trigger("show:modal",a),t.promise()};var Qs=n(50958);function Js(e,t){return v().map(e,(function(e){return te.Z.execute("deleteItem",{item:e,skipRedirect:t})}))}const Ys=function(e){let t=e.items,n=e.item;const i=e.skipConfirmation,r=e.skipRedirect;t||(t=[n]),n||(n=v().first(t));const o=n.get("Media");if(1===t.length&&o.length>1&&!n.get("remoteMedia")&&n.server.supports("specificMediaDeletion"))return te.Z.execute("deleteMediaItem",{item:n});let a;if(i)a=s().when.apply(s(),Js(t,r));else{const e=function(e){const t=e.item,n=e.items,i=n.length>1,r=t.get("remoteMedia"),s=t.get("type"),o=Qs.nW(s);let a,l;r&&!i?(a=o.title,l=(0,_.Z)("Are you sure you want to remove {1}?",t.get("title"))):i&&n.every((e=>e.get("remoteMedia")))?(a=o.plural,l=(0,_.Z)("Are you sure you want to remove {1} items?",n.length)):s===Qs.du?(a=o.title,l=(0,_.Z)("Are you sure you want to delete {1}? This cannot be undone.",t.get("title"))):i?(a=o.plural,l=(0,_.Z)("Are you sure you want to delete {1} items from your filesystem?",n.length)):(a=o.title,l=(0,_.Z)("Are you sure you want to delete this item from your filesystem?"));const c={title:r?(0,_.Z)("Remove {typeLabel}",{typeLabel:a}):(0,_.Z)("Delete {typeLabel}",{typeLabel:a}),message:l,confirmLabel:r?(0,_.Z)("Remove"):(0,_.Z)("Delete"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0};(i||Qs.O3(s))&&(c.requireDoubleConfirm=!0,c.doubleConfirmMessage=r?(0,_.Z)("Multiple files may be removed."):(0,_.Z)("Multiple items may be deleted."),c.doubleConfirmLabel=(0,_.Z)("Yes, I'm sure"));const d=new Ws.Z(c);return g.Z.trigger("show:modal",d),d}({item:n,items:t});a=e.promise.then((function(){return s().when.apply(s(),Js(t,r)).always((function(){e.hide()}))}))}return a};var eo=n(98759);const to=eo.Z.extend({className:"select-modal modal modal-sm fade",events:v().extend({"click a":"onClick"},eo.Z.prototype.events),initialize:function(){eo.Z.prototype.initialize.apply(this,arguments),this.promise=s().Deferred()},onRender:function(){eo.Z.prototype.onRender.apply(this,arguments)},onHide:function(){eo.Z.prototype.onHide.apply(this,arguments),this.promise.reject()},onClick:function(e){e.preventDefault(),this.promise.resolve(s()(e.currentTarget).data("value")),this.hide()}});var no=n(76380),io=n.n(no);const ro=to.extend({name:"SelectMediaFileModal",template:io(),serializeData:function(){return{medias:this.model.get("Media")}}}),so=function(e){let t=function(e){const t=s().Deferred(),n=e.item,i=n.get("Media");if(e.index in i)return t.resolve(i[e.index]).promise();const r=new ro({model:n}),o=r.promise;return o.done((function(e){t.resolve(i[e])})),o.fail((function(){t.reject()})),g.Z.trigger("show:modal",r),t.promise()}(e);return t=t.then((function(t){const n=function(){const e=new Ws.Z({title:(0,_.Z)("Delete File"),message:(0,_.Z)("Are you sure you want to delete this file from your filesystem?"),confirmLabel:(0,_.Z)("Delete"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",e),e}();return n.promise.then((function(){return te.Z.execute("deleteFile",{item:e.item,media:t}).always((function(){n.hide()}))}))})),t},oo=function(e){const t=e.item,n=t.server,i=t.get("Media"),r=v().filter(i,(function(e){return!!e.proxyType})),o=function(e){const t=e.item,n=e.versions,i=n.length>1;let r;if(i)r=(0,_.Z)("Are you sure you want to delete {1} versions of {2}?",n.length,t.get("title"));else{const e=v().first(n);r=(0,_.Z)("Are you sure you want to delete the {1} version of {2}?",e.title,t.get("title"))}const s=new Ws.Z({title:i?(0,_.Z)("Delete Versions"):(0,_.Z)("Delete Version"),message:r,confirmLabel:(0,_.Z)("Delete"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",s),s}({item:t,versions:r});return o.promise.then((function(){const e=Gi.Z.join(["/library/metadata/",t.id],{proxy:1}),a=v().extend(n.getXHROptions(e),{type:"DELETE"}),l=s().ajax(a);return l.done((function(){v().each(r,(function(e){i.splice(v().indexOf(i,e),1)})),t.trigger("change:Media",t,t.get("Media"))})),l.fail((function(e){const t=403===e.status?(0,_.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,_.Z)("There was a problem deleting these versions.");g.Z.trigger("show:alert",{type:"error",message:t})})),l.always((function(){o.hide()})),l.promise()}))};var ao=n(4545);const lo=function(e){const t=s().Deferred(),n=e.section,i=new Ws.Z({title:(0,_.Z)("Delete Library"),message:(0,_.Z)("Are you sure you want to delete {1}?",n.get("title")),confirmLabel:(0,_.Z)("Delete"),cancelLabel:(0,_.Z)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:(0,_.Z)("This cannot be undone."),doubleConfirmLabel:(0,_.Z)("Yes, I'm sure"),async:!0,hasDanger:!0}),r=i.promise;return r.done((function(){const e=n.destroy({wait:!0});e?(e.done((function(){const e=h.DB("appStore").dispatch,i=n.server.entityID();i&&e((0,ao.jR)({serverEntityID:i})),t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem deleting the library.")}),t.reject(e)}))):t.resolve()})),r.fail((function(){t.reject()})),g.Z.trigger("show:modal",i),t.promise().always((()=>{i.hide()})),t.promise()},co=function(e){const t=e.section,n="/library/sections/"+t.id+"/indexes",i=v().extend(t.server.getXHROptions(n),{type:"DELETE"}),r=new Ws.Z({title:(0,_.Z)("Delete Preview Thumbnails"),message:(0,_.Z)("Are you sure you want to delete the preview thumbnails for items in this library? This cannot be undone."),confirmLabel:(0,_.Z)("Delete"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0});let o=r.promise;return o=o.then((function(){return function(){const e=s().ajax(i);return e.done((function(e){g.Z.trigger("show:alert",{type:"success",message:(0,_.Z)("The preview thumbnails for items in this library were deleted.")})})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem deleting the preview thumbnails for items in this library.")})})),e.always((function(e){r.hide()})),e}()})),g.Z.trigger("show:modal",r),o},uo=function(e){const t=s().Deferred(),n="photo"===e.item.get("playlistType"),i=new Ws.Z({title:n?(0,_.Z)("Delete Album"):(0,_.Z)("Delete Playlist"),message:(0,_.Z)("Are you sure you want to delete {1}? This cannot be undone.",e.item.get("title")),confirmLabel:(0,_.Z)("Delete"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0}),r=i.promise;return r.done((function(){const r=e.item.destroy();r.done((function(){e.skipRedirect||(0,h.DB)("appStore").dispatch((0,D.n)()),t.resolve()})),r.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:n?(0,_.Z)("There was a problem deleting the album."):(0,_.Z)("There was a problem deleting the playlist.")}),t.reject(e)})),r.always((function(e){i.hide()}))})),r.fail((function(){t.reject()})),g.Z.trigger("show:modal",i),t.promise()},ho=function(e){const t=s().Deferred(),n=e.section,i=n?n.id:"all",r=e.cancel,o=n?n.server:e.server,a={};(e.params||{}).force&&(a.force=1);const l="/library/sections/"+i+"/refresh",c=v().extend(o.getXHROptions(l),{data:a});function d(){const e=s().ajax(c);e.done((function(){t.resolve()})),e.fail((function(e){if(503===e.status)g.Z.trigger("show:modal",new zs.Z({model:o}));else{const e=r?(0,_.Z)("There was a problem canceling the update."):(0,_.Z)("There was a problem updating the library.");g.Z.trigger("show:alert",{type:"error",message:e})}t.reject(e)}))}if(r&&(c.type="DELETE",n&&n.set("refreshing",!1)),a.force){const e=new Ws.Z({title:(0,_.Z)("Refresh All"),message:(0,_.Z)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:(0,_.Z)("Refresh"),cancelLabel:(0,_.Z)("Cancel")}),n=e.promise;n.done(d),n.fail((function(){t.reject()})),g.Z.trigger("show:modal",e)}else d();return t.promise()},po=function(e){const t=s().Deferred(),n=e.server,i=v().extend(n.getXHROptions("/library/optimize"),{type:"PUT"}),r=new Ws.Z({title:(0,_.Z)("Optimize Database"),message:(0,_.Z)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:(0,_.Z)("Optimize"),cancelLabel:(0,_.Z)("Cancel"),async:!0}),o=r.promise;return o.done((function(){const e=s().ajax(i);e.done((function(){g.Z.trigger("show:alert",{type:"success",message:(0,_.Z)("The database was optimized.")}),t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem optimizing this database.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),o.fail((function(){t.reject()})),g.Z.trigger("show:modal",r),t.promise()},go=function(e){const t=s().Deferred(),n=e.server,i=v().extend(n.getXHROptions("/library/clean/bundles"),{type:"PUT"}),r=new Ws.Z({title:(0,_.Z)("Clean Bundles"),message:(0,_.Z)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:(0,_.Z)("Clean"),cancelLabel:(0,_.Z)("Cancel"),async:!0}),o=r.promise;return o.done((function(){const e=s().ajax(i);e.done((function(){g.Z.trigger("show:alert",{type:"success",message:(0,_.Z)("Unused bundles are being removed.")}),t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem removing unused bundles.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),o.fail((function(){t.reject()})),g.Z.trigger("show:modal",r),t.promise()},mo=function(e){const t=s().Deferred(),n=e.section,i=n?n.server:e.server,r=[],o=[];n?r.push(n.id):i.get("sections").each((function(e){r.push(e.id)}));const a=new Ws.Z({title:(0,_.Z)("Empty Trash"),message:(0,_.Z)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:(0,_.Z)("Empty"),cancelLabel:(0,_.Z)("Cancel"),async:!0}),l=a.promise;return l.done((function(){v().each(r,(function(e){const t="/library/sections/"+e+"/emptyTrash",n=v().extend(i.getXHROptions(t),{type:"PUT"});o.push(s().ajax(n))}));const e=s().when.apply(s(),o);e.done((function(){g.Z.trigger("show:alert",{type:"success",message:(0,_.Z)("The trash was emptied.")}),t.resolve()})),e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem emptying the trash.")}),t.reject(e)})),e.always((function(e){a.hide()}))})),l.fail((function(){t.reject()})),g.Z.trigger("show:modal",a),t.promise()},fo=function(e){const t=e.item,n={guid:e.guid,name:e.name,year:e.year};"album"===t.get("type")&&e.children&&e.children.reduce((function(e,t){const n=t.get("id");return n&&(e["guid["+n+"]"]=t.get("guid")),e}),n);const i=Gi.Z.join(["/library/metadata/",t.id,"/match"],n),r=v().extend(t.server.getXHROptions(i),{type:"PUT"});return s().ajax(r).promise()},vo=function(e){const t=s().Deferred(),n=e.item;let i={agent:e.agent.id,manual:0};const r=Gi.Z.join(["/library/metadata/",n.id,"/matches"],i),o=v().extend(n.server.getXHROptions(r)),a=s().ajax(o);return a.done((function(e){const r=v().isObject(e)?e:Ls.Z.parseXML(e);if(r.SearchResult){let e=r.SearchResult;Array.isArray(r.SearchResult)&&(e=r.SearchResult[0]),i={guid:e.guid,name:e.name};const o=Gi.Z.join(["/library/metadata/",n.id,"/match"],i),a=v().extend(n.server.getXHROptions(o),{type:"PUT"}),l=s().ajax(a);l.done((function(){t.resolve()})),l.fail((function(){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem matching this item.")}),t.reject()}))}else g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("No matches were found using this agent.")}),t.reject()})),a.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem searching for matches.")}),t.reject(e)})),t.promise()},yo={poster:"thumb",art:"art",banner:"banner"},bo=function(e){const t=e.item,n={url:e.artworkRatingKey},i=Gi.Z.join(["/library/metadata/",t.id,e.artworkType],n),r=v().extend(t.server.getXHROptions(i),{type:"PUT"}),o=s().ajax(r);return o.done((function(n){t.set(yo[e.artworkType],n)})),o.promise()},Zo=function(e){const t=e.item,n=e.rating,i=t.get("userRating");if(-1===n?t.unset("userRating"):t.set("userRating",n),e.passive)return s().Deferred().resolve().promise();const r={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:n},o=Gi.Z.join("/:/rate",r),a=s().ajax(t.server.getXHROptions(o));return a.fail((function(){t.set("userRating",i),g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem rating this item.")})})),a.promise()};var So=n(52637);const wo=function(e){const t=s().Deferred(),n=e.item,i=n.server,r=e.media||v().first(n.get("Media")),o=e.part||r&&v().first(r.Part),a=e.streamType,l=e.streamID;if(!r||!o)return t.reject().promise();const c={};c[a.key]=l,!e.media&&i.supports("allPartsStreamSelection")&&(c.allParts=1);const d=Gi.Z.join(["/library/parts/",o.id],c),u=v().extend(i.getXHROptions(d),{type:"PUT"}),h=s().ajax(u);return h.done((function(){(function(e,t,n){if(e){const i=(0,So.Z)(e,{streamType:t.id});v().each(i,(e=>{e.selected=e.id===n}))}})(r,a,l),n.trigger("change:streams"),t.resolve()})),h.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem selecting the stream for this item.")}),t.reject(e)})),t.promise()},Po=function(e){const t=e.item,n=e.media,i=t.server;let r;if(n){const o="/library/metadata/"+t.id+"/media/"+n.id,a=v().extend(i.getXHROptions(o),{type:"DELETE"});r=s().ajax(a),r.done((function(){const i=e.item.get("Media");i.splice(v().indexOf(i,n),1),t.trigger("change:Media",t,t.get("Media"))}))}else r=t.destroy({wait:!0});return r.fail((function(e){const t=403===e.status?(0,_.Z)("Ensure that media deletion is enabled for library content in your server settings."):(0,_.Z)("There was a problem deleting this item.");g.Z.trigger("show:alert",{type:"error",message:t})})),r};var Co=n(42751),xo=n(75050),Ao=n(35785),Eo=n(66501),Io=Object.defineProperty,ko=Object.prototype.hasOwnProperty,To=Object.getOwnPropertySymbols,Oo=Object.prototype.propertyIsEnumerable,Mo=(e,t,n)=>t in e?Io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ro=(e,t)=>{for(var n in t||(t={}))ko.call(t,n)&&Mo(e,n,t[n]);if(To)for(var n of To(t))Oo.call(t,n)&&Mo(e,n,t[n]);return e};function Do(e,t){if(!e)return!1;const n=new xo.Z({key:e},{server:t.item.server,onlyIfCached:!0});return!v().isEmpty(n)&&n}function _o(e){if(e.skipRedirect)return;const t=e.item,n=t.get("isLibraryItem")&&t.parent,i=t.get("librarySectionKey")||(null==n?void 0:n.get("librarySectionKey"));if(!i)return void(0,h.DB)("appStore").dispatch((0,D.n)());const r=function(e,t){const n=e.get("features").get(Ao.Z.CONTENT),i=n.get("directories");if(!n||!i)return null;const r=i.find((e=>e.get("hubKey")===t||e.get("key")===t));return r?r.toJSON():null}(t.provider,i),s=(0,Eo.Z)(t.server.toJSON(),t.provider.toJSON(),r);s?(0,h.DB)("appStore").dispatch((0,D.c4)({pathname:s,replace:!0})):(0,h.DB)("appStore").dispatch((0,D.n)())}function Vo(e,t){t.skipRedirect||(0,h.DB)("appStore").dispatch((0,D.yB)({serverEntityID:e.server.entityID(),providerEntityID:e.provider.entityID(),key:e.get("key"),replace:!0}))}const Lo=function(e){const t=te.Z.execute("deleteFile",e);return t.done((function(){const t=e.item,n=Do(t.get("parentKey"),e);if(!n)return void _o(e);const i=new Co.Z({containerKey:n.get("childrenKey")},{server:n.server,provider:n.provider,skipCache:!0});i.fetchRange({size:1}).then((()=>{if(i.getCollection().length>0)return void Vo(n,e);n.trigger("destroy",n,n.collection);const r=Do(t.get("grandparentKey"),e);if(!r)return void _o(Ro(Ro({},e),{skipRedirect:!1}));const s=new Co.Z({containerKey:r.get("childrenKey")},{server:r.server,provider:r.provider,skipCache:!0});s.fetchRange({size:1}).then((()=>{s.getCollection().length>0?Vo(r,Ro(Ro({},e),{skipRedirect:!1})):_o(e)}))}))})),t},jo=function(e){const t=e.generator,n=v().result(t,"url")+"/"+e.ratingKey+"/enable",i=v().extend(t.server.getXHROptions(n),{type:"PUT"}),r=s().ajax(i).promise();return r.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem enabling this version.")})})),r},No=function(e){const t=e.generator,n=v().result(t,"url")+"/"+e.ratingKey+"/disable",i=function(){const e=new Ws.Z({title:(0,_.Z)("Remove Version"),message:(0,_.Z)("Are you sure you want to delete this version? You can enable it again in Optimized Versions Settings."),confirmLabel:(0,_.Z)("Remove"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",e),e}();return i.promise.then((function(){const e=v().extend(t.server.getXHROptions(n),{type:"PUT"}),r=s().ajax(e).promise();return r.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem disabling this version.")})})),r.always((function(){i.hide()})),r}))},Uo=function(e){const t=e.generator,n=e.ratingKey;let i=v().result(t,"url");n&&(i+="/"+n),i+="/reprocess";const r=v().extend(t.server.getXHROptions(i),{type:"PUT"}),o=s().ajax(r).promise();return o.fail((function(e){const t=n?(0,_.Z)("There was a problem processing this item."):(0,_.Z)("There was a problem processing these items.");g.Z.trigger("show:alert",{type:"error",message:t})})),o},Fo=function(e){const t=e.generator,n=function(e){const t=e.generator.get("title"),n=t?(0,_.Z)("Removing this item will delete all versions created by {1}. Are you sure you want to continue?",t):(0,_.Z)("Removing this item will delete all related versions. Are you sure you want to continue?"),i=new Ws.Z({title:(0,_.Z)("Delete Versions"),message:n,confirmLabel:(0,_.Z)("Remove"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",i),i}(e);return n.promise.then((function(){const e=t.destroy();return e.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("Unable to stop generating these versions.")})})),e.always((function(){n.hide()})),e}))};var Bo=n(57840);const zo=function(e){const t=function(){const e=new Ws.Z({title:(0,_.Z)("Delete All Versions"),message:(0,_.Z)("Are you sure you want to delete all versions? This cannot be undone."),confirmLabel:(0,_.Z)("Delete"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0});return g.Z.trigger("show:modal",e),e}();let n=t.promise;return n=n.then((function(){const n="/playlists/generators?type="+Bo.Z.LOCAL,i=v().extend(e.server.getXHROptions(n),{type:"DELETE"}),r=s().ajax(i).promise();return r.fail((function(e){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem deleting all versions.")})})),r.always((function(){t.hide()})),r.promise()})),n},Ho=function(e){const t=s().Deferred(),n=e.channel,i=n?n.server:e.server,r=e.silent;let o;if(n){const e=n.get("identifier");o=(e?"/system/appstore/apps/"+e:n.get("key"))+"/update"}else o="/system/appstore/updates";const a=s().ajax(i.getXHROptions(o));function l(e){r||g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem checking for updates.")}),t.reject(e)}return a.done((function e(n){const o=v().isObject(n)?n:Ls.Z.parseXML(n);if(o&&(o.message||o.Directory))if(o.message)r||g.Z.trigger("show:alert",{type:"success",message:o.message}),t.resolve();else{Ls.Z.parseArray(o,"Directory");const t=o.Directory[0].key,n=s().ajax(i.getXHROptions(t));n.done(e),n.fail(l)}else l()})),a.fail(l),t.promise()},qo=function(e){const t=s().Deferred(),n=e.channel,i=n.get("identifier"),r=(i?"/system/appstore/apps/"+i:n.get("key"))+"/uninstall",o=n.server.getXHROptions(r);function a(){const i=s().ajax(o);i.done((function(i){const r=v().isObject(i)?i:Ls.Z.parseXML(i);n.set("installed",!1),r.message&&!e.skipConfirmation&&g.Z.trigger("show:alert",{type:"success",message:r.message}),t.resolve()})),i.fail((function(e){if(400===e.status){const e=new Ws.Z({title:(0,_.Z)("Unable to Uninstall Plugin"),message:(0,_.Z)("This plugin could not be uninstalled, but you can disable it in the server settings."),confirmLabel:(0,_.Z)("OK"),cancelLabel:(0,_.Z)("Ignore")});e.promise.done((function(){(0,j.Z)("serverSettings",{machineIdentifier:n.server.id,settingsSection:"settings",settingsGroup:"channels"})})),g.Z.trigger("show:modal",e)}else g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("This plugin could not be uninstalled.")});t.reject(e)}))}if(e.skipConfirmation)a();else{const e=new Ws.Z({title:(0,_.Z)("Uninstall Plugin"),message:(0,_.Z)("Are you sure you want to uninstall this plugin?")}),n=e.promise;n.done(a),n.fail((function(){t.reject()})),g.Z.trigger("show:modal",e)}return t.promise()};var Wo=n(79087);const $o=function(e){const t=e.cloudAccount,n=t.server.get("desktop").get("settings").get("PublishServerOnPlexOnlineKey"),i=s().Deferred();let r;if(!t.get("isWaiting")){const n=e.value?Wo.Q2:Wo.uy;t.set("remoteAccessState",n)}const o=t.previous("remoteAccessState"),a=n.save({PublishServerOnPlexOnlineKey:e.value},{timeout:0});return a.done((function n(){t.fetch().done((function(){const s=t.get("mappingState"),o=e.value&&s===Wo.GI,a=!e.value&&s===Wo.Gu;s===Wo.xD||o||a?r||(r=window.setInterval(n,500)):(r=window.clearInterval(r),t.get("isWaiting")&&t.set("remoteAccessState",Wo.HP),i.resolve())}))})),a.fail((function(n){let r;r=e.value?(0,_.Z)("There was a problem connecting your server."):(0,_.Z)("There was a problem disconnecting your server."),g.Z.trigger("show:alert",{type:"error",message:r}),t.set("remoteAccessState",o),i.reject(n)})),i.promise()},Go=function(e){const t=e.cloudAccount,n={cloudAccount:t,value:!1};let i=te.Z.execute("connectServer",n);return i=i.then((function(){return n.value=!0,te.Z.execute("connectServer",n)})),i=i.then((function(){if(t.get("mappingError"))return s().Deferred().reject().promise()})),i};var Ko=n(4141);const Xo=function(e){const{cloudAccount:t,username:n,password:i,claim:r=!1}=e,o=s().Deferred(),a=t.server,l=(0,h.DB)("appModel"),c=l.get("user"),d=l.get("cloudServer"),u=a.get("accessToken");a.set("accessToken",c.get("authToken"));const p=r?function(e,t){const n=t.getXHROptions("/api/claim/token");let i=s().ajax(n).promise();return i=i.then((t=>{const{token:n}=xs.Z.parseXML(t),i=Gi.Z.join("/myplex/claim",{token:n}),r=e.getXHROptions(i,{type:"POST"});return s().ajax(r).promise()})),i}(a,d):function(e,t,n){const i=Gi.Z.join("/myplex/account",{username:e,password:t}),r=n.getXHROptions(i,{type:"PUT"});return s().ajax(r).promise()}(n,i,a);return p.done((e=>{const n=v().isObject(e)?e:xs.Z.parseXML(e);n&&"invalid"===n.signInState?(g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("The username or password is incorrect.")}),o.reject()):(a.set({myPlexSigninState:Ko.Hq,myPlexUsername:c.get("email")}),t.set({signedIn:!0,username:c.get("email")}),o.resolve())})),p.fail((e=>{let n;a.set("accessToken",u),!0===t.get("signedIn")&&t.set("signedIn",!1),n=401===e.status?(0,_.Z)("The username or password is incorrect."):(0,_.Z)("There was a problem signing in to Plex."),g.Z.trigger("show:alert",{type:"error",message:n}),o.reject(e)})),o.promise()};function Qo(e){e.trigger("destroy",e,e.collection),e.cache.remove(e)}const Jo=function(e){const t=h.DB("appModel").get("user"),n=e.device,i=e.server||function(e){const t=new Ko.ZP({machineIdentifier:e},{onlyIfCached:!0});if(!v().isEmpty(t))return t}(n.get("clientIdentifier"));let r;r=n?(0,_.Z)("If you remove the server, all syncs and shares associated with the server will be lost and you will need to sign the server in again to restore access to Plex."):(0,_.Z)("Are you sure you want to remove this server?");const o={title:(0,_.Z)("Remove Server"),message:r,confirmLabel:(0,_.Z)("Remove"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0};n&&(o.requireDoubleConfirm=!0,o.doubleConfirmMessage=(0,_.Z)("Are you sure you want to remove this server?"),o.doubleConfirmLabel=(0,_.Z)("Yes, I'm sure"));const a=new Ws.Z(o);let l=a.promise;return l=l.then((function(){return function(){let e;if(n)e=n.destroy({wait:!0});else{const n="/api/servers/"+i.id,r=v().extend(t.server.getXHROptions(n),{type:"DELETE"});e=s().ajax(r)}if(i){if(i.get("connected")&&i.get("myPlexSigninState")===Ko.Hq){const t=i.get("desktop").get("cloudAccount");e=e.then((function(){return t.fetch()})),e=e.then((function(){return function(e){const t=e.get("desktop").get("cloudAccount").destroy();return t.done((function(){e.set({accessToken:void 0,myPlexSigninState:Ko.Ar,myPlexSubscription:!1})})),t}(i)}))}!1===i.get("connected")?Qo(i):e.always((function(){g.Z.trigger("test:server",i),i.populate().fail((function(){Qo(i)}))}))}return e.always((function(){a.hide()})),e.promise()}()})),g.Z.trigger("show:modal",a),l},Yo=function(){const e=(0,h.DB)("appStore"),t=(0,h.DB)("appModel"),n=t.get("ui"),i=t.get("user"),r=t.get("fakeRouter"),s=i.server;let o=i.clearAccessToken();return o=o.fail((()=>{ae.Z.warn("Failed to clear the access token and user storage")})).always((()=>{t.set("history",[]),n&&n.restoreDefaults(),r&&r.restoreDefaults(),Ss.Z.abortAll(),i.signOut(),i.uninitialize(),i.initialize(),g.Z.trigger("clear:servers"),e.dispatch((0,D.$e)({budget:1/0})),g.Z.trigger("clearAll:cache"),s.cache.store(s)})),bt(o)};var ea=n(88019),ta=n(22618),na=n(87023);const ia=ta.Z.extend({name:"AbstractStorageModel",responseType:na.AV,save(e,t,n={}){const i=this.attributes;let r;if(null==e||v().isObject(e)?(r=e,n=t):(r={})[e]=t,n=v().extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=v().extend({},i,r));const s=this._getStorageAdapter().getInstance().excludeDefaults,o=this.toJSON({syncedOnly:!0,excludeDefaults:!1!==s}),a=this._serialize(o),l=this._getStorageAdapter().set(this._getStorageKey(),a);return l.done((()=>{this.attributes=i,this.trigger("sync",this,i,n)})),l.fail((e=>{this.trigger("error",this,e,n)})),r&&n.wait&&(this.attributes=i),l},destroy(e={}){e.wait||this.trigger("destroy",this,this.collection,e);const t=this._getStorageAdapter().remove(this._getStorageKey());return t.done((t=>{e.wait&&this.trigger("destroy",this,this.collection,e),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},sync(){this._logError("does not support syncing to a server")},_getStorageAdapter:()=>he,_getStorageKey(){const e=v().result(this,"storageKey");if(!e)throw new Error(`${this.name} requires a \`storageKey\` property`);return e},_fetch(e={}){const t=this._getStorageAdapter().get(this._getStorageKey());return t.done((t=>{t&&this.set(this.parse(t)),this.trigger("sync",this,t,e)})),t.fail((t=>{this.trigger("error",this,t,e)})),t},_serialize(e){let t="";try{t=JSON.stringify(e)}catch(e){this._logError("serialization error: "+e.message)}return t},_warnUnsupportedOptions(e){e.parse&&this._logError("does not support the `parse` option. The response from storage is always parsed."),e.success&&this._logError("does not support a `success` callback. Use the returned promise."),e.error&&this._logError("does not support an `error` callback. Use the returned promise.")},_logError(e){let t;try{t=this._getStorageKey()}catch(e){t="no storageKey"}(0,ir.Z)(!1,`${this.name} (${t}) ${e}`)}});var ra=n(49788);const sa=ta.Z.extend({name:"UserEntitlementModel",syncedAttrs:{id:ea.Z.string}}),oa=ra.Z.extend({name:"UserEntitlementCollection",model:sa}),aa=ta.Z.extend({name:"UserFeatureModel",idAttribute:"uuid",syncedAttrs:{uuid:ea.Z.string.isRequired,id:ea.Z.string}}),la=ra.Z.extend({name:"UserFeatureCollection",context:["server"],model:aa,url:(0,oe.Y)("/api/v2/features"),responseType:na.AV}),ca=ta.Z.extend({name:"UserRoleModel",syncedAttrs:{id:ea.Z.string}}),da=ra.Z.extend({name:"UserRoleCollection",model:ca}),ua=ta.Z.extend({name:"UserServiceModel",syncedAttrs:{id:ea.Z.string,subscriptionType:ea.Z.string}}),ha=ra.Z.extend({name:"UserServiceCollection",model:ua}),pa="active",ga="pending_cancellation",ma=[pa,"inactive","canceled",ga,"lapsed","ended"],fa="plexpass",va=["arcade",fa,"tidal"],ya=ta.Z.extend({name:"UserSubscriptionModel",syncedAttrs:{type:ea.Z.oneOf(...va).isRequired,state:ea.Z.oneOf(...ma).isRequired,mode:ea.Z.string.isRequired}}),ba=ra.Z.extend({name:"UserSubscriptionCollection",model:ya}),Za=ta.Z.extend({additionalRelations:[],copyFromModel(e,t){this._copy(e,this,t)},copyToModel(e,t){this._copy(this,e,t)},_copy(e,t,n={}){const i=!!t.releaseCapturedChangeEvents;i||t.startCapturingChangeEvents(),this._copyAttributes(e,t,n),this._copyRelations(e,t,n),i||t.releaseCapturedChangeEvents()},_copyAttributes(e,t,n){const i={};v().each(this.syncedAttrs,((t,r)=>{n.included&&!n.included.includes(r)||(i[r]=e.get(r))})),t.set(i)},_copyRelations(e,t,n){v().each(this.syncedRelations,((i,r)=>{if(n.included&&!n.included.includes(r))return;if(this.additionalRelations.includes(r))return;const s=e.get(r),o=t.get(r);if(s&&o){const e=s.toJSON();o instanceof ta.Z?o.set(o.parse(e)):o.set(e,{parse:!0})}}))}}),Sa=ta.Z.extend({name:"StoredConnectionSourceModel",syncedAttrs:{id:ea.Z.string}}),wa=ra.Z.extend({name:"StoredConnectionSourceCollection",model:Sa}),Pa=ta.Z.extend({name:"StoredConnectionModel",idAttribute:"uri",syncedAttrs:{uri:ea.Z.string,scheme:ea.Z.string,address:ea.Z.string,port:ea.Z.string,relay:ea.Z.boolean},syncedRelations:{sources:{relationClass:wa}}}),Ca=ra.Z.extend({name:"StoredConnectionCollection",model:Pa});var xa=n(10135),Aa=n(66255),Ea=Object.defineProperty,Ia=Object.prototype.hasOwnProperty,ka=Object.getOwnPropertySymbols,Ta=Object.prototype.propertyIsEnumerable,Oa=(e,t,n)=>t in e?Ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ma=ta.Z.extend({name:"StoredProviderModel",idAttribute:"identifier",syncedAttrs:((e,t)=>{for(var n in t||(t={}))Ia.call(t,n)&&Oa(e,n,t[n]);if(ka)for(var n of ka(t))Ta.call(t,n)&&Oa(e,n,t[n]);return e})({},Aa.Z.prototype.syncedAttrs),syncedRelations:{features:{relationClass:xa.Z}}}),Ra=ra.Z.extend({name:"StoredProviderCollection",model:Ma}),Da=Za.extend({name:"StoredServerModel",idAttribute:"machineIdentifier",additionalRelations:["connections"],syncedAttrs:{machineIdentifier:ea.Z.string,friendlyName:ea.Z.string,accessToken:ea.Z.string,sourceTitle:ea.Z.string,home:ea.Z.boolean,serverClass:ea.Z.string,platform:ea.Z.string,isShared:ea.Z.boolean,version:ea.Z.string,publicAddressMatches:ea.Z.boolean,ownerId:ea.Z.integer,mediaProviders:ea.Z.integer},syncedRelations:{providers:{relationClass:Ra},connections:{relationClass:Ca}}}),_a=ra.Z.extend({name:"StoredServerCollection",model:Da});var Va=n(25798),La=n(80622),ja=n(26603);const Na={bool:Va.Z,json:ja.Z},Ua=ta.Z.extend({name:"UserSettingModel",context:["server"],sessionAttrs:{isDirty:ea.Z.boolean},syncedAttrs:{id:ea.Z.string,type:ea.Z.string,value:ea.Z.oneOfType(ea.Z.boolean,ea.Z.object),hidden:ea.Z.boolean,updatedAt:ea.Z.integer},defaults:{isDirty:!1},augmentResponse(e){const t=this.get("isDirty"),n=this.get("updatedAt"),i=(0,La.Z)(e.updatedAt),r=n&&i&&n<i;if(t&&n===i||n&&i&&n>i)return this.toJSON();t&&r&&(e.isDirty=!1);const s=Na[e.type];return s&&(e.value=s(e.value)),e}});var Fa=Object.defineProperty,Ba=Object.prototype.hasOwnProperty,za=Object.getOwnPropertySymbols,Ha=Object.prototype.propertyIsEnumerable,qa=(e,t,n)=>t in e?Fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wa=(e,t)=>{for(var n in t||(t={}))Ba.call(t,n)&&qa(e,n,t[n]);if(za)for(var n of za(t))Ha.call(t,n)&&qa(e,n,t[n]);return e};const $a=ta.Z.extend({name:"StoredUserSettingModel",syncedAttrs:Wa(Wa({},Ua.prototype.syncedAttrs),{isDirty:ea.Z.boolean})}),Ga=ra.Z.extend({name:"StoredUserSettingCollection",model:$a}),Ka=Za.extend({name:"StoredUserModel",additionalRelations:["servers"],syncedAttrs:{id:ea.Z.integer,authToken:ea.Z.string,anonymous:ea.Z.boolean,username:ea.Z.string,email:ea.Z.string,title:ea.Z.string,thumb:ea.Z.string,pin:ea.Z.string,home:ea.Z.boolean,restricted:ea.Z.boolean,guest:ea.Z.boolean,hasAllEntitlements:ea.Z.boolean,lastPrimaryServerID:ea.Z.string},syncedRelations:{subscriptions:{relationClass:ba},roles:{relationClass:da},entitlements:{relationClass:oa},services:{relationClass:ha},features:{relationClass:la},settings:{relationClass:Ga},experienceSettings:()=>({relationClass:(0,h.DB)("StoredUserExperienceSettingsModel")}),servers:{relationClass:_a}},clearSensitiveAttributes(){this.unset("authToken"),this.unset("pin"),this.get("servers").reset()}}),Xa=ra.Z.extend({name:"StoredUserCollection",model:Ka}),Qa=new(ia.extend({name:"UserStorageModel",storageKey:"managerUsers",sessionAttrs:{activeUserID:ea.Z.integer},syncedRelations:{users:{relationClass:Xa}},initialize(){this.debouncedSaveTimeout=null},debouncedSave(){this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout((()=>this.save()),1e3)},flushDebouncedSave(){this.debouncedSaveTimeout&&(window.clearTimeout(this.debouncedSaveTimeout),this.save())},getActiveUser(){const e=this.get("users"),t=this.get("activeUserID");if(null!=t)return e.get(t)},clearActiveUser(){const e=this.getActiveUser();return e&&e.clearSensitiveAttributes(),this.unset("activeUserID"),this.save()},getActiveServers(){const e=this.getActiveUser();if(e)return e.get("servers")}})),Ja=function(e={}){const t=(0,h.DB)("appModel").get("user"),n=t.get("signedIn"),i=t.id!==e.homeUser.id,r=e.allowGuestLock,s=i||r;let o=n?te.Z.execute("authenticateWithServer",e):te.Z.execute("authenticateWithHash",e);return n&&s?o=o.then((t=>function(e,t){const n=(0,h.DB)("appModel").get("user");let i=te.Z.execute("resetUser");return i=i.then((()=>{n.activateStoredUser(t.homeUser.id);const i=Qa.getActiveUser();i&&i.copyToModel(n),g.Z.trigger("init:servers");return n.signIn(e,{})})),i.done((()=>{(0,h.DB)("metrics").trackEvent({event:xr.PS,interaction:!0})})),i}(t,e))):o.done((()=>{t.set({})})),o.done((()=>{(0,j.Z)("home")})),o};var Ya=n(97102),el=Object.defineProperty,tl=Object.prototype.hasOwnProperty,nl=Object.getOwnPropertySymbols,il=Object.prototype.propertyIsEnumerable,rl=(e,t,n)=>t in e?el(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function sl(e,t={}){return((e,t)=>{for(var n in t||(t={}))tl.call(t,n)&&rl(e,n,t[n]);if(nl)for(var n of nl(t))il.call(t,n)&&rl(e,n,t[n]);return e})({includeSubscriptions:1,includeProviders:1,includeSettings:E.Z.allowSyncSettings?1:0,includeSharedSettings:(0,Ya.Z)(e)?1:0},t)}var ol=n(98984),al=Object.defineProperty,ll=Object.prototype.hasOwnProperty,cl=Object.getOwnPropertySymbols,dl=Object.prototype.propertyIsEnumerable,ul=(e,t,n)=>t in e?al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hl=(e,t)=>{for(var n in t||(t={}))ll.call(t,n)&&ul(e,n,t[n]);if(cl)for(var n of cl(t))dl.call(t,n)&&ul(e,n,t[n]);return e};const pl=function(e){return e.headers=hl(hl({},ol.Z.getInstance()),e.headers||{}),s().ajax(e)},gl=function(e){const t=e.homeUser,n=h.DB("appModel").get("user"),i=t.get("uuid")||n.get("uuid"),r=sl(n,{pin:e.pin}),s=Gi.Z.join(["/api/v2/home/users/",i,"/switch"],r),o=t.server.getXHROptions(s,{type:"POST",xhrFields:{withCredentials:E.Z.allowSSO}});return pl(o)},ml=function(e){const t=s().Deferred().resolve().promise(),n=s().Deferred().reject().promise(),i=Qa.getActiveUser();if(!i)return n;const r=i.get("pin"),o=i.get("authToken");return r||e.pin?r===(0,h.DB)("appModel").get("user").hashPIN(e.pin,o)?t:n:t},fl=function(e){const t=e.device,n=(0,_.Z)("If you remove this device, you will need to sign in again on the device to restore access to Plex."),i=new Ws.Z({title:(0,_.Z)("Remove Device"),message:n,confirmLabel:(0,_.Z)("Remove"),cancelLabel:(0,_.Z)("Cancel"),async:!0,hasDanger:!0});let r=i.promise;return r=r.then((function(){return function(){const e=t.destroy({wait:!0});return e.fail((function(){g.Z.trigger("show:alert",{type:"error",message:(0,_.Z)("There was a problem removing this device.")})})),e.always((function(){i.hide()})),e.promise()}()})),g.Z.trigger("show:modal",i),r},vl=function(e){return bt(pl({url:(0,oe.Y)("/api/v2/users/signout"),headers:{"X-Plex-Token":e.accessToken},type:"DELETE",xhrFields:{withCredentials:!1}}))},yl=function(){(0,h.DB)("metrics").trackEvent({event:xr.CM,interaction:!0});const e=E.Z.allowSSO,t=(0,h.DB)("appModel").get("user").get("authToken");return bt(e?vl({accessToken:t}):s().Deferred().resolve().promise()).then((()=>te.Z.execute("resetUser"))).then((()=>(Qa.restoreDefaults(),Qa.save()))).then((()=>{e&&vl({accessToken:t}),g.Z.trigger("init:servers")}))};function bl(){return te.Z.registerAll(i),s().Deferred().resolve().promise()}function Zl(){const e=(0,h.DB)("appModel");return Ct([e.get("settings").populate(),e.get("deviceSettings").populate()])}const Sl=p.Z.extend({getStorage(){},get(e){return this._catchStorageError((t=>{const n=window.PLEXWEB,i=n&&e in n?n[e]:t.getItem(e);if(null==i)throw new Error(`${e} is not in ${this.name}`);return i}))},set(e,t){return this._catchStorageError((n=>{if(!e)throw new Error(`Unable to set value in ${this.name} without a key`);if(null==t)throw new Error(`Unable to set null or undefined value for ${e} in ${this.name}. Use the remove function.`);return n.setItem(e,t)}))},remove(e){return this._catchStorageError((t=>t.removeItem(e)))},clear(){return this._catchStorageError((e=>e.clear()))},_catchStorageError(e){const t=s().Deferred();try{t.resolve(e(this.getStorage()))}catch(e){ae.Z.warn(e.message),t.reject(e)}return t.promise()}}),wl=Sl.extend({name:"BasicVolatileStorage",initialize(){const e={};this.api={getItem:t=>e[t],setItem(t,n){e[t]=n},removeItem(t){delete e[t]},clear(){for(const t in e)e.hasOwnProperty(t)&&delete e[t]}}},getStorage(){return this.api}}),Pl=new ue.Z({interface:["get","set","remove","clear"]}),Cl="plexTestToken";function xl(){const e=s().Deferred(),t=he.set(Cl,1);return t.done((()=>{he.remove(Cl),e.resolve()})),t.fail((t=>{const n=new wl;ae.Z.warn(`Storage module swapped for ${n.name} due to exception: "${t}"`),Pl.register(n),he.register(n,{ignorePrevious:!0}),e.resolve()})),e.promise()}function Al(){return function(){const e=s().Deferred(),t=Pl.get("myPlexAccessToken");return t.done((()=>{window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken||he.register(Pl.getInstance())})),t.always((()=>{e.resolve()})),e.promise()}().then(xl)}var El=n(33646),Il=n(45354),kl=n(39666),Tl=n(95180),Ol=Object.defineProperty,Ml=Object.prototype.hasOwnProperty,Rl=Object.getOwnPropertySymbols,Dl=Object.prototype.propertyIsEnumerable,_l=(e,t,n)=>t in e?Ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Vl=["X-Plex-Device","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"];var Ll=n(80129),jl=n.n(Ll),Nl=n(21392),Ul=n(63542),Fl=n(65444),Bl=n(30581);const zl=function(){const{hashParams:e}=(0,Bl.Z)(window.location.href),t=jl().parse(e.substr(1)),n=(0,La.Z)(t.pinID);if(n){const e=(0,h.DB)("appModel");(0,Nl.Z)(e).set({pinIDInitial:n}),(0,Ul.c9)(),window.history.replaceState(null,null,(0,Fl.Z)(window.location.href,"pinID"))}return s().Deferred().resolve().promise()};var Hl=n(28163),ql=n(52938);function Wl(){const e=(0,h.DB)("settingFinder").find("language");return ql.Z.setOption("language",e),bt(Hl.Z.load(e))}const $l={};const Gl=["touchstart","mousedown","click","keydown","keypress"];function Kl(){function e(){Gl.forEach((t=>{document.body.removeEventListener(t,e,!0)}));const t=function(e,t){const n=$l.audio;return n&&n.length?((0,ae.Z)("[MediaElement] Found existing media element to use. type: %s",e),n.shift()):((0,ae.Z)("[MediaElement] Creating new media element. type: %s",e),document.createElement(e))}("audio");function n(){t.removeEventListener("playing",n),t.removeEventListener("error",n),t.src="",t.removeAttribute("src"),function(e){const t=e.nodeName.toLowerCase();(0,ae.Z)("[MediaElement] Releasing media element to pool. type: %s",t),$l[t]||($l[t]=[]),$l[t].push(e)}(t)}t.addEventListener("playing",n),t.addEventListener("error",n),t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";const i=t.play();i&&i.then&&i.catch((()=>{}))}return Gl.forEach((t=>{document.body.addEventListener(t,e,!0)})),s().Deferred().resolve().promise()}var Xl=n(66781);function Ql(e){return e.get("isFullOwnedServer")||e.get("isFullServer")}function Jl(){let e;return Cs.Z.hasWebSocket&&(e=new _s.Z({name:"MediaServerEventManager",appModel:(0,h.DB)("appModel"),isValidServer:Ql,supportsLongPolling:!1,allowMultipleConnections:E.Z.allowMultipleWebSocketConnections,ServerEventConnection:(0,h.DB)("mediaServerEventConnection"),ServerRetryManager:Xl.Z}),e.start()),s().Deferred().resolve().promise()}var Yl=n(58182);const ec=function(e){const{hostname:t,protocol:n}=e,i="file:"===n;let r;return"https:"===n?r="https":"http:"===n?r=Yl.lv(t)?"http-loopback":"http":i&&(r="file"),r};var tc=n(57020),nc=Object.defineProperty,ic=Object.prototype.hasOwnProperty,rc=Object.getOwnPropertySymbols,sc=Object.prototype.propertyIsEnumerable,oc=(e,t,n)=>t in e?nc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ac=(e,t)=>{for(var n in t||(t={}))ic.call(t,n)&&oc(e,n,t[n]);if(rc)for(var n of rc(t))sc.call(t,n)&&oc(e,n,t[n]);return e};const lc=/^utm_/;function cc(){const{searchParams:e,hashParams:t}=(0,Bl.Z)(window.location.href),n=ac(ac({},(0,tc.Z)(t)),(0,tc.Z)(e));return Object.keys(n).reduce(((e,t)=>(lc.test(t)&&(e[t.replace(lc,"")]=n[t]),e)),{})}function dc(e={}){const t=(0,h.DB)("metrics"),{context:n={}}=e;return t.set({deviceIdentifier:ol.Z.prop("X-Plex-Client-Identifier"),context:ac(ac({},n),{campaign:cc(),device:{product:ol.Z.prop("X-Plex-Product"),version:ol.Z.prop("X-Plex-Version"),platform:ol.Z.prop("X-Plex-Platform"),platformVersion:ol.Z.prop("X-Plex-Platform-Version"),device:ol.Z.prop("X-Plex-Device"),model:ol.Z.prop("X-Plex-Model"),screenResolution:ol.Z.prop("X-Plex-Device-Screen-Resolution"),protocol:ec(window.location)}})}),bt(t.start())}const uc=p.Z.extend({mixins:m.Z,name:"AbstractReporter",enabled:!1,destroyed:!1,_suspended:!1,initialize(e={}){!1!==e.enabled&&this.enable()},hasSupport:()=>!0,enable(){this.enabled||this.destroyed||!this.hasSupport()||(this.enabled=!0,this.listenTo(g.Z,{"log:message":this.onLog,"log:group":this.onLog,"log:groupCollapsed":this.onLog,"log:groupEnd":this.onLog}),this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.stopListening(),this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.destroyed=!0,this.onDestroyed())},_suspend(){this._suspended||(this._suspended=!0,this.onSuspended())},_resume(){this._suspended&&(this._suspended=!1,this.onResumed())},onLog(e){if(this._suspended)Cs.Z.hasConsole&&window.console.warn("[Logging] Ignored log reentrancy:",JSON.stringify(e));else{switch(this._suspend(),e.type){case"log:message":this.onLogMessage(e);break;case"log:group":this.onLogGroup(e);break;case"log:groupCollapsed":this.onLogGroupCollapsed(e);break;case"log:groupEnd":this.onLogGroupEnd(e)}this._resume()}},onLogMessage(){},onLogGroup(){},onLogGroupCollapsed(){this.onLogGroup.apply(this,arguments)},onLogGroupEnd(){},onEnabled(){},onDisabled(){},onResumed(){},onSuspended(){},onDestroyed(){}}),hc={[ae.Z.LEVEL_LOG]:"log",[ae.Z.LEVEL_DEBUG]:"debug",[ae.Z.LEVEL_INFO]:"info",[ae.Z.LEVEL_WARN]:"warn",[ae.Z.LEVEL_ERROR]:"error"},pc=uc.extend({name:"ConsoleReporter",hasSupport:()=>Cs.Z.hasConsole,onLogMessage(e){const t=e.message,n=hc[e.level];(window.console[n]||window.console.log).call(window.console,t)},onLogGroup(e){(window.console.group||window.console.log).call(window.console,e.message)},onLogGroupCollapsed(e){(window.console.groupCollapsed||window.console.log).call(window.console,e.message)},onLogGroupEnd(){window.console.groupEnd&&window.console.groupEnd()}});function gc(){return new pc,s().Deferred().resolve().promise()}function mc(){(0,ae.Z)("[Servers] Initializing..."),function(){const e=(0,h.DB)("appModel"),t=e.get("servers"),n=e.get("cloudServer");n.addConnection(function(){const[,e,t]=(0,oe.Y)().match(/^([^:]+):\/\/(.*)$/)||[];return{scheme:e,address:t}}()),t.add(n)}(),function(e){const t=(0,h.DB)("appModel"),n=t.get("servers"),i=Qa.getActiveServers();i&&i.each((e=>{if(e.get("connections").length)try{const i=new Ko.ZP(e.toJSON(),{parent:t}),r=i.get("connections");r.reset(r.filter((e=>!e.get("relay")))),!i.get("isMobileServer")&&r.length>0&&(vc(i),n.add(i))}catch(e){ae.Z.warn(e)}}))}(),function(){const e=(0,h.DB)("appModel"),t=e.get("servers"),n=E.Z.primaryServer;if(!n)return;const i=new Ko.ZP({machineIdentifier:n.machineIdentifier,friendlyName:n.name,isShared:n.shared,superToken:n.superToken,accessToken:n.accessToken,sourceTitle:n.sourceTitle},{parent:e});i.addConnection({scheme:n.scheme,address:n.address,port:n.port}),t.add(i)}(),function(){const e=(0,h.DB)("appModel"),t=e.get("servers"),n=new Ko.ZP({isBundled:!0},{parent:e});n.addConnection({scheme:window.location.protocol.replace(":",""),address:window.location.hostname,port:window.location.port,isBundled:!0}),vc(n),t.add(n)}(),function(){if(!E.Z.allowLoopbackDiscovery)return;const e=(0,h.DB)("appModel"),t=e.get("servers"),n=new Ko.ZP({},{parent:e});n.addConnection({scheme:"http",address:"127.0.0.1",port:"32400"}),vc(n),t.add(n)}(),(0,h.DB)("serverManager").start(),(0,h.DB)("primaryServerManager").start(),(0,h.DB)("serverConnectionManager").start(),(0,h.DB)("providerManager").start(),(0,h.DB)("serverUpdateManager").start(),(0,ae.Z)("[Servers] Finished initialization")}function fc(){(0,ae.Z)("[Servers] Clearing...");const e=(0,h.DB)("appModel"),t=e.get("servers");(0,h.DB)("serverManager").stop(),(0,h.DB)("primaryServerManager").stop(),(0,h.DB)("serverConnectionManager").stop(),(0,h.DB)("serverConnectionTestManager").reset(),(0,h.DB)("providerManager").stop(),(0,h.DB)("serverUpdateManager").stop(),t.uninitialize(),t.reset(),t.initialize(),e.unset("primaryServer"),e.unset("companionServer")}function vc(e){const t=e.get("connections").map((e=>e.get("uri")));(0,ae.Z)("[Servers]","Initialize server",e.get("accessToken")?"with token,":"without token,",v().compact([e.get("debugName"),e.get("machineIdentifier"),...t]).join(", "))}function yc(){return mc(),g.Z.on("clear:servers",fc),g.Z.on("init:servers",mc),s().Deferred().resolve().promise()}var bc=n(62334),Zc=n(39953),Sc=n(32183);const wc=["plex_tv_auth","plex_tv_lang"];var Pc=Object.defineProperty,Cc=Object.prototype.hasOwnProperty,xc=Object.getOwnPropertySymbols,Ac=Object.prototype.propertyIsEnumerable,Ec=(e,t,n)=>t in e?Pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ic=(e,t)=>{for(var n in t||(t={}))Cc.call(t,n)&&Ec(e,n,t[n]);if(xc)for(var n of xc(t))Ac.call(t,n)&&Ec(e,n,t[n]);return e};const kc=p.Z.extend({mixins:m.Z,initialize(e){this.user=e,this.debouncedChangeTimeout=null},start(){const e=this.user;this.listenTo(e,{change:this.onUserChange,"change:hasInvalidToken":this.onHasInvalidTokenChange,"change:isSignedIn":this.onIsSignedInChange}),this.listenTo(g.Z,{[`cloudServer:${Sc.Ej}`]:this.onNotifyAccountChange});const t=e.get("hasInvalidToken"),n=e.get("isSignedIn");t&&this.onHasInvalidTokenChange(e,t),n&&this.onIsSignedInChangeHandleToken(e,n)},handleInvalidToken(){const e=new Ws.Z({title:(0,_.Z)("Invalid Credentials"),message:(0,_.Z)("Your credentials have expired. Please sign in again."),confirmLabel:(0,_.Z)("OK"),cancelLabel:(0,_.Z)("Ignore")});e.promise.done((()=>{(0,j.Z)("login")})),g.Z.trigger("show:modal",e)},_updateUser(e,t){if(t){const n={};t.id!==e.id&&(n.included=["experienceSettings"]),t.copyFromModel(e,n)}else Qa.get("users").add(e.toJSON(),{parse:!0});Qa.debouncedSave()},onHasInvalidTokenChange(e,t){t&&this.handleInvalidToken()},onUserChange(e){this.debouncedChangeTimeout&&window.clearTimeout(this.debouncedChangeTimeout);const t=Qa.getActiveUser();this.debouncedChangeTimeout=window.setTimeout(this._updateUser.bind(this,e,t),0)},onIsSignedInChange(e,t){this.onIsSignedInChangeHandleToken(e,t),this.onIsSignedInChangeHandleSyncSettings(e,t),this.onIsSignedInChangeHandlePopulateUser(e,t)},onIsSignedInChangeHandleToken(e,t){if(this.stopListening(e,"change:hasInvalidToken",this.onHasInvalidTokenChange),t){if(t&&e.get("restricted")&&document.cookie.split(";").forEach((e=>{const[t]=e.trim().split("=");t&&!wc.includes(t)&&(document.cookie=`${t}=; Domain=plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${t}=; Domain=.app.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`)})),e.get("isFullUser")&&t){const t=e.server.getXHROptions("/api/claim/subscribe");s().ajax(Ic(Ic({},t),{type:"POST"}))}}else e.get("hasInvalidToken")&&this.handleInvalidToken()},onIsSignedInChangeHandleSyncSettings(e,t){if(!t)return;const n=(0,h.DB)("appStore").dispatch,i=e.get("settings"),r=e.get("experienceSettings"),s=i.reduce(((e,t)=>(t.get("isDirty")&&e.push(t.get("id")),e)),[]);r.get("isDirty")&&n((0,Zc.Xe)()),s.length&&n((0,Zc.Z$)(s))},onIsSignedInChangeHandlePopulateUser(e,t){if(!t)return void e.get("features").clear();const n=(0,h.DB)("appStore").dispatch,i={reset:!0};e.get("homeDetails").populate(i),e.get("homeUsers").populate(i),e.get("consent").populate(i),e.get("geo").populate(i);const r=e.get("desktop");r.get("devices").populate(i),r.get("invites").populate(i),r.get("socialNetworks").populate(i),e.get("features").populate(i).then((()=>{n((0,bc.Zu)())})),n((0,Zc.Bl)())},onNotifyAccountChange(){this.user.fetch().then((()=>{(0,ae.Z)("[User] updated account following account change notification")}),(e=>{ae.Z.error("[User] Unable to update account following account change notification",e)}))}});function Tc(){let e=bt(Qa.populate());return e=e.then((()=>he.get("myPlexAccessToken"))),e=e.then((e=>{const t=(0,h.DB)("appModel").get("user"),n=Qa.get("users").findWhere({authToken:e});n&&(t.activateStoredUser(n.id),n.copyToModel(t))}),(()=>{const e=(0,h.DB)("appModel").get("user");e.activateStoredUser(0);const t=Qa.getActiveUser();t&&t.copyToModel(e)})),bt(e).then((()=>{const e=(0,h.DB)("appModel").get("user");new kc(e).start()}))}function Oc(){return c.render(o.createElement(d.zt,{store:(0,h.DB)("appStore")},o.createElement(u.F0,{history:Ce.Z},o.createElement(a.W,{backend:l.PD},o.createElement(gs,null)))),document.getElementById("plex")),s().Deferred().resolve().promise()}function Mc(){let e=function(e={},t={}){const n=((e,t)=>{for(var n in t||(t={}))Ml.call(t,n)&&_l(e,n,t[n]);if(Rl)for(var n of Rl(t))Dl.call(t,n)&&_l(e,n,t[n]);return e})({allowUrls:[new RegExp((0,Tl.Z)("-plex-0.2.0.263-446a88b"))],debug:!1,dsn:"https://7782d805c637497c874a353c9c4d349e@o17675.ingest.sentry.io/6288871",environment:"public",ignoreErrors:["ResizeObserver","songId",/^Non-Error promise rejection captured/,/^SecurityError: The operation is insecure/],integrations:[new El.jK.Breadcrumbs({fetch:!1,xhr:!1})],release:"0.2.0.263-446a88b",sampleRate:.05,version:"0.2.0"},e),i=Vl.reduce(((e,t)=>(e.hasOwnProperty(t)||(e[t]=ol.Z.prop(t)),e)),t);return Il.S1(n),Object.entries(i).forEach((([e,t])=>{kl.YA(e,t)})),s().Deferred().resolve().promise()}();return e=e.then(gc),e=e.then(bl),e=e.then(Al),e=e.then(As),e=e.then(Ms),e=e.then(ws),e=e.then(Zl),e=e.then(Tc),e=e.then(Wl),E.Z.allowCloudPubSub&&(e=e.then((()=>function(){let e;return Cs.Z.hasWebSocket&&(e=new _s.Z({name:"CloudServerEventManager",appModel:(0,h.DB)("appModel"),isValidServer:Ns,supportsLongPolling:!0,allowMultipleConnections:!0,ServerEventConnection:js,ServerRetryManager:Ds}),e.start()),s().Deferred().resolve().promise()}()))),e=e.then(Jl),e=e.then(yc),e=e.then(Kl),e=e.then(zl),e=e.then(dc),e=e.then(A),e=e.then(C),e=e.then(Oc),e}var Rc=n(40202),Dc=n.n(Rc),_c=n(59239),Vc=n.n(_c),Lc=n(19734),jc=n.n(Lc),Nc=n(28348),Uc=n.n(Nc),Fc=n(51030),Bc=n.n(Fc),zc=n(71815),Hc=n.n(zc),qc=n(44710),Wc=n.n(qc),$c=n(57327),Gc=n.n($c);Dc().registerPartial("setting",Wc()),Dc().registerPartial("lockableTagInput",Bc()),Dc().registerPartial("lockableTextInput",Hc()),Dc().registerPartial("lockableNumericInput",Uc()),Dc().registerPartial("textInput",Gc()),Dc().registerPartial("autocompleteTextInput",Vc()),Dc().registerPartial("connectError",jc());const Kc={};function Xc(e){return null==e?"":String(e)}function Qc(e,...t){let n,i=1;const r=t.length;for(;i<=r;)n=Kc[i],n||(n=new RegExp((0,Tl.Z)(`{${i}}`),"g"),Kc[i]=n),e=e.replace(n,Xc(t[i-1])),i++;return e}function Jc(e,...t){return v().isObject(t[0])?function(e,t){return e.replace(/\{([a-z0-9]+?)\}/gi,((e,n)=>t.hasOwnProperty(n)?Xc(t[n]):e))}(e,t[0]):v().isObject(t[t.length-1])?(t.pop(),Qc(e,...t)):Qc(e,...t)}function Yc(e,t){return t?e?v().escape(t):t:""}var ed;const td={languages:{en:"en.json","en-GB":"en-GB.json",af:"af.json",my:"my.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json","es-419":"es-419.json",el:"el.json",fr:"fr.json","fr-CA":"fr-CA.json",hr:"hr.json",is:"is.json",it:"it.json",lt:"lt.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json",pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",vi:"vi.json",tr:"tr.json",uk:"uk.json",bg:"bg.json",zh:"zh.json","zh-TW":"zh-TW.json",ja:"ja.json",ko:"ko.json",th:"th.json",fa:"fa.json",ar:"ar.json",he:"he.json"},loadingPromise:null,loadingLanguage:null,getLanguages:function(){return this.languages},getTranslation:function(e){if(this.translations[this.language])return this.translations[this.language][e]},t:function(e){return function(t,...n){return Jc(Yc(!1,e.call(this,t)||t),...n)}}((function(e,...t){return this.getTranslation(e,...t)})),tEscape:(ed=function(e,...t){return this.getTranslation(e,...t)},function(e,...t){return Jc(Yc(!0,ed.call(this,e)||e),...t)}),load:function(e){if(this.loadingLanguage&&this.loadingLanguage===e)return this.loadingPromise;const t=this.getLanguages();let n;return n=v().has(t,e)?v().has(this.translations,e)?s().Deferred().resolve().promise():s().ajax({dataType:"json",url:Gi.Z.join([this.basePath,t[e]])}):s().Deferred().reject().promise(),this.loadingLanguage=e,this.loadingPromise=n,n.done(v().bind(this.onLoadSuccess,this,n)),n.fail(v().bind(this.onLoadError,this,n)),n},onLoadSuccess:function(e,t){const n=this.loadingLanguage;e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null,this.language=n,t&&(this.translations[n]=t),g.Z.trigger("languageLoaded",n))},onLoadError:function(e){e===this.loadingPromise&&(g.Z.trigger("languageLoaded",this.loadingLanguage),this.loadingPromise=null,this.loadingLanguage=null)}},nd=2500;function id(e){return e.get("isPopulated")?s().Deferred().resolve(e).promise():function(e){const{eventSource:t,events:n,predicate:i=(()=>!0),waitDuration:r=nd}=e,o=s().Deferred(),a=()=>{i(t)&&(c=window.clearTimeout(c),t.off(l),o.resolve(t))},l=n.reduce(((e,t)=>(e[t]=a,e)),{});let c=window.setTimeout((()=>{ae.Z.warn('Model "%s" events %o did not pass the predicate within %dms',t.name,n,r),t.off("add",l),o.reject(t)}),r);return t.on(l),o.promise()}({eventSource:e,events:["change:error","change:isPopulated"]})}const rd=p.Z.extend({mixins:td,constructor:function(){this.basePath=Gi.Z.join(["/manage/","translations"]),this.translations={},(0,h.X_)("appModel").done(this.onAppModelRegistered.bind(this))},_repopulateProviders(){const e=(0,h.DB)("appModel"),t=e.get("servers");return Ct(t.map((t=>{if(t.get("isCloud")){const t=e.get("user").get("providers");return Ct(t.map((e=>((0,h.DB)("appStore").dispatch((0,bc.dB)({providerEntityID:e.entityID(),options:{merge:!0}})),id(e)))))}if(t.get("isConnected"))return(0,h.DB)("appStore").dispatch((0,an.lm)({serverEntityID:t.entityID(),options:{merge:!0}})),id(t)})).filter(Boolean))},onAppModelRegistered(){}}).extend({onAppModelRegistered(e){e.on("change:user.change:experienceSettings.change:language",((e,t)=>{this.load(t).done((()=>{ql.Z.setOption("language",t),this._repopulateProviders()}))}))}}),sd=function(){Hl.Z.register(new rd)},od={init(){const e=(0,h.DB)("appModel"),t=`${window.innerWidth}x${window.innerHeight}`,n=`${window.screen.width}x${window.screen.height}`,i={"X-Plex-Product":"Plex Server Manager","X-Plex-Version":"0.2.0","X-Plex-Client-Identifier":e.get("clientID"),"X-Plex-Platform":wn.Z.name,"X-Plex-Platform-Version":wn.Z.version,"X-Plex-Features":"external-media,indirect-media","X-Plex-Model":"bundled","X-Plex-Device":wn.Z.platform,"X-Plex-Device-Name":wn.Z.name,"X-Plex-Device-Screen-Resolution":`${t},${n}`};return e.on("change:clientID",((e,t)=>{i["X-Plex-Client-Identifier"]=t})),s().Deferred().resolve(i).promise()}},ad=Sl.extend({name:"PersistentWebStorage",getStorage:()=>window.localStorage}),ld=Sl.extend({name:"VolatileWebStorage",getStorage:()=>window.sessionStorage}),cd={registerAll(){const e=od.init();e.done((e=>ol.Z.register(e)));const t=new ad;return he.register(t),Pl.register(new ld),sd(),s().when(e)}},dd=p.Z.extend({mixins:[m.Z],name:"AjaxQueue",queue:null,request:null,enabled:!1,destroyed:!1,initialize(e={}){this.queue=[],!1!==e.enabled&&this.enable()},enable(){this.enabled||this.destroyed||(this.enabled=!0,this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.request=null,this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.queue.length=0,this.destroyed=!0,this.onDestroyed())},send(e){e&&(this.queue.push(e),this._next())},_next(){if(!this._canNext())return;const e=this.queue.shift(),t=e&&this._getAjaxOptions(e);if(t){const e=s().ajax(t);e.always(this.onAjaxAlways.bind(this,e)),this.request=e}},_canNext(){return this.enabled&&!this.request},_getAjaxOptions:e=>e,onAjaxAlways(e){this.enabled&&e===this.request&&(this.request=null,this._next())},onEnabled(){this._next()},onDisabled(){},onDestroyed(){}});function ud(){const e=new dd;let t=null;return{setBaseUrl(e){t=e},trackEvent(n){if(!t)return void(0,ir.Z)(!1,"Network metrics reporters requires a base URL to be set before tracking events");const i=Gi.Z.join([t,"collect/event"]),r=JSON.stringify(n);window.navigator.sendBeacon?window.navigator.sendBeacon(i,r):e.send({type:"POST",url:i,contentType:"text/plain",data:r})}}}function hd(e){const t={language:()=>e.get("user").get("experienceSettings"),shouldSyncSettings:()=>e.get("deviceSettings")};return{find:e=>t[e]().get(e)}}const pd=["enable","disable","set","start","trackClick","trackEvent","trackView","incrementPlaybackCount","addPlaybackTime","toJSON"],gd=["setBaseUrl","trackEvent"],md="samenetwork";var fd=n(49037),vd=n(91487),yd=n(66910),bd=n(42466),Zd=Object.defineProperty,Sd=Object.prototype.hasOwnProperty,wd=Object.getOwnPropertySymbols,Pd=Object.prototype.propertyIsEnumerable,Cd=(e,t,n)=>t in e?Zd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xd=(e,t)=>{for(var n in t||(t={}))Sd.call(t,n)&&Cd(e,n,t[n]);if(wd)for(var n of wd(t))Pd.call(t,n)&&Cd(e,n,t[n]);return e};function Ad(e,t){const{server:n}=t,i=n.get("debugName");return ae.Z.warn("[Connections] Aborting connection test for %s at %s because secure connections are disallowed",i,e),Ed(0,t)}function Ed(e,t){const{connection:n}=t,i=s().Deferred();return v().defer((()=>{n.set({currentTest:null,testState:fd.nZ}),i.reject(n)})),i.promise()}function Id(e){const{server:t,connection:n}=e,i=t.resolveUrl(e.url||"/media/providers",{connection:n}),r=(0,h.DB)("appModel"),o=r.get("settings"),a=r.get("deviceSettings");if(!E.Z.allowHttpsMediaServerConnections&&n.get("isHttps")&&!t.get("isCloud"))return Ad(i,e);const l=o&&o.get("preferInsecureConnections");if(!t.get("httpsRequired")&&!t.get("isCloud")&&n.get("isHttps")&&"always"===l)return Ad(i,e);if(!t.get("httpsRequired")&&n.get("isHttps")&&l===md&&n.get("isPrivate")&&t.get("publicAddressMatches"))return function(e,t){const{server:n}=t,i=n.get("debugName");return ae.Z.warn("[Connections] Aborting connection test for %s at %s because insecure connections are preferred",i,e),Ed(0,t)}(i,e);if(!E.Z.allowMixedContent&&Cs.Z.isHostedHttps&&!n.get("isHttps"))return function(e,t){const{server:n}=t,i=n.get("debugName");return ae.Z.warn("[Connections] Aborting connection test for %s at %s due to mixed content prevention",i,e),Ed(0,t)}(i,e);const c=a&&a.get("rejectDirectConnections");return t.get("isCloud")||n.get("relay")||!c&&!E.Z.rejectDirectConnections?function(e,t){const{server:n,connection:i}=t,r=s().Deferred(),o=n.get("debugName"),a=(0,vd.Z)(n),l=Date.now();(0,ae.Z)("[Connections] Testing connection for %s at %s",o,e);const c=[],d={dataType:"text",headers:{Accept:a.accept},timeout:n.connectionTestTimeout};c.push(n.getXHROptions(e,d));const u=!(0,bd.Z)(n);if(null==t.url&&u){const e=n.resolveUrl("/",{connection:i});(0,ae.Z)("[Connections] Testing legacy connection for %s at %s",o,e),c.push(n.getXHROptions(e,d))}if(E.Z.emulateBrokenHTTPS){const e=i.get("isHttps")&&!n.get("isCloud"),t="private"!==E.Z.emulateBrokenHTTPS||i.get("isPrivate");e&&t&&function(e){e.forEach((e=>{e.url="fail"+e.url}))}(c)}const p=c.map((e=>s().ajax(e))),g=Ct(p);function m(e){i.get("relay")&&(0,h.DB)("metrics").trackEvent(xd(xd({},e),{event:xr.EE,interaction:!1,reason:1===i.server.get("connections").length?101:102,serverType:i.server.get("isShared")?"shared":"owned",latency:Date.now()-l}))}function f(t){(0,ae.Z)("[Connections] %s connected at %s",o,e),i.set({currentTest:null,testState:fd.nm}),m({status:"success"}),r.resolve(i,t)}function v(t,n){const s={currentTest:null};if(t.some((e=>e.aborting)))(0,ae.Z)("[Connections] Aborted pending connection test for %s at %s",o,e),s.testState=fd.c9;else{const i=function(e){return 401===e||403===e||406===e}(n)?fd.WY:fd.nZ;m({status:"failure",error:n}),t.forEach((t=>{ae.Z.warn("[Connections] %s is %s at %s (Status %s)",o,i,e,t.status)})),s.testState=i}i.set(s),r.reject(i,t)}return i.set({currentTest:p,testState:fd.hA}),g.done((()=>{const[t,i]=p;let r;if(200!==t.status&&404!==t.status?r=t.status:i&&200!==i.status&&(r=i.status),void 0!==r)return void v(p,r);if(n.get("isCloud"))return void f();const l=a.parse(t.responseText),c=i?a.parse(i.responseText):void 0,d=n.parseResponse(s().extend(!0,{},l,c)),u=d.machineIdentifier,h=n.get("machineIdentifier");if(!u||h&&u!==h)ae.Z.warn("[Connections] %s has an unexpected machine identifier at %s",o,e),v(p);else{!0===d.mediaProviders?d.mediaProviders=1:!1===d.mediaProviders?d.mediaProviders=0:i||(d.mediaProviders=1);const e=n.parse(d);e.isInstallingServerUpdate=!1,e.isProvidersPending=!1,e.isProvidersPopulated=!0,(0,yd.Z)(e.providers,n),f(e)}})),r.promise()}(i,e):function(e,t){const{server:n}=t,i=n.get("debugName");return ae.Z.warn("[Connections] Aborting connection test for %s at %s due to reject direct connection debug setting",i,e),Ed(0,t)}(i,e)}const kd=p.Z.extend({mixins:[m.Z],browserConnectionChangeDelay:2e3,initialize(e){v().bindAll(this,"onBrowserConnectionChange"),this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this.settings=this.appModel.get("settings")},start(){this.stop();const e=s()(window);e.on("online",this.onBrowserConnectionChange),e.on("offline",this.onBrowserConnectionChange),this.listenTo(g.Z,{"test:servers":this.onTestAllServers,"test:server":this.onTestServer}),this.listenTo(this.servers,{add:this.onServerAdd,remove:this.onServerRemove,reset:this.onServersReset,"error:connection":this.onServerConnectionError,"change:connections.add":this.onServerConnectionAdd,"change:connections.remove":this.onServerConnectionRemove,"change:connections.reset":this.onServerConnectionsReset,"change:connections.change:isConnected":this.onServerConnectionConnectedChange,"change:connections.change:sources.change":this.onServerConnectionSourcesChange,"change:accessToken":this.onServerAccessTokenChange,"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange,"change:publicAddressMatches":this.onServerPublicAddressMatchesChange}),this.listenTo(this.settings,"sync",this.onSettingsSave),this.servers.invoke("testOnlyUntestedConnections")},stop(){this.stopListening();const e=s()(window);e.off("online",this.onBrowserConnectionChange),e.off("offline",this.onBrowserConnectionChange)},retryServerConnections:function(e){e.testAllConnections()},startFailedServerRetries(e){},stopFailedServerRetries(e){},_removeConnection(e){const{server:t}=e,n=Qa.getActiveServers();if((0,ae.Z)("[Connections] Removed connection %s from %s",e.id,t.get("debugName")),t.abortConnectionTest(e),n){const i=n.get(t.id),r=i&&i.get("connections");r&&r.get(e.id)&&(r.remove(e.id),r.length||n.remove(t.id),Qa.debouncedSave())}},onBrowserConnectionChange(e){(0,ae.Z)("[Connections] Browser online status changed to",window.navigator.onLine),window.clearTimeout(this.browserConnectionChangeTimeout),this.browserConnectionChangeTimeout=window.setTimeout((()=>{this.servers.invoke("testAllConnections")}),this.browserConnectionChangeDelay)},onTestAllServers(){this.servers.invoke("testAllConnections")},onTestServer(e){e.testAllConnections()},onServerAdd(e){e.testOnlyUntestedConnections()},onServerRemove(e){const t=Qa.getActiveServers();let n;if(e.abortAllConnectionTests(),this.stopFailedServerRetries(e),t)if(e.get("isMerged")){const i=e.previous("machineIdentifier");i&&(n=t.get(i),n&&(n.set("machineIdentifier",e.id),Qa.debouncedSave()))}else n=t.get(e.id),n&&(t.remove(e.id),Qa.debouncedSave())},onServersReset(e,t){const n=t.previousModels;v().each(n,(t=>{e.contains(t)||(t.abortAllConnectionTests(),this.stopFailedServerRetries(t))}))},onServerConnectionError(e){ae.Z.warn("[Connections] Possible connection error for %s, retrying connection tests",e.get("debugName")),e.get("isCloud")?this.appModel.get("user").signInUnsupervised():e.testAllConnections()},onServerConnectionAdd(e){const{server:t}=e;(0,ae.Z)("[Connections] Added connection %s for %s",e.id,t.get("debugName")),e.get("relay")?t.get("connections").hasFailedEveryDirectConnection()&&t.testAllConnections():t.testConnection(e)},onServerConnectionRemove(e){this._removeConnection(e)},onServerConnectionsReset(e,t){const n=t.previousModels;v().each(n,(t=>{e.contains(t)||this._removeConnection(t)}))},onServerConnectionConnectedChange(e,t){const{server:n}=e,i=e.get("isBundled"),r=e.get("isFallback"),s=e.get("relay"),o=t&&!i&&!r&&!s,a=Qa.getActiveServers();if(n.id&&!n.get("isCloud")&&o&&a){let t=a.get(n.id);if(t)t.copyFromModel(n);else{const e=v().omit(n.toJSON(),"connections");t=a.add(e,{merge:!0,parse:!0})}t.get("connections").add(e.toJSON(),{merge:!0,parse:!0}),Qa.debouncedSave()}},onServerConnectionSourcesChange(e,t){const{server:n}=e,i=Qa.getActiveServers(),r=i&&i.get(n.id);if(r){const n=r.get("connections").get(e.id);n&&(n.get("sources").set(t.toJSON()),Qa.debouncedSave())}},onServerAccessTokenChange(e,t){if(!e.get("isCloud")){(0,ae.Z)("[Connections] Access token for %s changed to %s",e.get("debugName"),t);const n=Qa.getActiveServers(),i=n&&n.get(e.id);i&&(i.set("accessToken",t),Qa.debouncedSave()),e.get("isUnauthorized")&&e.set("connectionTestResult",Ko.ZP.connectionTestResults.PENDING),e.testAllConnections()}},onServerConnectedChange(e,t){t&&this.stopFailedServerRetries(e)},onServerUnavailableChange(e,t){t&&this.startFailedServerRetries(e)},onServerPublicAddressMatchesChange(e,t){void 0!==t&&e.testAllConnections()},onSettingsSave(e){e.changed.hasOwnProperty("preferInsecureConnections")&&this.servers.invoke("testAllConnections")}}),Td=kd.extend({initialize(e){kd.prototype.initialize.apply(this,arguments),this._serverRetryManager=new Rs.Z({callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying connection tests for %s in %s seconds"})},stop(){kd.prototype.stop.apply(this,arguments),this._serverRetryManager.stopAll()},startFailedServerRetries(e){this._serverRetryManager.start(e)},stopFailedServerRetries(e){this._serverRetryManager.stop(e)}}),Od=["page","type","style","mode"];var Md=n(96637);function Rd(e){if(null==e)return;const t=Math.round(e/1e3);let n;return n=t>=3600?300:60,function(e,t){let n=e/t;return n=Math.round(n),n*=t,n}(t,n)}const Dd=/0/g,_d=()=>(0|16*Math.random()).toString(16),Vd=function(){return"00000000-0000-4000-8000-000000000000".replace(Dd,_d)};var Ld=n(74539),jd=Object.defineProperty,Nd=Object.prototype.hasOwnProperty,Ud=Object.getOwnPropertySymbols,Fd=Object.prototype.propertyIsEnumerable,Bd=(e,t,n)=>t in e?jd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zd=(e,t)=>{for(var n in t||(t={}))Nd.call(t,n)&&Bd(e,n,t[n]);if(Ud)for(var n of Ud(t))Fd.call(t,n)&&Bd(e,n,t[n]);return e};const Hd=p.Z.extend({mixins:m.Z,initialize(){this.privacySettings=null,this.defaults={},this._pendingPrivacyRequest=null,this._pendingEvents=[],this.debouncedFetchPrivacySettings=v().debounce(this.fetchPrivacySettings,250),this.enable()},enable(){this.enabled=!0},disable(){this.enabled=!1},set(e){this.defaults=zd(zd({},this.defaults),e)},setUser(e){this.set({userId:e.id}),this.defaults.context||(this.defaults.context={}),this.defaults.context.user=e.get("subscriptions").reduce(((e,t)=>(e[t.get("type")]=t.get("mode"),e)),{anonymous:e.get("anonymous")})},fetchPrivacySettings(){this.privacySettings=null,this._pendingPrivacyRequest&&(this._pendingPrivacyRequest.abort(),this._pendingPrivacyRequest=null);const e=(0,h.DB)("appModel").get("user");if(!e.server.get("isConnected"))return s().Deferred().reject().promise();const t=e.server.getXHROptions("/api/v2/user/privacy",{dataType:"json"});return this._pendingPrivacyRequest=s().ajax(t),this._pendingPrivacyRequest.promise().done((t=>{this.setUser(e),this.setPrivacySettings(t),this.trackPendingEvents(),this.sendMMPEvent()})).always((()=>{this._pendingPrivacyRequest=null}))},setPrivacySettings(e){e&&e.metrics&&(this.privacySettings=zd(zd({},e),{metrics:e.metrics.reduce(((e,t)=>(e[t.event]=t.status,e)),{})}),(0,h.DB)("metricsReporter").setBaseUrl(e.baseUrl))},sendMMPEvent(){},incrementPlaybackCount(){const e="playbackCount",t=(0,h.DB)("sessionStats");t.save(e,t.get(e)+1)},addPlaybackTime(e){const t="playbackTime",n=(0,h.DB)("sessionStats");n.save(t,n.get(t)+e)},trackView(e,t){const n=xr.fB,i=zd({event:n,interaction:!0,properties:e},t),r=Md.Z.measure(function(e,t){let n=e;for(let e=0;e<Od.length;e++){const i=t[Od[e]];null!=i&&(n=`${n}:${i}`)}return n}(n,e),`${n}:${e.page}-start`);r&&(i.properties=zd(zd({},i.properties),{latency:Math.round(r.duration)})),this.trackEvent(i)},trackClick(e,t){this.trackEvent(zd({event:xr.Ip,interaction:!0,properties:e},t))},trackEvent(e){var t;if(!this.enabled)return;const n=null==(t=e.properties)?void 0:t.contextTuple;n&&(delete e.properties.contextTuple,Object.assign(e.properties,(0,Ld.IF)(n)));const i=(0,h.DB)("sessionStats"),r=i.get("sessionId"),o=i.get("anonymousSessionId");if(!this.privacySettings)return void this._pendingEvents.push(zd(zd({},e),{sessionIdentifier:r,anonymousSessionIdentifier:o}));const a=s().extend(!0,{},this.defaults,e);a.sessionIdentifier||(a.sessionIdentifier=r),a.anonymousSessionIdentifier||(a.anonymousSessionIdentifier=o);const l=Date.now();if(e.event!==xr.$R&&e.event!==xr.o$){const t=i.get("lastInteractionTime"),n=i.get("lastPlayingHeartbeatTime");if(l-Math.max(t,n)>18e5)return void this.flushSession().then((()=>{this.trackEvent(e)}))}const c=this.privacySettings.metrics[a.event];c&&("off"===c||(a.interaction&&function(){const e=Date.now(),t=(0,h.DB)("sessionStats");ae.Z.debug("[Metrics] Updating session last interaction time"),t.save("lastInteractionTime",e)}(),"anonymous"===c&&(delete a.userId,a.deviceIdentifier=(0,h.DB)("appModel").get("anonymousClientID"),a.sessionIdentifier=a.anonymousSessionIdentifier),delete a.anonymousSessionIdentifier,(0,h.DB)("metricsReporter").trackEvent(a)))},trackPendingEvents(){const e=this._pendingEvents;let t=0;for(;t<e.length;)this.trackEvent(e[t]),t++;this._pendingEvents=[]},start(){const e=(0,h.DB)("appModel").get("user");return this.flushSession().then((()=>bt(e.server.populate()))).then((()=>this.fetchPrivacySettings())).always((()=>{this.listenTo(e.server,"change:isConnected",this.onCloudServerChange),this.listenTo(e,"change:id",this.onUserIDChange)})),s().Deferred().resolve().promise()},flushSession(){return bt((0,h.DB)("sessionStats").populate().then((()=>{this.stopSession(),this.startSession()}),(()=>{this.startSession()})))},startSession(){const e=Date.now(),t=(0,h.DB)("sessionStats");if(!this.interval){const e=E.Z.heartbeatInterval;this.interval=window.setInterval((()=>{const e={heartbeatTime:Date.now()};t.set(e)}),e)}t.save({sessionId:Vd(),anonymousSessionId:Vd(),startTime:e,lastInteractionTime:e,heartbeatTime:e,lastPlayingHeartbeatTime:null,playbackCount:0,playbackTime:0});const n=xr.o$,i=Md.Z.endPeriod(n),r={event:n,interaction:!0,properties:{mode:"uno"}};i&&(r.properties.latency=Math.round(i.duration)),this.trackEvent(r)},stopSession(){const e=(0,h.DB)("sessionStats"),t=e.get("heartbeatTime"),n=e.get("playbackCount"),i=e.get("playbackTime"),r=e.get("startTime");this.trackEvent({event:xr.$R,interaction:!1,properties:{sessionLength:Math.floor((t-r)/1e3),playbackCount:n,playbackTime:Rd(i)}})},toJSON(){return zd({},this.defaults)},onCloudServerChange(e,t){t?this.fetchPrivacySettings():this.privacySettings=null},onUserIDChange(){this._appsflyerIntervalID&&window.clearInterval(this._appsflyerIntervalID),this._appsflyerTimeoutID&&window.clearTimeout(this._appsflyerTimeoutID),this.privacySettings=null,this.debouncedFetchPrivacySettings()}}),qd=p.Z.extend({mixins:[m.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(e){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isPrimaryEligible":this.onPrimaryServerEligibleChange,"change:primaryServer.change:isOutOfDate":this.onPrimaryServerOutOfDateChange,"change:isWaitingForServers":this.onWaitingForServersChange,"change:primaryServer.change:isRelayed":this.onPrimaryServerIsRelayedChange}),this.listenTo(this.servers,{"update reset":this.onServersUpdate}),this._setPrimaryServer(vt.DJ)},stop(){this.stopListening(),this._primaryServerPromise=null},_setPrimaryServer(e){if(this._primaryServerPromise)return this._primaryServerPromise;const t=(0,h.DB)("appStore");t.dispatch((0,D.I2)());const n=this._waitForPrimaryServer();return this._primaryServerPromise=n,n.done((i=>{if(n===this._primaryServerPromise){if(this._primaryServerPromise=null,this.appModel.get("primaryServer"))return;const n=!i.get("version")&&!i.get("isRejected");i.get("isOutOfDate")||n?((0,ae.Z)("[Primary Server] The server, %s, is waiting for a version",i.get("debugName")),this._setPrimaryServer(e)):t.dispatch((0,D.h9)({machineIdentifier:i.id,metricsProperties:{context:e}}))}})).fail((()=>{n===this._primaryServerPromise&&(this._primaryServerPromise=null,this.appModel.set("isWaitingForPrimaryServer",!1))})),n},_waitForPrimaryServer(){const e=this.appModel.get("user").get("lastPrimaryServerID");let t;return e?((0,ae.Z)("[Primary Server] Waiting for the last primary server, %s, to connect",e),t=this.servers.populateServer({machineIdentifier:e,isPrimaryEligible:!0,isOutOfDate:!1})):t=s().Deferred().reject().promise(),t=t.then(null,(()=>((0,ae.Z)("[Primary Server] Waiting for any owned server to connect"),this.servers.populateServer({isFullOwnedServer:!0,isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,ae.Z)("[Primary Server] Waiting for any eligible server to connect"),this.servers.populateServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t=t.then(null,(()=>((0,ae.Z)("[Primary Server] Waiting for any eligible server"),this.servers.findServer({isPrimaryEligible:!0,isOutOfDate:!1})))),t},onPrimaryServerChange(e,t){Qa.flushDebouncedSave();const n=e.previous("primaryServer");n&&this.stopListening(n),t?(ae.Z.info("[Primary Server] %s is now the primary server",t.get("debugName")),e.get("user").set("lastPrimaryServerID",t.id),t.get("isRelayed")&&(0,h.DB)("appStore").dispatch((0,an.J3)({machineIdentifier:t.id,serverName:t.get("friendlyName")}))):e.get("isWaitingForPrimaryServer")?(0,ae.Z)("[Primary Server] Waiting to set the primary server"):ae.Z.warn("[Primary Server] No primary server found")},onPrimaryServerEligibleChange(e,t){const n=this.appModel.get("user");t||((0,ae.Z)("[Primary Server] The previous primary server, %s, is unauthorized",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(vt.jd))},onPrimaryServerOutOfDateChange(e,t){const n=this.appModel.get("user");t&&((0,ae.Z)("[Primary Server] The previous primary server, %s, is out of date",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer(vt.jd))},onWaitingForServersChange(e,t){if(t){const t=e.get("primaryServer"),n=!t||!this.servers.get(t.id),i=e.get("isWaitingForPrimaryServer");n&&!i&&this._setPrimaryServer(vt.jd)}},onPrimaryServerIsRelayedChange(e,t){t&&(0,h.DB)("appStore").dispatch((0,an.J3)({machineIdentifier:e.id,serverName:e.get("friendlyName")}))},onServersUpdate(){const e=this.appModel.get("user"),t=this.appModel.get("primaryServer");t?t&&!this.servers.get(t.id)&&((0,ae.Z)("[Primary Server] The previous primary server, %s, was removed",t.get("debugName")),e.unset("lastPrimaryServerID"),this._setPrimaryServer(vt.jd)):this._setPrimaryServer(vt.DJ)}}),Wd=p.Z.extend({mixins:[m.Z],initialize(e){this.appModel=e.appModel},start(){const e=this.appModel.get("user");this.populateCloudProviders(e.get("providers")),this.listenTo(this.appModel,{"change:user.change:providers.add":this.onProviderAdd})},stop(){this.stopListening()},populateCloudProviders(e){e.each((e=>{this.populateCloudProvider(e)}))},populateCloudProvider(e){e.get("isPopulated")||(0,h.DB)("appStore").dispatch((0,bc.RG)({providerEntityID:e.entityID(),options:{merge:!0}}))},onProviderAdd(e){this.populateCloudProvider(e)}});function $d(e,t,n){return function(i){return i.server===e&&i.connection.id===t.id&&i.url===n}}const Gd=p.Z.extend({initialize(e){this.appModel=e.appModel,this.queued=[],this.executing=[],this.maximumConcurrent=E.Z.maximumConcurrentConnectionTests,this.throttledStartProcessing=v().throttle(this._startProcessing.bind(this),50,{leading:!1})},queueConnectionTest({server:e,connection:t,url:n}){const i=this._queuedOrExecuting(e,t,n);if(i)return i.deferred.promise();const r=s().Deferred();return this.queued.push({server:e,connection:t,url:n,deferred:r}),this._sortQueue(),this.throttledStartProcessing(),r.promise()},abortConnectionTest({server:e,connection:t,url:n}){return this._abortCurrentTest(e,t,n),this._removeQueuedOrExecuting(e,t,n),s().Deferred().resolve().promise()},reset(){for(this.queued.length=0;this.executing.length>0;)this.abortConnectionTest(this.executing[0])},_sortQueue(){const e=this.appModel.get("user").get("lastPrimaryServerID");this.queued.sort(((t,n)=>{const i=t.server,r=n.server,s=t.connection,o=n.connection,a=this._isManualConnection(s),l=this._isManualConnection(o),c=this._isMatchingLocation(i,s),d=this._isMatchingLocation(r,o);return i.id===e&&r.id!==e?-1:r.id===e&&i.id!==e?1:i.get("isCloud")&&!r.get("isCloud")?-1:r.get("isCloud")&&!i.get("isCloud")?1:!s.get("relay")&&o.get("relay")?-1:!o.get("relay")&&s.get("relay")?1:!s.get("isConnected")&&o.get("isConnected")?-1:!o.get("isConnected")&&s.get("isConnected")?1:!i.get("isShared")&&r.get("isShared")?-1:!r.get("isShared")&&i.get("isShared")?1:i.get("isFullServer")&&!r.get("isFullServer")?-1:r.get("isFullServer")&&!i.get("isFullServer")?1:a&&!l?-1:l&&!a?1:s.get("isBundled")&&!o.get("isBundled")?-1:o.get("isBundled")&&!s.get("isBundled")?1:c&&!d?-1:d&&!c?1:0}))},_startProcessing(){v().times(this.maximumConcurrent-this.executing.length,this._process.bind(this))},_process(){if(this.executing.length>=this.maximumConcurrent)return;if(!this.queued.length)return;const e=this.queued.shift(),{server:t,connection:n,url:i}=e;this._abortCurrentTest(t,n,i);const r=(0,h.DB)("testServerConnection")({server:t,connection:n,url:i});this.executing.push(e),r.done(((t,n)=>{e.deferred.resolve(t,n)})),r.fail(((t,n)=>{e.deferred.reject(t,n)})),r.always((()=>{const t=this.executing.indexOf(e);this.executing.splice(t,1),this._process()}))},_abortCurrentTest(e,t,n){t.get("currentTest")&&t.get("currentTest").forEach((i=>{const r=e.resolveUrl(n||i.url,{connection:t});i&&"pending"===i.state()&&((0,ae.Z)("[Connections] Aborting pending connection test for %s at %s",e.get("debugName"),r),Ss.Z.abort(i.rid),i.abort())}))},_isManualConnection:e=>e.get("sources").some((e=>0===e.id.indexOf("manualServer"))),_isMatchingLocation(e,t){const n=e.get("publicAddressMatches"),i=t.get("isPrivate");return n&&i||!n&&!i},_queuedOrExecuting(e,t,n){const i=$d(e,t,n);return v().find(this.executing,i)||v().find(this.queued,i)},_removeQueuedOrExecuting(e,t,n){const i=$d(e,t,n),r=v().findIndex(this.executing,i),s=v().findIndex(this.queued,i);r>=0&&this.executing.splice(r,1),s>=0&&this.queued.splice(s,1)}});function Kd(e,t){t.get("connections").each((n=>{const i=[{id:t.server.id}],r=v().extend(n.toJSON(),{sources:i});e.addConnection(r)}))}var Xd=n(2419),Qd=Object.defineProperty,Jd=Object.prototype.hasOwnProperty,Yd=Object.getOwnPropertySymbols,eu=Object.prototype.propertyIsEnumerable,tu=(e,t,n)=>t in e?Qd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function nu(e){const t=((e,t)=>{for(var n in t||(t={}))Jd.call(t,n)&&tu(e,n,t[n]);if(Yd)for(var n of Yd(t))eu.call(t,n)&&tu(e,n,t[n]);return e})({entityID:e.entityID()},e.toJSON());return(0,Xd.Z)(t)}var iu=n(69963),ru=n(67746);const su=Object.keys(Da.prototype.syncedAttrs),ou=p.Z.extend({mixins:[m.Z],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(){this.stop(),this.listenTo(this.servers,{"change:promiseState":this.onServerPromiseStateChange,remove:this.onServerRemove,"update reset":this.onServersUpdateReset,"change:resources.add":this.onResourceAdd,"change:resources.remove":this.onResourceRemove,"change:resources.update":this.onResourcesUpdate,"change:resources.reset":this.onResourcesReset,"change:resources.change:presence":this.onResourcesPresenceChange,"change:resources.change:connections.update":this.onResourceConnectionsUpdate,"change:isConnected":this.onConnectedChange,"change:desktop.change:isSettingsPopulated":this.onSettingsPopulatedChange}),su.forEach((e=>{this.listenTo(this.servers,"change:"+e,this.onStoredServerAttributeChange.bind(this,e))})),this.listenTo(g.Z,"discover:servers",this.onDiscoverServers),this._setAuthorized(),this._checkFoundAllServers()},stop(){this.stopListening()},_checkFoundAllServers(){this.servers.shouldWaitForInitialServers()||this.servers.shouldWaitForResources()||this.servers.shouldWaitForPendingServers()?this._waitForServers():this._foundAllServers()},_waitForServers(){this.servers.waitForServers(),(0,Ul.c9)((()=>{this.appModel.set("isWaitingForServers",!0)}))},_foundAllServers(){this.servers.foundAllServers(),(0,Ul.c9)((()=>{this.appModel.set("isWaitingForServers",!1)}))},_fetchResources(e){if(e.get("isRejected"))return ae.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:!1}),s().Deferred().reject().promise();if(!e.get("isResolved"))return(0,ae.Z)("[Servers] Finding resources through unresolved cloud server %o, resolving",e.get("debugName")),e.populate().then((()=>this._fetchResources(e)));(0,ae.Z)("[Servers] Finding resources through %s",e.get("debugName")),this._waitForServers(),e.set("isResourcesPending",!0);const t=e.get("resources");return t.fetch().done((()=>{(0,ae.Z)("[Servers] Found %s resources through %s",t.length,e.get("debugName")),e.set({isResourcesPending:!1,isResourcesPopulated:!0,hasFailedResources:!1,isDownForMaintenance:!1})})).fail(((t,n)=>{ae.Z.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:503===n.status})})).always((()=>{this._checkFoundAllServers()}))},_convertResourceToServer:e=>((0,ae.Z)("[Servers] %s was found through %s",e.get("name"),e.server.get("debugName")),function(e,t=!1){const n=t||"Plex Media Server"===e.get("product"),i=new Ko.ZP({machineIdentifier:e.id,friendlyName:e.get("name"),version:n?e.get("productVersion"):void 0,isShared:!e.get("owned"),accessToken:e.get("accessToken"),sourceTitle:e.get("sourceTitle"),publicAddressMatches:e.get("publicAddressMatches"),httpsRequired:e.get("httpsRequired"),platform:e.get("platform"),platformVersion:e.get("platformVersion"),presence:e.get("presence"),home:e.get("home"),serverClass:n?void 0:Ko.ZP.serverClasses.SECONDARY,createdAt:e.get("createdAt"),lastSeenAt:e.get("lastSeenAt"),ownerId:e.get("ownerId")},{parent:h.DB("appModel")});return Kd(i,e),i}(e)),_removeResource(e){(0,ae.Z)("[Servers] %s was removed as a resource from %s",e.get("name"),e.server.id);const t=this.servers.get(e.id);t&&t.removeSource(e.server.id)},_pruneStaleSources(e){const t=e.get("resources");let n=this.servers.length-1;for(;n>=0;){const i=this.servers.at(n),r=t.get(i.id);if(r){const t=i.get("connections");let n=t.length-1;for(;n>=0;){const i=t.at(n);i.get("sources").get(e.id)&&(r.get("connections").get(i.id)||i.get("sources").remove(e.id)),n--}}else i.removeSource(e.id);n--}},_setAuthorized(){const e=!!this.servers.findWhere({isConnected:!0,isCloud:!1}),t=!!this.servers.findWhere({isResolved:!0,isCloud:!0});this.appModel.set("authorized",e||t)},onServerPromiseStateChange(e,t){e.get("resources")&&this._fetchResources(e),this._setAuthorized(),this._checkFoundAllServers()},onStoredServerAttributeChange(e,t,n){const i=Qa.getActiveServers(),r=i&&i.get(t.id);r&&null!=n&&r.get(e)!==n&&(r.set(e,n),Qa.debouncedSave())},onServerRemove(e){ae.Z.warn("[Servers] %s was removed",e.get("debugName")),e.cache.remove(e),g.Z.trigger("clearWhere:cache",{server:e})},onServersUpdateReset(){this._setAuthorized(),this._checkFoundAllServers()},onDiscoverServers(){const e=this.appModel.get("cloudServer");this._fetchResources(e)},onResourceAdd(e){if(v().contains(e.get("provides"),"server")){const t=this._convertResourceToServer(e);t.get("isMobileServer")||this.servers.add(t)}},onResourceRemove(e){this._removeResource(e)},onResourcesUpdate(e){this._pruneStaleSources(e.server),this._checkFoundAllServers()},onResourcesReset(e,t){const n=t.previousModels;v().each(n,(t=>{e.contains(t)||this._removeResource(t)})),this._checkFoundAllServers()},onResourcesPresenceChange(e){const t=this.servers.get(e.id);t&&t.set("presence",e.get("presence"))},onResourceConnectionsUpdate(e){const t=e.parent,n=this.servers.get(t.id);n&&(Kd(n,t),this._pruneStaleSources(e.server),this._checkFoundAllServers())},onConnectedChange(e,t){if(!t)return;const n=(0,h.DB)("appStore"),i=nu(e);n.dispatch(ru.Z.actions.connected({server:i})),e.get("isFullOwnedServer")&&(n.dispatch(iu.Z.actions.fetchRequested({server:i})),n.dispatch((0,an.R_)({serverEntityID:e.entityID()})))},onSettingsPopulatedChange(e,t){if(t){const t=e.get("settings"),n=t.get("AcceptedEULA");n&&!1===n.get("value")&&!window.location.hash.includes("/setup")&&(0,j.Z)("serverSetup",{machineIdentifier:t.server.id})}}});var au=n(40728);const lu=p.Z.extend({mixins:[m.Z],initialize(e){this.appModel=e.appModel},start(){this.stop(),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isInstallingServerUpdate":this.onIsInstallingServerUpdateChange})},stop(){this.stopListening()},onServerIsConnectedChange(e,t){t&&h.DB("appStore").dispatch((0,au.Tz)({serverEntityID:e.entityID()}))},onIsInstallingServerUpdateChange(e,t){t||h.DB("appStore").dispatch((0,au.Tz)({serverEntityID:e.entityID()}))}});var cu=n(94566);const du=cu.ZP.Model.extend({initialize:function(e,t){this.set("time",new Date)}}),uu=new(cu.ZP.Model.extend({initialize:function(e,t){this.set("host",window.location.host),this.set("userAgent",window.navigator.userAgent),this.set("browser",wn.Z)},toJSON:function(){const e=this.parent,t=e.get("primaryServer"),n=e.get("user");return this.set("version","0.2.0"),t&&(t.get("activeConnection")&&this.set("primaryServerUrl",t.url()),this.set("primaryServerAuthToken",!!t.get("accessToken")),this.set("primaryServerVersion",t.get("versionFull"))),this.set("username",n.get("username")),this.set("cloudUrl",n.server.get("connections")),cu.ZP.Model.prototype.toJSON.apply(this,arguments)}})),hu=/("?(auth_token|accessToken|X-Plex-Token|authToken|token)"?[:=].*?)("?[-\w]+"?)/g,pu=/("?(email)"?[:=]([\s]+)?)("(.*)")/g,gu=/("?(address|host|uri)"?[:=].*?)(".*")/g;function mu(e){if(e)return e.replace(hu,'$1"TOKEN"').replace(pu,'$1"EMAIL"').replace(gu,'$1"IP ADDRESS"')}const fu=/(password=)([^&]+)/;function vu(e){return e.replace(hu,"$1TOKEN").replace(fu,"$1PASSWORD")}const yu=cu.ZP.Collection.extend({model:du,initialize:function(e,t){v().bindAll(this,"onAjaxComplete","onAppModelRegistered"),this.parent=t.parent,uu.parent=t.parent,(0,h.X_)("appModel").done(this.onAppModelRegistered)},reconfigure(){(0,h.DB)("appModel").get("deviceSettings").get("debugLevel")?this.start():this.stop()},start:function(){this.enabled||(this.enabled=!0,this.reset(),this.listenTo(g.Z,"log:message",this.onLogMessage),cu.ZP.history.on("route",this.onRoute,this),s()(document).on("ajaxComplete",this.onAjaxComplete))},stop:function(){this.enabled&&(this.enabled=!1,this.reset(),this.stopListening(g.Z),cu.ZP.history.off("route",this.onRoute,this),s()(document).off("ajaxComplete",this.onAjaxComplete))},destroy:function(){this.stop(),this.stopListening()},add:function(){this.length>1e3&&this.shift(),cu.ZP.Collection.prototype.add.apply(this,arguments)},toJSON:function(){const e=cu.ZP.Collection.prototype.toJSON.apply(this,arguments);return e.unshift(v().extend({type:"info"},uu.toJSON())),e},toJSONString:function(){return JSON.stringify(this.toJSON(),null,2)},onAppModelRegistered:function(e){const t=e.get("deviceSettings");this.listenTo(t,"change:debugLevel",this.reconfigure),this.reconfigure()},onLogMessage:function(e){this.add(e)},onRoute:function(e,t,n){const i={type:"navigation",route:t,args:n,fragment:window.location.hash};this.add(i)},onAjaxComplete:function(e,t,n){const i=(0,h.DB)("appModel").get("deviceSettings").get("debugLevel"),r={type:"ajax",url:vu(n.url),status:t.status};var s;v().isEmpty(n.headers)||(r.headers=((s=n.headers)&&s.hasOwnProperty("X-Plex-Token")&&(s["X-Plex-Token"]="TOKEN"),s&&s.hasOwnProperty("Authorization")&&(s.Authorization="BASIC AUTHORIZATION"),s)),v().isEmpty(n.data)||(r.params=vu(n.data)),200===t.status?2===i?r.response=mu(t.responseText):r.responseLength=t.responseText?t.responseText.length:0:(r.statusText=t.statusText,r.response=mu(t.responseText)),this.add(r)}}),bu=(0,Q.P1)(Ai.Z,(e=>e.volume));var Zu=n(87893);const Su=(0,Q.P1)(Zu.Z,(e=>e.remoteQuality)),wu=(0,Q.P1)(Ai.Z,(e=>e.restorePlayQueue));var Pu=n(87157),Cu=n(96576),xu=Object.defineProperty,Au=Object.prototype.hasOwnProperty,Eu=Object.getOwnPropertySymbols,Iu=Object.prototype.propertyIsEnumerable,ku=(e,t,n)=>t in e?xu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tu=(e,t)=>{for(var n in t||(t={}))Au.call(t,n)&&ku(e,n,t[n]);if(Eu)for(var n of Eu(t))Iu.call(t,n)&&ku(e,n,t[n]);return e};const Ou=ta.Z.extend({context:["server"],url:"/updater/status",sessionAttrs:{isChecking:ea.Z.boolean.isRequired},syncedAttrs:{status:ea.Z.integer,canInstall:ea.Z.boolean,downloadURL:ea.Z.string,state:ea.Z.string,progress:ea.Z.integer,version:ea.Z.string,error:ea.Z.string,added:ea.Z.string,fixed:ea.Z.string},defaults:{state:Oi.NONE,status:0,progress:0,version:null,error:"",added:null,fixed:null,isChecking:!1},augmentResponse(e){const t=e,{Release:n}=t,i=((e,t)=>{var n={};for(var i in e)Au.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Eu)for(var i of Eu(e))t.indexOf(i)<0&&Iu.call(e,i)&&(n[i]=e[i]);return n})(t,["Release"]);return n&&(e=Tu(Tu({},i),n)),"0"!==e.status&&(e.state=Oi.ERROR),e}});n(33752),Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable,n(75134),Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable,n(44333),Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable;var Mu=n(80002);Object.defineProperty,Object.prototype.hasOwnProperty,Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable,n(15421),n(10123);var Ru=n(25455),Du=n.n(Ru);to.extend({name:"downloadVersionModal",template:Du(),serializeData:function(){const e=this.model;return{defaultLinkTarget:"_self",mediaItems:v().map(this.model.get("Media"),(function(t,n){const i=v().clone(t);i.downloadUrl=e.getDownloadUrl(n);const r=e.getFilepath(n);return r&&(i.downloadName=Gi.Z.getLastSegment(r)),i}))}},onClick:function(){}});var _u=n(45200),Vu=n(25664),Lu=n(33204),ju=n(50673);const Nu={h264:10,hevc:30},Uu=function(e,t){if(null==e||Number.isNaN(e))return"";const n=parseInt(e,10),i=Nu[t||"h264"];return Number.isFinite(n)&&Number.isFinite(i)?(n/i).toFixed(1):String(e)};var Fu=n(98945),Bu=n(61567);const zu=function(e){let t="";for(let n=0,i=e.length;n<i;n++){const i=e.charAt(n),r=i.toUpperCase();t+=0===n?r:i===r?" "+r:i}return t};var Hu=n(71919),qu=n.n(Hu);const Wu=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode","accessible","exists","provider","lines","minLines","follow","requiredBandwidths","deepAnalysisVersion","deepAnalysisDate","Overlay"],$u={size:Lu.Z,duration:Vu.Z,codec:Fu.Z,format:Fu.Z,container:Fu.Z,videoResolution:ju.Z,bitrateMode:Fu.Z,accessible:Bu.Z,exists:Bu.Z,optimizedForStreaming:Bu.Z,timed:Bu.Z,file:Gi.Z.getLastSegment},Gu={optimizedForStreaming:"Web Optimized",has64bitOffsets:"Has 64bit Offsets",cabac:"CABAC",postURL:"URL",codecID:"Codec ID"},Ku={frameRate:" fps",dialogNorm:" dB",bitrate:" kbps",samplingRate:" Hz"},Xu=function(e,t){const n={properties:[]};for(const i in e){if(i===t||-1!==v().indexOf(Wu,i))continue;let r=Gu[i],s=e[i];"level"===i&&(s=Uu(s,e.codec)),$u[i]&&(s=$u[i](s)),s&&(Ku[i]&&(s+=Ku[i]),r||(r=zu(i)),n.properties.push({name:r,value:s}))}return t&&e&&(n[t]=e[t]),n};function Qu(e){const t=v().reject(e,(function(e){return e.id===_u.H})),n=v().sortBy(t,"streamType");return v().map(n,(function(e){return Xu(e,"streamType")}))}function Ju(e){return v().map(e.get("Media"),(function(e){return v().extend(Xu(e,"Part"),{Part:v().map(e.Part,(function(e){return v().extend(Xu(e,"Stream"),{file:e.file,exists:!1!==e.exists,accessible:!1!==e.accessible,Stream:Qu(e.Stream)})}))})}))}eo.Z.extend({name:"mediaInfoModal",className:"media-info-modal modal modal-lg fade",template:qu(),ui:{scroller:".modal-body-scroll",files:".files > ul",stickyProps:".media > .props, .part > .props"},events:v().extend({"click .delete-btn":"onDeleteClick"},eo.Z.prototype.events),modelEvents:{"change:Media":"onMediaChange"},initialize:function(e){eo.Z.prototype.initialize.apply(this,arguments),this.bindAllWhenRendered("onMediaChange","onScroll"),this.loading=!1,this.media=Ju(this.model),this.loading=!0,this.model.fetch({usePopulatedParams:!0,data:{checkFiles:1,asyncCheckFiles:0}}).always(this.whenRendered((function(){this.model.changed.hasOwnProperty("Media")||this.updateMedia()})))},serializeData:function(){let e=this.model.get("key");const t=h.DB("appModel").get("user"),n=this.model.server;return this.model.get("isLibraryItem")&&(e=Gi.Z.join(e,{checkFiles:1,includeAllConcerts:1,includeBandwidths:1,includeChapters:1,includeChildren:1,includeConcerts:1,includeExtras:1,includeFields:1,includeGeolocation:1,includeLoudnessRamps:1,includeMarkers:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeRelated:1,includeRelatedCount:1,includeReviews:1,includeStations:1})),{key:e,url:this.model.server.resolveUrl(e,{appendToken:!0}),media:this.media,hasFiles:this.hasFiles(),hasStreams:this.hasStreams()||this.loading,showDeleteFile:n.get("isFullOwnedServer")&&n.get("allowMediaDeletion")&&n.supports("specificMediaDeletion"),showFilepath:!n.get("shared")||t.isNinja(),loading:this.loading}},updateMedia:function(){this.loading=!1,this.rerender=!0,this.ui.scroller.off("scroll",this.onScroll),this.media=Ju(this.model),this.render()},hasFiles:function(){return!!v().chain(this.media).pluck("Part").flatten().pluck("file").compact().size().value()},hasStreams:function(){return!!v().chain(this.media).pluck("Part").flatten().pluck("Stream").flatten().size().value()},onRender:function(){eo.Z.prototype.onRender.apply(this,arguments),this.ui.scroller.on("scroll",this.onScroll),this.$el.tooltip({selector:".files .label",placement:"bottom"})},onClose:function(){this.ui.scroller.off("scroll",this.onScroll)},onMediaChange:function(){this.isHidden||(this.model.get("Media").length?this.updateMedia():this.hide())},onDeleteClick:function(e){e.preventDefault(),te.Z.execute("deleteMediaItem",{item:this.model,index:s()(e.currentTarget).data("media-item")})},onScroll:function(){const e=this.ui.scroller.scrollTop();let t=this.ui.scroller.offset().top;this.ui.files.length&&(t+=parseInt(this.ui.files.css("margin-bottom"),10)),t<0?window.setTimeout(this.onScroll,500):this.ui.stickyProps.each((function(){const n=s()(this),i=n.parent().height()-n.height(),r=e-this.parentNode.offsetTop,o=Math.min(Math.max(r,0),i);o&&o===r?(n.addClass("sticky"),n.css("top",t)):(n.removeClass("sticky"),n.css("top",o))}))}}),n(73069);var Yu=Object.defineProperty,eh=Object.prototype.hasOwnProperty,th=Object.getOwnPropertySymbols,nh=Object.prototype.propertyIsEnumerable,ih=(e,t,n)=>t in e?Yu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rh=(e,t)=>{for(var n in t||(t={}))eh.call(t,n)&&ih(e,n,t[n]);if(th)for(var n of th(t))nh.call(t,n)&&ih(e,n,t[n]);return e};const sh="metadata/updateMetadataItemPlayedStatus",oh="metadata/rateMetadataItem",ah=((0,pe.Z)("metadata/selectMetadataItemStream"),(0,pe.Z)("metadata/repopulateMetadataItem")),lh=(0,pe.Z)("metadata/removeMetadataItem"),ch=((0,pe.Z)("metadata/toggleMetadataItemSave"),(0,pe.Z)("metadata/toggleMetadataItemPlexPick"),(0,pe.Z)("metadata/toggleMetadataItemWatchlist"),(0,pe.Z)("metadata/addMetadataItemToLibrary"),(0,pe.Z)("metadata/deleteMetadataItemStream"),(0,pe.Z)("metadata/setMetadataItemStreamOffset"),(0,pe.Z)("metadata/setMetadataItemIsInUniversalWatchlist"),(0,pe.Z)("metadata/redispatchLegacyMetadataAction"),(0,pe.Z)("metadata/analyzeMetadataItem"),(0,pe.Z)("metadata/deleteMetadataItem"),(0,pe.Z)("metadata/deleteMetadataItemVersion"),(0,pe.Z)("metadata/downloadMetadataItemVersion"),(0,pe.Z)("metadata/editMetadataItem"),(0,pe.Z)("metadata/fixMetadataItemMatch"),(0,pe.Z)("metadata/getMetadataItemInfo"),(0,pe.Z)(sh),(0,pe.Z)("metadata/optimizeMetadataItem"),(0,pe.Z)(oh),(0,pe.Z)("metadata/refreshMetadataItem"),(0,pe.Z)("metadata/splitMetadataItemApart"),(0,pe.Z)("metadata/unmatchMetadataItem"),(0,pe.Z)("metadata/changeMetadataItemField"),(0,pe.Z)("metadata/updateMetadataItemRefreshingState"));(0,pe.Z)("metadata/UPDATE_METADATA_SETTINGS"),(0,pe.Z)("CLEAR_METADATA_SETTINGS_ERROR"),(0,pe.Z)(oh,(e=>rh(rh({},e),{rating:10}))),(0,pe.Z)(oh,(e=>rh(rh({},e),{rating:-1}))),(0,pe.Z)(sh,(e=>rh(rh({},e),{played:!1}))),(0,pe.Z)(sh,(e=>rh(rh({},e),{played:!0}))),(0,pe.Z)("metadata/setDownloadSubscriptionID"),(0,pe.Z)("metadata/unsetDownloadSubscriptionID"),(0,pe.Z)("metadata/updateDownloadAvailability"),(0,pe.Z)("metadata/updateDownloadAvailabilityFromDeletedTimeline"),(0,pe.Z)("metadata/updateDownloadSubscriptionIDs"),(0,pe.Z)("metadata/modifySmartPlaylist");const dh=0,uh=5,hh=9;var ph=n(61194);const gh=v().reduce(ph.l,((e,t)=>(e[t]="Metadata",e)),{}),mh=function e(t){if(!t||!t._children)return t;const n=v().clone(t),i=n._children;return Array.isArray(i)&&(i.forEach((t=>{const i=t._elementType;if(t._elementType=null,t.elementName=i,i){const r=gh[i]||i,s=n[r],o=e(t);s?Array.isArray(s)?s.push(o):n[r]=[s,o]:n[r]=o}})),n._children=null),n};var fh=n(78574),vh=n(81679),yh=n(58563),bh=Object.defineProperty,Zh=Object.prototype.hasOwnProperty,Sh=Object.getOwnPropertySymbols,wh=Object.prototype.propertyIsEnumerable,Ph=(e,t,n)=>t in e?bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ch=(e,t)=>{for(var n in t||(t={}))Zh.call(t,n)&&Ph(e,n,t[n]);if(Sh)for(var n of Sh(t))wh.call(t,n)&&Ph(e,n,t[n]);return e};const xh={started:an.TV,updated:an.UU,ended:an.uq},Ah={started:yh.Z.actions.activityStarted,updated:yh.Z.actions.activityUpdated,ended:yh.Z.actions.activityFinished},Eh=[Sc.yV,Sc.gk,Sc.cc,Sc.ax,Sc.u0,Sc.Z$,Sc.eS,Sc.ad,Sc.cK,Sc.sU,Sc.wL,Sc.lY,Sc.Q_,Sc.jN,Sc.Mu,Sc.a8,Sc.VL,Sc.TD,Sc.RN],Ih=5e3;function kh(e){const t=h.DB("appStore");Ni.wB(window.location.hash,Ni.Ll)&&t.dispatch((0,ao.jR)({serverEntityID:e}))}const Th=vh.Z.extend({initialize(e){vh.Z.prototype.initialize.apply(this,arguments),this.throttledRepopulates={}},repopulateNow(e,t){this.throttledRepopulates[e]={timestamp:Date.now()},t()},repopulateWithThrottle(e,t,n){const i=this.throttledRepopulates[e];if(i)if(i.hasTimeout);else{const r=Date.now()-i.timestamp;r<n?(window.setTimeout((()=>{this.repopulateNow(e,t)}),n-r),this.throttledRepopulates[e]={hasTimeout:!0}):this.repopulateNow(e,t)}else this.repopulateNow(e,t)},getMessageTypes:()=>Eh,[Sc.eS](e){e.key=e.id,e.server=this.server,this.server.trigger("socket:setting",e),(0,h.DB("appStore").dispatch)((0,an.m7)({serverEntityID:this.server.entityID(),setting:e}))},[Sc.jN](e){if(Ni.wB(e.identifier,Ni.Ll))return;const{state:t,sectionID:n,rootItemID:i,parentItemID:r,itemID:s,metadataState:o,mediaState:a,type:l}=e,c=h.DB("appStore").dispatch,d=this.server.entityID(),u=Qs.nW(l),p=null==u?void 0:u.typeString,m=`${function(e){switch(e){case Qs.zg:return"/playlists";case Qs.du:return"/library/collections";default:return"/library/metadata"}}(p)}/${s}`,f=(0,Pn.Z)(Cn.METADATA_ITEM,m,d);c(ch({serverEntityID:d,metadataItemEntityID:f,metadataState:o,mediaState:a})),t===uh&&c(ah({serverEntityID:d,metadataItemEntityID:f})),t===hh&&c(lh({serverEntityID:d,metadataItemEntityID:f})),t!==dh&&t!==hh||(n>0&&this.repopulateWithThrottle("section-"+n,(()=>{c((0,ao.jR)({serverEntityID:d,containerKeyPattern:new RegExp("^"+(0,Tl.Z)(`/library/sections/${n}`)+"\\b")}))}),Ih),i>0&&this.repopulateWithThrottle("metadata-"+i,(()=>{const e=`/library/metadata/${i}`,t=(0,Pn.Z)(Cn.METADATA_ITEM,e,d);c((0,ao.jR)({serverEntityID:d,metadataItemEntityID:t,rootMetadataKey:e}))}),Ih),r>0&&this.repopulateWithThrottle("metadata-"+r,(()=>{const e=`/library/metadata/${r}`,t=(0,Pn.Z)(Cn.METADATA_ITEM,e,d);c((0,ao.jR)({serverEntityID:d,metadataItemEntityID:t,parentMetadataKey:e}))}),Ih),p===Qs.zg&&c((0,ao.jR)({serverEntityID:d,containerKeyPattern:new RegExp("^/playlists")}))),e.server=this.server,this.server.trigger("socket:timeline",e),g.Z.trigger("timeline",e)},[Sc.Q_](e){if(this.server.trigger("socket:status",e),"LIBRARY_UPDATE"===e.notificationName){const e=h.DB("appStore").dispatch,t=this.server.entityID();t&&(e(ru.Z.actions.libraryScanUpdated({server:nu(this.server)})),e((0,an.Vk)({serverEntityID:t})),e((0,an.tU)({serverEntityID:t})),e((0,ao.jR)({serverEntityID:t})))}},[Sc.ad](e){this.server.trigger("socket:status",e)},[Sc.Z$](e){if(!e.sessionKey||!this.server.get("isFullOwnedServer"))return;const t=h.DB("appStore").dispatch;e.state===fh.Z.states.STOPPED?(t(iu.Z.actions.sessionStopped({server:nu(this.server),sessionKey:e.sessionKey})),t((0,ao.jR)({serverEntityID:this.server.entityID()}))):t(iu.Z.actions.sessionChanged({server:nu(this.server),message:e}))},[Sc.cc](e){const t={server:this.server,onlyIfCached:!0},n=new Cu.Z({id:e.generatorID},t);v().isEmpty(n)||n.fetch()},[Sc.RN](e){const t={server:this.server,onlyIfCached:!0},n=new Cu.Z({id:e.generatorID},t);if(!v().isEmpty(n)){const t=n.get("children").getCollection().get(e.metadataItemID);t&&t.set({processingState:e.state,processingStateContext:e.stateContext})}},[Sc.ax](e){const t=new Pu.Z([],{server:this.server,allowInCache:!0,onlyIfCached:!0});if(!v().isEmpty(t)){const e=t.first();e&&e.fetch()}},[Sc.a8](e){const t=h.DB("appStore").dispatch;this.server.get("isShared")||("static"===e.context?this.server.get("desktop").get("backgroundTranscodeJobs").fetch():t(iu.Z.actions.fetchRequested({server:nu(this.server)})))},[Sc.VL](e){if(!this.server.get("isShared")&&"static"===e.context){const t=this.server.get("desktop").get("backgroundTranscodeJobs"),n=t.get(e.key);n?n.set(n.parse(e)):t.fetch()}},[Sc.Mu](e){this.server.get("isShared")||this["transcodeSession.start"].apply(this,arguments)},[Sc.TD](e){const t=this.server.get("desktop").get("update"),n=v().pick(e,Object.keys(Ou.prototype.syncedAttrs));v().defaults(n,v().result(t,"defaults")),t.get("state")===Oi.DOWNLOADING&&n.state===Oi.AVAILABLE&&(n.state=Oi.DOWNLOADING),t.set(Ch(Ch({},n),{isChecking:!1}))},[Sc.lY](e){this.server.get("desktop").get("cloudAccount").fetch()},[Sc.yV](e){this.server.set("myPlexSubscription",e.hasPlexPass),h.DB("appModel").get("user").get("isSignedIn")&&g.Z.trigger("discover:servers")},[Sc.gk](e){const t=mh(e),n=h.DB("appStore"),i=this.server.entityID(),r=t.Activity||t;if(r.Context=r.Context||{},r.Response=r.Response||{},i){const e=xh[t.event],s=Ah[t.event];e&&n.dispatch(e({serverEntityID:i,activity:r})),s&&n.dispatch(s({server:nu(this.server),activity:r}))}},[Sc.u0](e){const t=h.DB("appStore"),n=this.server.entityID();n&&"appeared"===e.event&&t.dispatch((0,an.Hz)({serverEntityID:n,device:e.Device}))},[Sc.sU](){kh(this.server.entityID())},[Sc.wL](){kh(this.server.entityID())},[Sc.cK](){h.DB("appStore").dispatch((0,an.lm)({serverEntityID:this.server.entityID()}))}}),Oh=ta.Z.extend({name:"BaseAppModel",isStateTreeRoot:!0,constructor:function(){this._pendingEntities=[],this.listenTo(g.Z,"change:entity",this.onEntityChange),ta.Z.prototype.constructor.apply(this,arguments)},initialize(){this._pendingEntities.forEach(this._addEntity.bind(this))},_addEntity({type:e,id:t,model:n}){this.get("entities").get(e).add({id:t,model:n},{merge:!0})},onEntityChange(e){this.has("entities")?this._addEntity(e):this._pendingEntities.push(e)}}),Mh=ia.extend({name:"DesktopSettingsModel",storageKey:"settingsv2",syncedAttrs:{preferInsecureConnections:ea.Z.string,"syncQuality!video":ea.Z.integer,"syncQuality!music":ea.Z.integer,"syncQuality!photo":ea.Z.integer,viewedUnclaimedServers:ea.Z.list,dismissedUnclaimedServers:ea.Z.list},defaults:()=>({preferInsecureConnections:E.Z.shouldPreferInsecureLocalConnections?md:"never","syncQuality!video":8,"syncQuality!music":2,"syncQuality!photo":2,viewedUnclaimedServers:[],dismissedUnclaimedServers:[]})});var Rh=n(3305);var Dh=n(9322),_h=n(42902);const Vh=ta.Z.extend({name:"ResourceModel",context:["server"],idAttribute:"clientIdentifier",urlRoot:"/api/v2/resources",syncedAttrs:{clientIdentifier:ea.Z.string,name:ea.Z.string,sourceTitle:ea.Z.string,accessToken:ea.Z.string,product:ea.Z.string,productVersion:ea.Z.string,platform:ea.Z.string,platformVersion:ea.Z.string,device:ea.Z.string,provides:ea.Z.list,owned:ea.Z.boolean,home:ea.Z.boolean,synced:ea.Z.boolean,presence:ea.Z.boolean,publicAddressMatches:ea.Z.boolean,httpsRequired:ea.Z.boolean,createdAt:ea.Z.integer,lastSeenAt:ea.Z.integer,ownerId:ea.Z.integer},syncedRelations:{connections:{relationClass:Dh.Z}},augmentResponse(e){"string"==typeof e.createdAt&&(e.createdAt=(0,_h.Z)(e.createdAt)),"string"==typeof e.lastSeenAt&&(e.lastSeenAt=(0,_h.Z)(e.lastSeenAt));const t=e.Device;return t?(t.connections=t.Connection,delete t.Connection,t):e}}),Lh=ra.Z.extend({name:"ResourceCollection",model:Vh,context:["server"],responseType:na.AV,url(){const e={};return E.Z.allowHttpsMediaServerConnections&&(e.includeHttps=1),E.Z.allowMediaServerRelayConnections&&(e.includeRelay=1),E.Z.allowIPv6ServerConnections&&(e.includeIPv6=1),Gi.Z.join("/api/v2/resources",e)}}),{connectionTestResults:jh,promiseStates:Nh}=Ko.ZP,Uh=Ko.ZP.extend({name:"CloudServerModel",connectionTestUrl:(0,oe.Y)("/monitoring/health"),sessionAttrs:{connectionTestResult:ea.Z.oneOf(jh.PENDING,jh.CONNECTED,jh.UNAVAILABLE,jh.UNAUTHORIZED).isRequired,promiseState:ea.Z.oneOf(Nh.PENDING,Nh.RESOLVED,Nh.REJECTED).isRequired,isShared:ea.Z.boolean.isRequired,isBundled:ea.Z.boolean.isRequired,isCloud:ea.Z.boolean.isRequired,isMerged:ea.Z.boolean.isRequired,isDownForMaintenance:ea.Z.boolean.isRequired,isResourcesPending:ea.Z.boolean.isRequired,isResourcesPopulated:ea.Z.boolean.isRequired,hasFailedResources:ea.Z.boolean.isRequired,accessToken:ea.Z.string,baseUrl:ea.Z.string.isRequired,plexPassUrl:ea.Z.string.isRequired,appsUrl:ea.Z.string.isRequired,hasEventConnection:ea.Z.boolean},sessionRelations:{activeConnection:{relationClass:Vs.Z,deferred:!0},connections:{relationClass:Dh.Z,options(){return{server:this}}},resources:{relationClass:Lh,options(){return{server:this}}}},defaults(){const e=(0,oe.Y)();return{connectionTestResult:jh.PENDING,promiseState:Nh.PENDING,isShared:!1,isBundled:!1,isCloud:!0,isMerged:!1,isDownForMaintenance:!1,isResourcesPending:!1,isResourcesPopulated:!1,hasFailedResources:!1,friendlyName:"plex.tv",baseUrl:e,plexPassUrl:Gi.Z.join([e,"/subscription/about"]),appsUrl:Gi.Z.join([e,"/downloads"]),hasEventConnection:!1}},testAllConnections(){const e=this.get("connections");(0,ae.Z)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName"));return function(e){if(!e.length)return s().Deferred().reject().promise();const t=s().Deferred();let n=e.length;return v().each(e,(function(e){e.done((function(){n--,t.resolveWith(this,arguments)})).fail((function(){n--,0===n&&t.reject()}))})),t.promise()}(e.map((e=>this.testConnection(e))))},testConnection(e){const t={server:this,connection:e,url:this.connectionTestUrl};return te.Z.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortConnectionTest(e){const t={server:this,connection:e,url:this.connectionTestUrl};te.Z.execute("abortServerConnectionTest",t)},deauthenticate(){this.get("resources").clear(),this._reject({connectionTestResult:this.get("connectionTestResult"),accessToken:null})},onConnectionTestSuccess(e){const t=this.get("connections").getBestConnection();ae.Z.info("[Connections] Active connection to %s is %s",this.get("debugName"),t.id),this.startCapturingChangeEvents(),this.set({isDownForMaintenance:!1,connectionTestResult:jh.CONNECTED,activeConnection:t}),this.releaseCapturedChangeEvents()},onConnectionTestError(e,t){e.get("isAborted")||this.get("connections").hasOnlyFailedConnections()&&this._reject({isDownForMaintenance:503===t.status})}});(0,Rh.Z)(Uh,(function(){return{relationClass:(0,h.DB)("CloudServerFlexModel"),options:{server:this}}}));const Fh=Uh;var Bh=n(35084);function zh(e){return e.length?v().map(e,(e=>e.get("debugName"))).join(", "):"(none)"}const Hh=ra.Z.extend({mixins:[Bh.Z],name:"ServerCollection",model:Ko.ZP,initialize(){this._resetPopulate()},comparator(e){const t=e.get("isShared"),n=e.get("friendlyName")||"",i=e.get("sourceTitle")||"",r=t?i+n:n;return e.get("isCloud")?"9":(t?"1":"0")+r.toLowerCase()},shouldWaitForInitialServers(){const e=this.filter((e=>(!e.id||!!e.get("resources"))&&e.isPopulating()));return!!e.length&&((0,ae.Z)("[Servers] Waiting for initial servers =",zh(e)),!0)},shouldWaitForResources(){const e=this.reduce(((e,t)=>{const n=t.get("isResolved"),i=t.get("resources"),r=i&&i.isPopulating();return n&&r&&e.push(t),e}),[]);return!!e.length&&((0,ae.Z)("[Servers] Waiting for additional resources from",zh(e)),!0)},shouldWaitForPendingServers(){if(this.findWhere({isConnected:!0}))return!1;const e=this.filter((e=>e.isPopulating()));return!!e.length&&((0,ae.Z)("[Servers] Waiting for pending servers =",zh(e)),!0)},waitForServers(){this._resetPopulate()},foundAllServers(){const e=this.where({isConnected:!0}),t=zh(e);(0,ae.Z)("[Servers] Found all servers =",t),e.length?this._resolvePopulate():this._rejectPopulate()},populateAnyServer(e=this.models){const t=s().Deferred(),n=e.slice(0),i=v().find(n,(e=>e.get("isCloud")?e.get("isResolved"):e.get("isConnected")));if(i)return(0,ae.Z)("[Servers] Populate any server chose %s where servers = %s",i.get("debugName"),zh(n)),t.resolve(i).promise();if(this.hasOnlyRejectedServers(n))return t.reject().promise();function r(e,i){v().contains(n,e)&&i&&t.resolve(e)}function o(e,i){v().contains(n,e)&&i&&this.hasOnlyRejectedServers(n)&&t.reject()}return this.on({remove:function(e){const i=n.indexOf(e);i>-1&&(n.splice(i,1),this.hasOnlyRejectedServers(n)&&t.reject())},"change:isResolved":r,"change:isRejected":o},this),t.always((()=>{this.off("change:isResolved",r,this),this.off("change:isRejected",o,this)})),t.promise()},populateServer(e){return this.findServer(e,!0).then((e=>e.get("isConnected")&&!e.get("isCloud")?s().Deferred().resolve(e):e.populate()))},findServer(e,t){const n=v().isString(e),i=n?{machineIdentifier:e}:e,r=s().Deferred();if(n){const e=this.get(i.machineIdentifier);if(e&&e.get("isResolved"))return window.setTimeout(r.resolve.bind(r,e),0),r.promise()}const o=v().has(i,"machineIdentifier"),a="add "+v().map(v().keys(i),(e=>"change:"+e)).join(" ");let l;function c(){const e=this.filterServers(i,t);e?(l=e,e.done((t=>{l===e&&r.resolve(t)})),e.fail((()=>{l===e&&(o||!this.isPopulating()?r.reject():this.populate().always(c.bind(this)))}))):this.isPopulating()||r.reject()}return c.call(this),this.on(a,c,this),this.populate().always((()=>{l||r.reject()})),r.always((()=>{this.off(a,c,this)})),r.promise()},filterServers(e,t){const n=this.where(e);if(n.length)return t?this.populateAnyServer(n):s().Deferred().resolve(n[0]).promise()},hasOnlyRejectedServers(e=this.models){return v().every(e,(e=>e.get("isRejected")))},hasLoopbackServer(e=this.models){return!!v().find(e,(e=>{const t=e.get("activeConnection");return!!t&&t.get("isLoopback")}))}}),qh={PRODUCTION:"9AC194DC",QA:"4289C4E0",NINJA:"EB90125F",CUSTOM:"custom"};qh.settings=[{value:qh.PRODUCTION,title:"Production"},{value:qh.QA,title:"QA"},{value:qh.NINJA,title:"Ninja"},{value:qh.CUSTOM,title:"Custom"}];const Wh=qh,$h={NONE:0,VAST:1};$h.settings=[{value:$h.NONE,title:"None"},{value:$h.VAST,title:"Add ?debug=1 to ad requests"}];const Gh=$h,Kh={DISABLED:0,ENABLED:1,VERBOSE:2};Kh.settings=[{value:Kh.DISABLED,title:"Disabled"},{value:Kh.ENABLED,title:"Enabled"},{value:Kh.VERBOSE,title:"Verbose"}];const Xh=Kh,Qh=ia.extend({name:"DeviceSettingsModel",storageKey:"deviceSettings",sessionAttrs:{isSaving:ea.Z.boolean,saveError:ea.Z.object},syncedAttrs:{chromecastAppID:ea.Z.string,chromecastCustomAppID:ea.Z.string,sonosCustomBaseURL:ea.Z.string,debugAdKind:ea.Z.integer,debugLevel:ea.Z.integer,debugVideoQualityOverlay:ea.Z.boolean,directPlay:ea.Z.boolean,directStream:ea.Z.boolean,rejectDirectConnections:ea.Z.boolean,restorePlayQueue:ea.Z.object,shouldSyncSettings:ea.Z.boolean,hasDismissedServerDownloadMessage:ea.Z.boolean,dismissedUnclaimedServers:ea.Z.object,dismissedServerUpdateVersions:ea.Z.object,volume:ea.Z.integer,serverUpdateDismissedVersion:ea.Z.string},defaults:()=>({isSaving:!1,saveError:null,chromecastAppID:Wh.PRODUCTION,debugAdKind:Gh.NONE,debugLevel:Xh.DISABLED,debugVideoQualityOverlay:!1,directPlay:!0,directStream:!0,rejectDirectConnections:!1,restorePlayQueue:null,shouldSyncSettings:E.Z.allowSyncSettings,hasDismissedServerDownloadMessage:!1,dismissedUnclaimedServers:{},dismissedServerUpdateVersions:{},volume:90})}),Jh=ta.Z.extend({name:"ProviderIntegrationModel",context:["server","provider"],rootPropertyName:"Integration",syncedAttrs:{id:ea.Z.string.isRequired,status:ea.Z.string.isRequired}}),Yh=ra.Z.extend({name:"ProviderIntegrationCollection",context:["server","provider"],url:"/integrations",responseType:na.AV,model:Jh}),ep=ta.Z.extend({name:"ProviderIntegrationsModel",sessionAttrs:{isIntegrationsOnboarding:ea.Z.boolean.isRequired,isIntegrationsPending:ea.Z.boolean.isRequired,isIntegrationsPopulated:ea.Z.boolean.isRequired,integrationsError:ea.Z.object},sessionRelations:{integrations:{relationClass:Yh,deferred:!0}},defaults:{isIntegrationsOnboarding:!1,isIntegrationsPending:!0,isIntegrationsPopulated:!1}}),tp=ta.Z.extend({name:"ProviderSettingsPageModel",context:["server","provider"],sessionAttrs:{isUpdatePending:ea.Z.boolean,updateError:ea.Z.object},defaults:{isUpdatePending:!1,updateError:null}}),np=ta.Z.extend({name:"ServerLogPageModel",sessionAttrs:{logLines:ea.Z.array.isRequired,unfilteredLogLinesCount:ea.Z.integer.isRequired,filter:ea.Z.string.isRequired,logLevels:ea.Z.array.isRequired,highlightedLineIndex:ea.Z.integer,timeFilterStart:ea.Z.string.isRequired,timeFilterEnd:ea.Z.string.isRequired,isTimeFilterStartValid:ea.Z.boolean.isRequired,isTimeFilterEndValid:ea.Z.boolean.isRequired,showTimeFilter:ea.Z.boolean.isRequired,showRawText:ea.Z.boolean.isRequired},defaults:()=>({logLines:[],unfilteredLogLinesCount:0,filter:"",logLevels:[],timeFilterStart:"",timeFilterEnd:"",isTimeFilterStartValid:!0,isTimeFilterEndValid:!0,showRawText:!1,showTimeFilter:!1})}),ip=ta.Z.extend({name:"AuthCodeExchangeModel",sessionAttrs:{code:ea.Z.string,pinID:ea.Z.integer,pinIDInitial:ea.Z.integer,pinTimeout:ea.Z.integer,authToken:ea.Z.string,isBusy:ea.Z.boolean.isRequired,errorMessage:ea.Z.string,fatalErrorMessage:ea.Z.string},defaults:{code:null,pinID:null,pinIDInitial:null,pinTimeout:null,authToken:null,isBusy:!1,errorMessage:null,fatalErrorMessage:null}}),rp=ta.Z.extend({name:"BackgroundModel",sessionAttrs:{imageUrl:ea.Z.string,themeMusicUrl:ea.Z.string,allowBlur:ea.Z.boolean,isBackgroundPending:ea.Z.boolean},sessionRelations:{server:{relationClass:Ko.ZP,deferred:!0},provider:{relationClass:Aa.Z,deferred:!0}},defaults:{allowBlur:!0,isBackgroundPending:!1}});var sp=n(63489);const op=ta.Z.extend({name:"DVRSettingsUIModel",sessionAttrs:{isDvrsPending:ea.Z.boolean,isDvrsPopulated:ea.Z.boolean,dvrsError:ea.Z.object,isUIPopulated:ea.Z.boolean},sessionRelations:{dvrs:{relationClass:sp.Z,deferred:!0}},defaults:{isDvrsPending:!1,isDvrsPopulated:!1,dvrsError:null,isUIPopulated:!1}});var ap=n(97454);const lp=ta.Z.extend({name:"DiscoverPageModel",sessionAttrs:{providerEntityID:ea.Z.string,hubKey:ea.Z.string,isHubsPending:ea.Z.boolean.isRequired,isHubsPopulated:ea.Z.boolean.isRequired,hubsError:ea.Z.object,hubsTitle:ea.Z.string,isPromotedHubsPending:ea.Z.boolean.isRequired,isPromotedHubsPopulated:ea.Z.boolean.isRequired,promotedHubsError:ea.Z.object,knownPromotedHubCloudProviderIDs:ea.Z.array.isRequired},sessionRelations:{hubs:{relationClass:ap.Z,deferred:!0},promotedHubs:{relationClass:ap.Z,deferred:!0}},defaults:()=>({isHubsPending:!0,isHubsPopulated:!1,hubsError:null,hubsTitle:null,isPromotedHubsPending:!0,isPromotedHubsPopulated:!1,promotedHubsError:null,knownPromotedHubCloudProviderIDs:[]})}),cp=ta.Z.extend({name:"DesktopUIModel",sessionRelations:{background:{relationClass:rp},authCodeExchange:{relationClass:ip},discoverPage:{relationClass:lp},dvrSettingsUI:{relationClass:op},providerSettingsPage:{relationClass:tp},serverLogPage:{relationClass:np},providerIntegrations:{relationClass:ep}}});var dp=n(95485);const up=ta.Z.extend({name:"AdConsentModel",context:["server"],url:"/api/v2/user/consent",responseType:na.AV,syncedAttrs:{language:ea.Z.string,remindAt:ea.Z.integer,updatedAt:ea.Z.integer,vendorListVersion:ea.Z.integer,vendors:ea.Z.array}}),hp=ta.Z.extend({name:"GeoIPModel",context:["server"],url:"/api/v2/geoip",responseType:na.AV,syncedAttrs:{european_union_member:ea.Z.boolean}});var pp=n(80441),gp=Object.defineProperty,mp=Object.prototype.hasOwnProperty,fp=Object.getOwnPropertySymbols,vp=Object.prototype.propertyIsEnumerable,yp=(e,t,n)=>t in e?gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bp=(e,t)=>{for(var n in t||(t={}))mp.call(t,n)&&yp(e,n,t[n]);if(fp)for(var n of fp(t))vp.call(t,n)&&yp(e,n,t[n]);return e};var Zp,Sp,wp,Pp,Cp,xp;(Sp=Zp||(Zp={})).Empty="",Sp.Unsubscribed="unsubscribed",Sp.Active="active",Sp.Error="error",Sp.Removed="removed",(Pp=wp||(wp={})).Active="active",Pp.Canceled="canceled",Pp.Ended="ended",Pp.Inactive="inactive",Pp.PendingCancellation="pending_cancellation",(xp=Cp||(Cp={})).PlexPass="plexpass",xp.Tidal="tidal";var Ap=n(58726),Ep=n.n(Ap);function Ip(e){return{type:ea.Z.boolean,save(){return this.has(e)}}}function kp(e){return{type:ea.Z.queryString,separators:["|","&"],orFields:["contentRating","label"],andFields:["contentRating!","label!"],save(){return this.has(e)}}}const Tp={allowTuners:{type:ea.Z.integer,save(){return this.has("allowTuners")}},allowSync:Ip("allowSync"),allowChannels:Ip("allowChannels"),filterMovies:kp("filterMovies"),filterTelevision:kp("filterTelevision"),filterMusic:kp("filterMusic"),filterPhotos:kp("filterPhotos")};var Op=n(77982);const Mp=ta.Z.extend({name:"ServerShareLibraryModel",syncedAttrs:{id:ea.Z.integer,key:ea.Z.string,title:ea.Z.string,type:ea.Z.string}}),Rp=ra.Z.extend({name:"ServerShareLibraryCollection",context:["server"],model:Mp}),Dp=ta.Z.extend({name:"ServerShareSharingSettingsModel",syncedAttrs:Tp}),_p=ta.Z.extend({name:"ServerShareModel2",context:["server"],mergeStrategy:Op.Z,responseType:na.AV,urlRoot:"api/v2/shared_servers",syncedAttrs:{id:ea.Z.integer,serverId:ea.Z.integer,machineIdentifier:ea.Z.string,name:ea.Z.string,owned:ea.Z.boolean,admin:ea.Z.boolean,pending:ea.Z.boolean,accepted:ea.Z.boolean,ownerId:ea.Z.integer,inviteToken:ea.Z.string,invitedEmail:ea.Z.string,invitedAt:ea.Z.string,acceptedAt:ea.Z.string,lastSeenAt:ea.Z.string,deletedAt:ea.Z.string,leftAt:ea.Z.string,numLibraries:ea.Z.integer,allLibraries:ea.Z.boolean},syncedRelations:{libraries:{relationClass:Rp},sharingSettings:{relationClass:Dp}}}),Vp=ra.Z.extend({name:"ServerShareCollection2",context:["server"],model:_p});var Lp=Object.defineProperty,jp=Object.prototype.hasOwnProperty,Np=Object.getOwnPropertySymbols,Up=Object.prototype.propertyIsEnumerable,Fp=(e,t,n)=>t in e?Lp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Bp=ta.Z.extend({name:"FriendModel2",context:["server"],rootPropertyName:"User",entityType:Cn.FRIEND,entityID(e=this.state){return(0,Pn.Z)(this.entityType,e.id)},urlRoot(){return this.get("home")?"/api/users":"/api/friends"},sessionAttrs:{user:ea.Z.string,isRemoving:ea.Z.boolean},syncedAttrs:((e,t)=>{for(var n in t||(t={}))jp.call(t,n)&&Fp(e,n,t[n]);if(Np)for(var n of Np(t))Up.call(t,n)&&Fp(e,n,t[n]);return e})({id:ea.Z.integer,home:ea.Z.boolean,protected:ea.Z.boolean,restricted:ea.Z.boolean,title:ea.Z.string,username:ea.Z.string,email:ea.Z.string,thumb:ea.Z.string,recommendationsPlaylistId:ea.Z.string},Tp),syncedRelations:{serverShares:{relationClass:Vp,rootPropertyName:"Server"}},defaults:{isRemoving:!1}}),zp=ra.Z.extend({name:"FriendCollection2",context:["server"],model:Bp,url:"/api/users"}),Hp=ta.Z.extend({name:"HomeDetailsModel",context:["server"],url:"/api/v2/home",responseType:na.AV,sessionAttrs:{isTogglingGuestUser:ea.Z.boolean},syncedAttrs:{id:ea.Z.integer,guestUserID:ea.Z.integer,guestEnabled:ea.Z.boolean,subscription:ea.Z.boolean,name:ea.Z.string},defaults:{isTogglingGuestUser:!1}});var qp=n(30944),Wp=n(68918);const $p=Wp.Z.extend({urlRoot:"/api/home/users",whitelistedAttrs:["id","uuid","admin","protected","restricted","restrictionProfile","guest","title","username","email","thumb"],convert(e){let t=v().isObject(e)?e:Ls.Z.parseXML(e);return t.User&&(t=t.User),Ls.Z.parseInteger(t,"id"),Ls.Z.parseBoolean(t,["admin","protected","restricted","guest"]),t},parse(e){let t=this.convert(e);return t=v().pick(t,this.whitelistedAttrs),t},getSaveParams(e,t){if(v().isEmpty(e)){const e={};return this.get("restricted")?e.title=this.get("title"):this.isNew()&&(e.invitedEmail=this.get("username")),e}return Wp.Z.prototype.getSaveParams.apply(this,arguments)}}),Gp=qp.Z.extend({model:$p,url:"/api/home/users",parse(e){return this.convert(e,"User")}}),Kp=ta.Z.extend({name:"UserProfileModel",context:["server"],url:"/api/v2/user/profile",syncedAttrs:{autoSelectAudio:ea.Z.boolean,autoSelectSubtitle:ea.Z.integer,defaultAudioLanguage:ea.Z.string,defaultSubtitleLanguage:ea.Z.string,defaultSubtitleAccessibility:ea.Z.integer,defaultSubtitleForced:ea.Z.integer}}),Xp=ra.Z.extend({name:"UserSettingCollection",context:["server"],model:Ua});var Qp=n(62481),Jp=Object.defineProperty,Yp=Object.prototype.hasOwnProperty,eg=Object.getOwnPropertySymbols,tg=Object.prototype.propertyIsEnumerable,ng=(e,t,n)=>t in e?Jp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ig=(e,t)=>{for(var n in t||(t={}))Yp.call(t,n)&&ng(e,n,t[n]);if(eg)for(var n of eg(t))tg.call(t,n)&&ng(e,n,t[n]);return e};const rg=ta.Z.extend({mixins:[Bh.Z],name:"UserModel",context:["server"],url(){return Gi.Z.join("/api/v2/user",sl(this))},sessionAttrs:{isSignedIn:ea.Z.boolean.isRequired,hasAttemptedSignIn:ea.Z.boolean.isRequired,hasInvalidToken:ea.Z.boolean.isRequired,hasInvalidAnonymousUserToken:ea.Z.boolean.isRequired,lastPrimaryServerID:ea.Z.string,homeUsers:ea.Z.instanceOf(Gp).isRequired,isFeaturesPending:ea.Z.boolean.isRequired,isFeaturesPopulated:ea.Z.boolean.isRequired,featuresError:ea.Z.object,isAllFriendsPending:ea.Z.boolean.isRequired,isAllFriendsPopulated:ea.Z.boolean.isRequired,allFriendsError:ea.Z.object,isProvidersPending:ea.Z.boolean.isRequired,isProvidersPopulated:ea.Z.boolean.isRequired,providersError:ea.Z.object},syncedAttrs:{id:ea.Z.integer,uuid:ea.Z.string,authToken:ea.Z.string,anonymous:ea.Z.boolean,username:ea.Z.string,friendlyName:ea.Z.string,email:ea.Z.string,confirmed:ea.Z.boolean,emailOnlyAuth:ea.Z.boolean,title:ea.Z.string,subscriptionDescription:ea.Z.string,locale:ea.Z.string,country:ea.Z.string,thumb:ea.Z.string,pin:ea.Z.string,home:ea.Z.boolean,restricted:ea.Z.boolean,guest:ea.Z.boolean,homeSize:ea.Z.integer,maxHomeSize:ea.Z.integer,queueUid:ea.Z.string,queueEmail:ea.Z.string,hasAllEntitlements:ea.Z.boolean,mailingListActive:ea.Z.boolean,experimentalFeatures:ea.Z.boolean,hasPassword:ea.Z.boolean,twoFactorEnabled:ea.Z.boolean,mailingListStatus:ea.Z.oneOf(Zp.Empty,Zp.Unsubscribed,Zp.Active,Zp.Error,Zp.Removed),adsConsent:ea.Z.boolean,adsConsentSetAt:ea.Z.integer,adsConsentReminderAt:ea.Z.integer},sessionRelations:{features:{relationClass:la},allFriends:{relationClass:zp},providers:{relationClass:dp.Z},homeDetails:{relationClass:Hp}},syncedRelations:{subscriptions:{relationClass:ba},pastSubscriptions:{relationClass:ba},roles:{relationClass:da},entitlements:{relationClass:oa},settings:{relationClass:Xp},consent:{relationClass:up},geo:{relationClass:hp},experienceSettings:()=>({relationClass:(0,h.DB)("UserExperienceSettingsModel")}),services:{relationClass:ha},profile:{relationClass:Kp}},derivedAttrs:{isFullUser(){return!!this.get("username")||!!this.get("anonymous")},isEmployee(){return!!this.get("roles").get("employee")},isNinja(){return this.get("isEmployee")||!!this.get("roles").get("ninja")},hasPlexSubscription(){return this.get("subscriptions").some((e=>{const t=e.get("state");return t===pa||t===ga}))},hasPlexPass(){return this.get("subscriptions").some((e=>{const t=e.get("type"),n=e.get("state");return t===fa&&(n===pa||n===ga)}))},canGoPremium(){const e=this.get("homeSize")>1,t=!1===this.get("homeDetails").get("subscription");return this.get("signedIn")&&!this.get("anonymous")&&!this.get("restricted")&&!this.get("hasPlexSubscription")&&(!e||t)},signedIn(){return this.get("isSignedIn")}},defaults(){const e={server:this.server,parent:this};return{id:0,isSignedIn:!1,hasAttemptedSignIn:!1,hasInvalidToken:!1,hasInvalidAnonymousUserToken:!1,hasPassword:!0,homeUsers:new Gp([],e),twoFactorEnabled:!1,isFeaturesPending:!0,isFeaturesPopulated:!1,featuresError:null,isAllFriendsPending:!0,isAllFriendsPopulated:!1,allFriendsError:null,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},initialize(e,t){this._resetPopulate(),this.onHomeUsersChange(this,this.get("homeUsers")),this.on("change:homeUsers",this.onHomeUsersChange,this),this.listenTo(this.server,{"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange})},uninitialize(){this.off("change:homeUsers",this.onHomeUsersChange,this),this.stopListening()},fetch(){return cu.ZP.Model.prototype.fetch.apply(this,arguments)},augmentResponse(e={}){const t=e,{roles:n,entitlements:i,settings:r,providers:s,subscriptions:o,pastSubscriptions:a}=t,l=((e,t)=>{var n={};for(var i in e)Yp.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&eg)for(var i of eg(e))t.indexOf(i)<0&&tg.call(e,i)&&(n[i]=e[i]);return n})(t,["roles","entitlements","settings","providers","subscriptions","pastSubscriptions"]);let c=r&&r.setting?r.setting:[];c=Array.isArray(c)?c:[c];const d=this.get("experienceSettings");let u=!1;const h=c.reduce(((e,t)=>(t.id===Qp.U?(u=!0,e.experienceSettings=ig(ig({},(0,ja.Z)(t.value)),{updatedAt:t.updatedAt})):e.settings.push(t),e)),{settings:[],experienceSettings:{}});return!u&&d&&(h.experienceSettings=d.toJSON({syncedOnly:!0})),l.gdprConsent&&(l.adsConsent=l.gdprConsent),l.gdprSetAt&&(l.adsConsentSetAt=l.gdprSetAt),l.gdprReminderAt&&(l.adsConsentReminderAt=l.gdprReminderAt),ig(ig(ig({},l),h),{roles:n&&n.role,hasAllEntitlements:i&&i.all,entitlements:i&&i.entitlement,services:s&&s.provider,subscriptions:o&&o.subscription,pastSubscriptions:a&&a.pastSubscription})},_getTokenPromise(){var e,t;return null==(t=null==(e=(0,h.DB)("appModel").get("ui"))?void 0:e.get("authCodeExchange"))||t.get("pinIDInitial"),(E.Z.allowSSO?this._getSSOThenStorageTokenPromise():this._getStorageTokenPromise()).then(null,(()=>(this.get("hasInvalidAnonymousUserToken"),this._getSkipAnonymousTokenPromise())))},_getSSOThenStorageTokenPromise(){const e=this._getStorageTokenPromise(),t=this._getSSOTokenPromise(),n=()=>this.get("anonymous")?((0,ae.Z)("[User] SSO status is not available, try stored anonymous token"),e):((0,ae.Z)("[User] SSO status is signed-out"),e.then((()=>bt(this.signOutDueToInvalidToken()))));return t.then((t=>t?(t=>e.then((e=>t===e?((0,ae.Z)("[User] SSO status is signed-in, storage token matches SSO token"),t):((0,ae.Z)(`[User] SSO status is signed-in, storage accessToken=${e} and SSO accessToken=${t} differ`),te.Z.execute("resetUser").then((()=>{window.location.reload()})))),(()=>((0,ae.Z)("[User] SSO status is signed-in, storage token is not present"),s().Deferred().resolve(t).promise()))))(t):n()),(()=>((0,ae.Z)("[User] SSO status is not available"),e)))},_getStorageTokenPromise:()=>he.get("myPlexAccessToken"),_getSSOTokenPromise(){return pl(this.server.getXHROptions("/api/v2/users/signin",{method:"POST",xhrFields:{withCredentials:!0},data:{skipAuthentication:!0},dataType:"json"})).then((e=>e.authToken),(e=>e&&400===e.status?s().Deferred().resolve(null).promise():s().Deferred().reject().promise()))},_getSkipAnonymousTokenPromise:()=>((0,ae.Z)("[User] Not attempting to create an anonymous token."),s().Deferred().reject().promise()),_getAnonymousTokenPromise(){const e=function(e,t){if(!t||!t.campaign)return e;return function(e,t){const{base:n,searchParams:i,hashPath:r,hashParams:s}=(0,Bl.Z)(e),o=(0,tc.Z)(i);return`${n}?${(0,pp.Z)(bp(bp({},o),t))}${(r||s?"#":"")+r+s}`}(e,Object.keys(t.campaign).reduce(((e,n)=>(e[`utm_${n}`]=t.campaign[n],e)),{}))}("/api/v2/users/anonymous",(0,h.DB)("metrics").toJSON().context);return pl(this.server.getXHROptions(e,{method:"POST",dataType:"json"})).then((({authToken:e})=>((0,ae.Z)("[User] Anonymous token promise succeeded, accessToken="+e),e)))},_getManualUserPromise(e){return s().ajax(this.server.getXHROptions(v().result(this,"url"),{headers:{"X-Plex-Token":e}}))},signInUnsupervised(){if(this._isSigningIn)return;this._isSigningIn=!0;const e=this._getTokenPromise();e.done((e=>{(0,ae.Z)("[User] Token promise succeeded, accessToken="+e);const t=e?this._getManualUserPromise(e):s().Deferred().reject().promise();t.done((t=>{(0,ae.Z)("[User] userPromise succeeded"),this.get("homeDetails").fetch({headers:{"X-Plex-Token":e}}).always((()=>{const e=this.parse(t);this.signIn(e),this._isSigningIn=!1}))})),t.fail((e=>{if((0,ae.Z)("[User] userPromise failed"),e&&e.aborting)return this.set({hasAttemptedSignIn:!0}),void(this._isSigningIn=!1);!e||401!==e.status&&422!==e.status?this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!1,features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}):this.get("anonymous")?((0,ae.Z)("[User] userPromise failed for anonymous user due to invalid token."),this.signOutAnonymousUser()):((0,ae.Z)("[User] userPromise failed due to invalid token."),this.signOutDueToInvalidToken()),this.server.testAllConnections(),this._isSigningIn=!1}))})),e.fail((()=>{(0,ae.Z)("[User] tokenPromise failed"),this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:this.get("hasInvalidAnonymousUserToken"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}),this._isSigningIn=!1}))},signIn(e,t={},n={}){const i=v().isString(e)?this.parse(e):e,r=i.authToken,s=ig(ig({hasAttemptedSignIn:!0,isSignedIn:!0},i),t);return this._resolve(s,n),he.set("myPlexAccessToken",r)},signOut(e={}){return this._reject(e),s().Deferred().resolve().promise()},signOutAnonymousUser(){return Ct([this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:!0}),this.clearAccessToken()])},signOutDueToInvalidToken(){return Ct([this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!0}),this.clearAccessToken()])},activateStoredUser(e){Qa.set("activeUserID",e)},clearAccessToken(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken&&delete window.PLEXWEB.myPlexAccessToken;let e=he.remove("myPlexAccessToken");return e=e.then((()=>Qa.clearActiveUser())),e},hashPIN(e,t=this.get("authToken")){return Ep().SHA256_hash(e+t)},hasEntitlement(e){const t=this.get("hasAllEntitlements"),n=this.get("entitlements");return!(!t&&!n.get(e))},hasHome(){return!!this.get("pin")||this.get("homeUsers").length>1},isFullUser(){return this.get("isFullUser")},isEmployee(){return this.get("isEmployee")},isNinja(){return this.get("isNinja")},_resolve(e,t={}){this.startCapturingChangeEvents(),this.activateStoredUser(e.id),this.set(e),this._resolvePopulate(),this.server.authenticate(e.authToken),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},_reject(e,t={}){this.startCapturingChangeEvents(),this.restoreDefaults(e),this._rejectPopulate(),this.server.deauthenticate(),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},onHomeUsersChange(e,t){const n=e.previous("homeUsers");n&&this.stopListening(n),this.listenTo(this.get("homeUsers"),"reset add remove",this.onHomeUsersUpdate)},onHomeUsersUpdate(){this.set("homeSize",this.get("homeUsers").length),this.get("homeDetails").fetch()},onServerConnectedChange(e,t){t&&this.signInUnsupervised()},onServerUnavailableChange(e,t){t&&this.signOut({features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")})}});(0,Rh.Z)(rg,(function(){return{relationClass:(0,h.DB)("UserFlexModel")}}));const sg=rg;var og=Object.defineProperty,ag=Object.prototype.hasOwnProperty,lg=Object.getOwnPropertySymbols,cg=Object.prototype.propertyIsEnumerable,dg=(e,t,n)=>t in e?og(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ug=ta.Z.extend({name:"EntityModel",sessionAttrs:{id:ea.Z.string.isRequired},sessionRelations:{model:{relationClass:ta.Z,deferred:!0}},toState(){const e=this.get("model"),t=((e,t)=>{for(var n in t||(t={}))ag.call(t,n)&&dg(e,n,t[n]);if(lg)for(var n of lg(t))cg.call(t,n)&&dg(e,n,t[n]);return e})({entityID:this.id},e.state);return Object.defineProperty(t,"possibleEntityContainers",{value:e.state.possibleEntityContainers,enumerable:!1}),t},shouldUpdateRelationState:function(){return!0}}),hg=ra.Z.extend({name:"EntityCollection",model:ug,toState(){const e=this.reduce(this.reduceState,{possibleEntityContainers:[]});return Object.defineProperty(e,"possibleEntityContainers",{enumerable:!1}),e},reduceState:(e,t)=>(e.possibleEntityContainers.push(t.id),e[t.id]=t.getState(),e)});var pg=n(28654),gg=n(81106),mg=n(83105),fg=n(78869),vg=n(62962),yg=n(15875),bg=Object.defineProperty,Zg=Object.prototype.hasOwnProperty,Sg=Object.getOwnPropertySymbols,wg=Object.prototype.propertyIsEnumerable,Pg=(e,t,n)=>t in e?bg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cg=(e,t)=>{for(var n in t||(t={}))Zg.call(t,n)&&Pg(e,n,t[n]);if(Sg)for(var n of Sg(t))wg.call(t,n)&&Pg(e,n,t[n]);return e};const xg=(0,gg.oM)({name:"user",initialState:{isPopulated:!1,isPending:!1,error:null,details:{thumb:"",friendlyName:"",email:"",username:"",anonymous:!0,isFullUser:!1}},reducers:{fetchUserDetails(e,t){(0,yg.er)(e)},fetchUserDetailsSucceeded(e,{payload:t}){(0,yg.vv)(e),e.details=t.details},fetchUserDetailsFailed(e,{payload:t}){(0,yg.VQ)(e,t.error)},updateUserDetails(e,t){(0,yg.er)(e)},updateUserDetailsSucceeded(e,{payload:t}){(0,yg.vv)(e),e.details=Cg(Cg({},e.details),t.details)},updateUserDetailsFailed(e,{payload:t}){(0,yg.VQ)(e,t.error)},clearError(e,t){e.error=null},languageChanged(){}}}),Ag=(0,mg.UY)({user:xg.reducer,serverAccounts:fg.Z.reducer,serverActivities:yh.Z.reducer,serverDevices:vg.Z.reducer,serverNowPlayingSessions:iu.Z.reducer,servers:ru.Z.reducer});var Eg=n(1104),Ig=n(66422),kg=n(70653),Tg=n(63082),Og=n(63803);const Mg=(0,mg.UY)({bandwidth:Eg.Z.reducer,playHistory:Ig.Z.reducer,resources:kg.Z.reducer,topPlayed:Tg.Z.reducer,topUsers:Og.Z.reducer});var Rg=n(26611),Dg=n(40477);const _g=(0,mg.UY)({dvrSetup:Rg.ZP.reducer,epgSettings:Dg.ZP.reducer});var Vg=n(73720),Lg=n(32502),jg=n(69781);const Ng=(0,mg.UY)({dashboard:Mg,dvrManagement:_g,libraryManagement:Vg.Z.reducer,livetv:Lg.Z.reducer,playHistory:jg.Z.reducer}),Ug=(0,mg.UY)({core:Ag,features:Ng}),Fg=(0,gg.PH)("v4/reset");var Bg=n(34857),zg=n(8515);function Hg(e,t,n,...i){return(0,Bg.rM)((function*(){const r={};yield(0,Bg.ib)(e,(function*(e){var s;const o=n(e);(null==(s=r[o])?void 0:s.isRunning())||(r[o]=yield(0,Bg.rM)(t,e,...i),yield(0,Bg.v_)(r[o]),r[o]&&!r[o].isRunning()&&delete r[o])}))}))}function*qg({payload:e}){const{server:t}=e;try{(yield(0,Bg.Ys)((0,zg.Z)(t.machineIdentifier))).isPopulated||(yield(0,Bg.gz)(fg.Z.actions.fetchRequested(e)))}catch(e){yield(0,Bg.gz)(fg.Z.actions.fetchFailed({server:t,error:ql.Z.toPlainErrorObject(e)}))}}function*Wg({payload:e}){var t,n;const{server:i}=e;try{const e=null!=(n=null==(t=(yield(0,Bg.RE)(ql.Z.get,"/accounts",{server:i})).data.MediaContainer)?void 0:t.Account)?n:[];yield(0,Bg.gz)(fg.Z.actions.fetchSucceeded({server:i,data:e.filter((e=>e.name))}))}catch(e){yield(0,Bg.gz)(fg.Z.actions.fetchFailed({server:i,error:ql.Z.toPlainErrorObject(e)}))}}function*$g(){yield Hg(fg.Z.actions.populateRequested,qg,(({payload:e})=>e.server.machineIdentifier))}function*Gg(){yield Hg(fg.Z.actions.fetchRequested,Wg,(({payload:e})=>e.server.machineIdentifier))}function*Kg(){yield(0,Bg.$6)([(0,Bg.rM)($g),(0,Bg.rM)(Gg)])}var Xg=n(49584);function*Qg({payload:e}){const{server:t}=e;try{(yield(0,Bg.Ys)((0,Xg.Z)(t.machineIdentifier))).isPopulated||(yield(0,Bg.gz)(vg.Z.actions.fetchRequested(e)))}catch(e){yield(0,Bg.gz)(vg.Z.actions.fetchFailed({server:t,error:ql.Z.toPlainErrorObject(e)}))}}function*Jg({payload:e}){var t,n;const{server:i}=e;try{const e=yield(0,Bg.RE)(ql.Z.get,"/devices",{server:i});yield(0,Bg.gz)(vg.Z.actions.fetchSucceeded({server:i,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Device)?n:[]}))}catch(e){yield(0,Bg.gz)(vg.Z.actions.fetchFailed({server:i,error:ql.Z.toPlainErrorObject(e)}))}}function*Yg(){yield Hg(vg.Z.actions.populateRequested,Qg,(({payload:e})=>e.server.machineIdentifier))}function*em(){yield Hg(vg.Z.actions.fetchRequested,Jg,(({payload:e})=>e.server.machineIdentifier))}function*tm(){yield(0,Bg.$6)([(0,Bg.rM)(Yg),(0,Bg.rM)(em)])}var nm=n(48162),im=n(50361),rm=n.n(im);function sm(e){return(t,n,i)=>{const r=e(t[n],n);i?(t[i]=r,delete t[n]):t[n]=r}}const om=sm(((e,t)=>{const n=typeof e;if("string"===n||"number"===n)return Number(e);"undefined"!==n&&ae.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)})),am=sm(((e,t)=>{const n=typeof e;return"boolean"===n||"number"===n?Boolean(e):"string"===n?"1"===e:void("undefined"!==n&&ae.Z.warn(`normalizeAsBoolean: returning undefined for type: ${n}, property: ${t}`))})),lm=sm(((e,t)=>{const n=typeof e;if(null!=e)return String(e);"undefined"!==n&&ae.Z.warn(`normalizeAsNumber: returning undefined for type: ${n}, property: ${t}`)}));function cm(e){var t,n;const{data:i}=e;return(null!=(n=null==(t=i.MediaContainer)?void 0:t.Metadata)?n:[]).map((e=>{var t;const n=rm()(e);return om(n,"viewOffset"),om(n,"duration"),null==(t=n.Media)||t.forEach((e=>{var t;null==(t=e.Part)||t.forEach((e=>{var t;null==(t=e.Stream)||t.forEach((e=>{am(e,"selected"),om(e,"streamType")}))}))})),n}))}function*dm({payload:e}){const{server:t}=e;try{const e=yield(0,Bg.RE)(ql.Z.get,"/status/sessions",{server:t});yield(0,Bg.gz)(iu.Z.actions.fetchSucceeded({server:t,data:cm(e)}))}catch(e){yield(0,Bg.gz)(iu.Z.actions.fetchFailed({server:t,error:ql.Z.toPlainErrorObject(e)}))}}function*um({payload:e}){const{server:t,message:n}=e;try{const e=(yield(0,Bg.Ys)((0,nm.Z)(t.machineIdentifier))).sessionsByKey[n.sessionKey];e&&e.key===n.key||(yield(0,Bg.gz)(iu.Z.actions.fetchRequested({server:t})))}catch(e){yield(0,Bg.gz)(iu.Z.actions.stopFailed({server:t,error:ql.Z.toPlainErrorObject(e)}))}}function*hm({payload:e}){const{server:t,session:n,reason:i}=e;try{yield(0,Bg.RE)(ql.Z.get,"/status/sessions/terminate",{server:t,params:{sessionId:n.Session.id,reason:i}})}catch(e){yield(0,Bg.gz)(iu.Z.actions.stopFailed({server:t,error:ql.Z.toPlainErrorObject(e)}))}}function*pm(){yield Hg(iu.Z.actions.fetchRequested,dm,(({payload:e})=>e.server.machineIdentifier))}function*gm(){yield Hg(iu.Z.actions.sessionChanged,um,(({payload:e})=>e.server.machineIdentifier))}function*mm(){yield(0,Bg.ib)(iu.Z.actions.stopRequested,hm)}function*fm(){yield(0,Bg.$6)([(0,Bg.rM)(pm),(0,Bg.rM)(gm),(0,Bg.rM)(mm)])}var vm=n(96486),ym=Object.defineProperty,bm=Object.prototype.hasOwnProperty,Zm=Object.getOwnPropertySymbols,Sm=Object.prototype.propertyIsEnumerable,wm=(e,t,n)=>t in e?ym(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pm=(e,t)=>{for(var n in t||(t={}))bm.call(t,n)&&wm(e,n,t[n]);if(Zm)for(var n of Zm(t))Sm.call(t,n)&&wm(e,n,t[n]);return e};function Cm(e){(0,h.DB)("appStore").dispatch(e)}const xm=function(e){return(0,Bg.RE)(Cm,e)};function*Am({payload:e}){const{server:t}=e;try{const e=yield(0,Bg.RE)(Im,t);yield(0,Bg.gz)(xg.actions.fetchUserDetailsSucceeded({details:{thumb:e.thumb||"",friendlyName:e.friendlyName||"",email:e.email,username:e.username,anonymous:e.anonymous,isFullUser:!!e.username||!!e.anonymous}}))}catch(e){yield(0,Bg.gz)(xg.actions.fetchUserDetailsFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*Em({payload:e}){const{server:t,update:n}=e,i=new FormData;n.avatar&&i.append("avatar",function(e){if(!e)return null;const[t,n]=e.split(","),i=t.substr(5),r=window.atob(n),s=[];for(let e=0;e<r.length;e++)s.push(r.charCodeAt(e));const o=new Uint8Array(s);return new window.Blob([o],{type:i})}(n.avatar));const r=Object.entries(n).filter((([e])=>"avatar"!==e));try{yield(0,Bg.RE)(ql.Z.put,`/api/v2/user?${new URLSearchParams(r)}`,{server:t,headers:{accept:"application/json"}},i);const e=yield(0,Bg.RE)(Im,t);yield(0,Bg.$6)([xm((0,Zc.BT)()),(0,Bg.gz)(xg.actions.updateUserDetailsSucceeded({details:{friendlyName:e.friendlyName||"",thumb:e.thumb||""}}))])}catch(e){yield(0,Bg.gz)(xg.actions.updateUserDetailsFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*Im(e){const{data:t}=yield(0,Bg.RE)(ql.Z.get,"/api/v2/user",{server:e,headers:{accept:"application/json"}});return Pm(Pm({},n=t),{friendlyName:n.friendlyName&&(0,vm.unescape)(n.friendlyName),title:n.title&&(0,vm.unescape)(n.title)});var n}function*km(){yield(0,Bg.Fm)(xg.actions.fetchUserDetails,Am)}function*Tm(){yield(0,Bg.Fm)(xg.actions.updateUserDetails,Em)}function*Om(){yield(0,Bg.$6)([(0,Bg.rM)(Tm),(0,Bg.rM)(km)])}function*Mm(){yield(0,Bg.$6)([(0,Bg.rM)(Om),(0,Bg.rM)(Kg),(0,Bg.rM)(tm),(0,Bg.rM)(fm)])}var Rm=n(24831),Dm=n(56514);var _m=n(97110);function*Vm({payload:e}){var t,n;try{const i=Date.now(),r=yield(0,Bg.RE)(ql.Z.get,"/statistics/bandwidth",{server:e.server,params:{timespan:e.timespan,"at>":e.after}}),s=r.data.MediaContainer,o=r.headers.Date,a=o?(n=o,function(e=new Date){return new Date(e.getTime()+60*e.getTimezoneOffset()*1e3)}((0,Dm.Z)(n,"EEE, dd MMM yyyy HH:mm:ss 'GMT'",new Date)).getTime()):i;yield(0,Bg.gz)(Eg.Z.actions.bandwidthFetchSucceeded({data:null!=(t=null==s?void 0:s.StatisticsBandwidth)?t:[],requestTimestampMilliseconds:i,responseTimestampMilliseconds:a}))}catch(e){yield(0,Bg.gz)(Eg.Z.actions.bandwidthFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*Lm({payload:e}){var t;try{const n=Date.now(),i=(yield(0,Bg.RE)(ql.Z.get,"/statistics/resources",{server:e.server,params:{timespan:(0,_m.rG)(_m.XH.RealTime)}})).data.MediaContainer;yield(0,Bg.gz)(kg.Z.actions.resourcesFetchSucceeded({data:null!=(t=null==i?void 0:i.StatisticsResources)?t:[],requestTimestampMilliseconds:n}))}catch(e){yield(0,Bg.gz)(kg.Z.actions.resourcesFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*jm({payload:e}){var t,n;try{const i=(yield(0,Bg.RE)(Fm,e)).data.MediaContainer;yield(0,Bg.gz)(Og.Z.actions.topUsersFetchSucceeded({data:{statistics:null!=(t=null==i?void 0:i.StatisticsMedia)?t:[],accounts:null!=(n=null==i?void 0:i.Account)?n:[]}}))}catch(e){yield(0,Bg.gz)(Og.Z.actions.topUsersFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*Nm({payload:e}){var t,n;try{const i=(yield(0,Bg.RE)(Fm,e)).data.MediaContainer;yield(0,Bg.gz)(Ig.Z.actions.playHistoryFetchSucceeded({data:{statistics:null!=(t=null==i?void 0:i.StatisticsMedia)?t:[],accounts:null!=(n=null==i?void 0:i.Account)?n:[]}}))}catch(e){yield(0,Bg.gz)(Ig.Z.actions.playHistoryFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*Um({payload:e}){var t,n,i,r,s,o;try{const[a,l,c]=yield(0,Bg.$6)([(0,Bg.RE)(Bm,e,Rm.pG.Movie),(0,Bg.RE)(Bm,e,Rm.pG.Show),(0,Bg.RE)(Bm,e,Rm.pG.Artist)]);yield(0,Bg.gz)(Tg.Z.actions.topPlayedFetchSucceeded({data:{moviesStatistics:null!=(n=null==(t=a.data.MediaContainer)?void 0:t.Metadata)?n:[],tvStatistics:null!=(r=null==(i=l.data.MediaContainer)?void 0:i.Metadata)?r:[],musicStatistics:null!=(o=null==(s=c.data.MediaContainer)?void 0:s.Metadata)?o:[]}}))}catch(e){yield(0,Bg.gz)(Tg.Z.actions.topPlayedFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*Fm(e){return yield(0,Bg.RE)(ql.Z.get,"/statistics/media",{server:e.server,params:{timespan:e.timespan,"at>":e.after}})}function*Bm(e,t){return yield(0,Bg.RE)(ql.Z.get,"/library/all/top",{server:e.server,params:{accountID:e.accountID,type:Qs.nW(t).id,"viewedAt>":e.viewedAt,limit:e.limit}})}function*zm(){for(;;){const e=yield(0,Bg.Fm)(Eg.Z.actions.bandwidthFetchRequested,Vm);yield(0,Bg.qn)([Eg.Z.actions.reset,Eg.Z.actions.bandwidthAbortRequested]),yield(0,Bg.al)(e)}}function*Hm(){for(;;){const e=yield(0,Bg.Fm)(kg.Z.actions.resourcesFetchRequested,Lm);yield(0,Bg.qn)(kg.Z.actions.reset),yield(0,Bg.al)(e)}}function*qm(){for(;;){const e=yield(0,Bg.A7)(Og.Z.actions.topUsersFetchRequested,jm);yield(0,Bg.qn)(Og.Z.actions.reset),yield(0,Bg.al)(e)}}function*Wm(){for(;;){const e=yield(0,Bg.A7)(Ig.Z.actions.playHistoryFetchRequested,Nm);yield(0,Bg.qn)(Ig.Z.actions.reset),yield(0,Bg.al)(e)}}function*$m(){for(;;){const e=yield(0,Bg.A7)(Tg.Z.actions.topPlayedFetchRequested,Um);yield(0,Bg.qn)(Tg.Z.actions.reset),yield(0,Bg.al)(e)}}function*Gm(){yield(0,Bg.$6)([(0,Bg.rM)(zm),(0,Bg.rM)(Hm),(0,Bg.rM)(qm),(0,Bg.rM)(Wm),(0,Bg.rM)($m)])}var Km=n(36023),Xm=n(73584),Qm=n(62096),Jm=n(66233),Ym=n(92899),ef=n(77686),tf=Object.defineProperty,nf=Object.prototype.hasOwnProperty,rf=Object.getOwnPropertySymbols,sf=Object.prototype.propertyIsEnumerable,of=(e,t,n)=>t in e?tf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,af=(e,t)=>{for(var n in t||(t={}))nf.call(t,n)&&of(e,n,t[n]);if(rf)for(var n of rf(t))sf.call(t,n)&&of(e,n,t[n]);return e};function lf(e){return(null!=e?e:[]).map((e=>e.enabled?(am(e,"enabled"),e):af(af({},e),{enabled:!!e.lineupIdentifier})))}var cf,df,uf=n(73368),hf=n(97156);function pf(e){var t,n;const i=rm()(e);return lm(i,"key"),lm(i,"source"),om(i,"tuners"),i.sources=null==(n=null==(t=e.sources)?void 0:t.split(","))?void 0:n.map((e=>{const t=(0,uf.su)(ef.dd).find((t=>t===e));return(0,hf.Z)(t,`Unknown Media Grabber Device Source Type ${e}`),t})),i.ChannelMapping=lf(i.ChannelMapping),i}function gf({data:e}){var t;return(null!=(t=e.Device)?t:[]).map(pf)}function mf({data:e}){var t,n;const i=null==(t=e.Dvr)?void 0:t[0];if(!i)return;const r=rm()(i);return lm(r,"key"),r.Device=null==(n=null==i?void 0:i.Device)?void 0:n.map(pf),r}(df=cf||(cf={})).Int="int",df.Text="text",df.Bool="bool",df.Enum="enum",df.Double="double";var ff=Object.prototype.hasOwnProperty,vf=Object.getOwnPropertySymbols,yf=Object.prototype.propertyIsEnumerable;function bf(e,t){switch(e){case cf.Int:case cf.Enum:return xs.Z.parseInteger(t);case cf.Bool:return xs.Z.parseBoolean(t);case cf.Double:return xs.Z.parseFloat(t);default:return t}}var Zf=Object.defineProperty,Sf=Object.prototype.hasOwnProperty,wf=Object.getOwnPropertySymbols,Pf=Object.prototype.propertyIsEnumerable,Cf=(e,t,n)=>t in e?Zf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xf=(e,t)=>{for(var n in t||(t={}))Sf.call(t,n)&&Cf(e,n,t[n]);if(wf)for(var n of wf(t))Pf.call(t,n)&&Cf(e,n,t[n]);return e};function*Af({payload:e}){var t;const{server:n}=e;try{const e=yield(0,Bg.RE)(ql.Z.post,"/media/grabbers/devices/discover",{server:n,timeout:0});yield(0,Bg.gz)(Rg.ZP.actions.devicesDiscoverSucceeded({server:n,data:gf({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:(0,_.Z)("There was a problem discovering devices")})),yield(0,Bg.gz)(Rg.ZP.actions.devicesDiscoverFailed({server:n,error:ql.Z.toPlainErrorObject(e)}))}}function*Ef({payload:e}){var t;const{server:n}=e;try{const e=yield(0,Bg.RE)(ql.Z.get,"/media/grabbers/devices",{server:n});yield(0,Bg.gz)(Rg.ZP.actions.devicesFetchSucceeded({server:n,data:gf({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.devicesFetchFailed({server:n,error:ql.Z.toPlainErrorObject(e)}))}}function*If({payload:e}){var t,n;const{server:i,deviceKey:r}=e;try{const e=yield(0,Bg.RE)(ql.Z.get,Gi.Z.join(["/media/grabbers/devices",r,"channels"]),{server:i});yield(0,Bg.gz)(Rg.ZP.actions.deviceChannelsFetchSucceeded({server:i,deviceKey:r,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.DeviceChannel)?n:[]}))}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:(0,_.Z)("There was a problem getting the channels for your device")})),yield(0,Bg.gz)(Rg.ZP.actions.deviceChannelsFetchFailed({deviceKey:r,error:ql.Z.toPlainErrorObject(e)}))}}function*kf({payload:e}){var t,n;const{server:i,deviceKey:r,source:s,prefs:o,network:a,country:l}=e;try{const e=yield(0,Bg.RE)(ql.Z.post,Gi.Z.join(["/media/grabbers/devices",r,"scan"]),{server:i,params:{source:s,prefs:o,network:a,country:l}});if(e.headers["x-plex-activity"])yield(0,Bg.gz)(Rg.ZP.actions.scanPrefsAndNetworksReset());else{const n=function({data:e}){var t;return(null!=(t=e.Setting)?t:[]).map((e=>{const t=e,{enumValues:n}=t,i=((e,t)=>{var n={};for(var i in e)ff.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&vf)for(var i of vf(e))t.indexOf(i)<0&&yf.call(e,i)&&(n[i]=e[i]);return n})(t,["enumValues"]);return i.default&&(i.default=bf(i.type,i.default)),i.value=bf(i.type,i.value),am(i,"advanced"),am(i,"hidden"),n&&(i.enumValues=n.split("|").map((e=>{const[t,n=t]=e.split(":");return{label:decodeURIComponent(n),value:bf(i.type,t)}}))),i}))}({server:i,data:null==(t=e.data)?void 0:t.MediaContainer});(null==n?void 0:n.length)&&(yield(0,Bg.gz)(Rg.ZP.actions.scanPrefsAdded({settings:n})))}}catch(e){const t=ql.Z.toPlainErrorObject(e);yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:null!=(n=null==t?void 0:t.message)?n:(0,_.Z)("There was a problem scanning channels")})),yield(0,Bg.gz)(Rg.ZP.actions.deviceChannelsScanFailed())}}function*Tf({payload:e}){const{server:t,deviceKey:n}=e;try{yield(0,Bg.RE)(ql.Z.del,Gi.Z.join(["/media/grabbers/devices",n,"scan"]),{server:t})}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:(0,_.Z)("There was a problem canceling the current channel scan")})),yield(0,Bg.gz)(Rg.ZP.actions.deviceChannelsCancelScanFailed())}}function*Of({payload:e}){const{server:t,deviceKey:n,mappings:i}=e;try{const e=yield(0,Bg.Ys)((0,Xm.Z)(n)),r=[],s={};Object.values(i).forEach((({key:t,channelKey:n,lineupIdentifier:i,enabled:o})=>{const a=e.channels.find((e=>e.identifier===t)),l=null==a?void 0:a.drm;o&&n&&i&&!l&&(r.push(t),s[`channelMappingByKey[${t}]`]=n,s[`channelMapping[${t}]`]=i)})),yield(0,Bg.RE)(ql.Z.put,Gi.Z.join(["/media/grabbers/devices",n,"channelmap"]),{server:t,params:xf({channelsEnabled:r.toString()},s)}),yield(0,Bg.gz)(Rg.ZP.actions.deviceChannelMappingsSaveSucceeded())}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.deviceChannelMappingsSaveFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*Mf({payload:e}){const{server:t,deviceKey:n,enabled:i,title:r}=e;try{yield(0,Bg.RE)(ql.Z.put,Gi.Z.join(["/media/grabbers/devices",n]),{server:t,params:{title:r,enabled:i?1:0}}),yield(0,Bg.gz)(Rg.ZP.actions.deviceEnableSucceeded({deviceKey:n,enabled:i}))}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.deviceEnableFailed())}}function*Rf({payload:e}){var t;const{server:n,uri:i}=e;let r=(0,_.Z)("There was a problem adding the device: {1}",i);try{const e=gf({server:n,data:null==(t=(yield(0,Bg.RE)(ql.Z.post,"/media/grabbers/tv.plex.grabbers.hdhomerun/devices",{server:n,params:{uri:i}})).data)?void 0:t.MediaContainer});if(0===e.length)throw r=(0,_.Z)("No device found at {1}",i),new Error;yield(0,Bg.gz)(Rg.ZP.actions.deviceAddSucceeded({server:n,data:e[0]}))}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:r})),yield(0,Bg.gz)(Rg.ZP.actions.deviceAddFailed({server:n,error:ql.Z.toPlainErrorObject(e)}))}}function*Df({payload:e}){var t;const{server:n,dvrID:i}=e;try{const e=i?Gi.Z.join(["/livetv/dvrs",i]):"/livetv/dvrs",r=yield(0,Bg.RE)(ql.Z.get,e,{server:n});yield(0,Bg.gz)(Rg.ZP.actions.dvrFetchSucceeded({dvr:mf({server:n,data:null==(t=r.data)?void 0:t.MediaContainer})}))}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.dvrFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*_f({payload:e}){var t;const{server:n,device:i,channelMappings:r}=e,s=yield(0,Bg.Ys)(Ym.Z);try{const{success:e,failure:o}=yield(0,Bg.RE)(Uf,n,i.key,r,s);if(o)throw new Error;if(e){const{selectedCountry:e,selectedLanguage:r}=yield(0,Bg.Ys)(Jm.Z),o=yield(0,Bg.RE)(ql.Z.post,"/livetv/dvrs",{server:n,params:{device:i.uuid,lineup:null==s?void 0:s.map((e=>e.uuid)),language:null==r?void 0:r.code,country:null==e?void 0:e.code}});yield(0,Bg.gz)(Rg.ZP.actions.dvrSaveSucceeded({activityUUID:o.headers["x-plex-activity"],dvr:mf({server:n,data:null==(t=o.data)?void 0:t.MediaContainer})})),yield(0,Bg.gz)(Rg.ZP.actions.devicesFetchRequested({server:n})),yield xm((0,Km.oP)({serverEntityID:n.entityID}))}}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:(0,_.Z)("There was a problem saving your DVR. Please try again.")})),yield(0,Bg.gz)(Rg.ZP.actions.dvrSaveFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*Vf({payload:e}){const{server:t,dvrID:n}=e;try{yield(0,Bg.RE)(ql.Z.del,Gi.Z.join(["/livetv/dvrs",n]),{server:t,timeout:0}),yield(0,Bg.gz)(Rg.ZP.actions.dvrDeleteSucceeded())}catch(e){yield xm((0,ao.wp)((0,_.Z)("There was a problem removing your DVR")))}}function*Lf({payload:e}){var t;const{server:n,dvrID:i,deviceKey:r,channelMappings:s}=e,o=yield(0,Bg.Ys)(Ym.Z);try{const{success:e,failure:a}=yield(0,Bg.RE)(Uf,n,r,s,o);if(a)throw new Error;if(e){yield(0,Bg.RE)(Nf,n,i,o);const e=yield(0,Bg.RE)(ql.Z.put,Gi.Z.join(["/livetv/dvrs",i,"devices",r]),{server:n});yield(0,Bg.gz)(Rg.ZP.actions.addDVRDeviceSucceeded({activityUUID:e.headers["x-plex-activity"],dvr:mf({server:n,data:null==(t=e.data)?void 0:t.MediaContainer})})),yield(0,Bg.gz)(Rg.ZP.actions.devicesFetchRequested({server:n})),yield xm((0,Km.oP)({serverEntityID:n.entityID}))}}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:(0,_.Z)("There was a problem adding a new device to your DVR. Please try again.")})),yield(0,Bg.gz)(Rg.ZP.actions.addDVRDeviceFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*jf({payload:e}){const{server:t,dvrID:n,deviceKey:i}=e;try{yield(0,Bg.RE)(ql.Z.del,Gi.Z.join(["/livetv/dvrs",n,"devices",i]),{server:t}),yield(0,Bg.gz)(Rg.ZP.actions.removeDVRDeviceSucceeded({deviceKey:i}))}catch(e){yield xm((0,ao.wp)((0,_.Z)("There was a problem removing a DVR device"))),yield(0,Bg.gz)(Rg.ZP.actions.removeDVRDeviceFailed())}}function*Nf(e,t,n){var i;const{selectedDVR:r}=yield(0,Bg.Ys)(Qm.Z);let s=n;(null==(i=r.dvr)?void 0:i.Lineup)&&(s=s.filter((e=>{var t,n;return!(null==(n=null==(t=r.dvr)?void 0:t.Lineup)?void 0:n.find((t=>t.id===e.uuid)))}))),yield(0,Bg.$6)(s.map((n=>(0,Bg.RE)(ql.Z.put,Gi.Z.join(["/livetv/dvrs",t,"lineups"]),{server:e,params:{lineup:n.uuid}}))))}function*Uf(e,t,n,i){var r;return yield(0,Bg.gz)(Rg.ZP.actions.deviceChannelMappingsSaveRequested({server:e,deviceKey:t,mappings:n})),yield(0,Bg.gz)(Rg.ZP.actions.deviceEnableRequested({server:e,deviceKey:t,enabled:!0,title:null==(r=null==i?void 0:i[0])?void 0:r.title})),yield(0,Bg.S3)({success:(0,Bg.$6)([(0,Bg.qn)(Rg.ZP.actions.deviceChannelMappingsSaveSucceeded),(0,Bg.qn)(Rg.ZP.actions.deviceEnableSucceeded)]),failure:(0,Bg.S3)([(0,Bg.qn)(Rg.ZP.actions.deviceChannelMappingsSaveFailed),(0,Bg.qn)(Rg.ZP.actions.deviceEnableFailed)])})}function*Ff(){for(;;){const e=yield(0,Bg.A7)(Rg.ZP.actions.devicesDiscoverRequested,Af);yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Bf(){for(;;){const e=yield(0,Bg.A7)(Rg.ZP.actions.devicesFetchRequested,Ef);yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*zf(){for(;;){const e=yield Hg(Rg.ZP.actions.deviceChannelsFetchRequested,If,(({payload:e})=>e.deviceKey));yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Hf(){for(;;){const e=yield Hg(Rg.ZP.actions.deviceChannelsScanRequested,kf,(({payload:e})=>e.deviceKey));yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*qf(){for(;;){const e=yield Hg(Rg.ZP.actions.deviceChannelsCancelScanRequested,Tf,(({payload:e})=>e.deviceKey));yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Wf(){for(;;){const e=yield Hg(Rg.ZP.actions.deviceChannelMappingsSaveRequested,Of,(({payload:e})=>e.deviceKey));yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*$f(){for(;;){const e=yield Hg(Rg.ZP.actions.deviceEnableRequested,Mf,(({payload:e})=>e.deviceKey));yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Gf(){for(;;){const e=yield(0,Bg.A7)(Rg.ZP.actions.dvrFetchRequested,Df);yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Kf(){for(;;){const e=yield(0,Bg.A7)(Rg.ZP.actions.deviceAddRequested,Rf);yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Xf(){for(;;){const e=yield(0,Bg.A7)(Rg.ZP.actions.dvrSaveRequested,_f);yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Qf(){for(;;){const e=yield(0,Bg.A7)(Rg.ZP.actions.dvrDeleteRequested,Vf);yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Jf(){for(;;){const e=yield(0,Bg.A7)(Rg.ZP.actions.addDVRDeviceRequested,Lf);yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Yf(){for(;;){const e=yield(0,Bg.A7)(Rg.ZP.actions.removeDVRDeviceRequested,jf);yield(0,Bg.qn)(Rg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*ev(){yield(0,Bg.$6)([(0,Bg.rM)(Ff),(0,Bg.rM)(Bf),(0,Bg.rM)(zf),(0,Bg.rM)(Hf),(0,Bg.rM)(qf),(0,Bg.rM)(Wf),(0,Bg.rM)($f),(0,Bg.rM)(Kf),(0,Bg.rM)(Gf),(0,Bg.rM)(Xf),(0,Bg.rM)(Qf),(0,Bg.rM)(Jf),(0,Bg.rM)(Yf)])}var tv=Object.defineProperty,nv=Object.prototype.hasOwnProperty,iv=Object.getOwnPropertySymbols,rv=Object.prototype.propertyIsEnumerable,sv=(e,t,n)=>t in e?tv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ov=(e,t)=>{for(var n in t||(t={}))nv.call(t,n)&&sv(e,n,t[n]);if(iv)for(var n of iv(t))rv.call(t,n)&&sv(e,n,t[n]);return e};function*av({payload:e}){var t,n,i;const{server:r,device:s,lineups:o}=e,a=o.map((e=>e.uuid));try{const e=yield(0,Bg.RE)(mv,r,a),t=lf((yield(0,Bg.RE)(ql.Z.get,"/livetv/epg/channelmap",{server:r,params:{device:s.uuid,lineup:a}})).data.MediaContainer.ChannelMapping);yield(0,Bg.gz)(Dg.ZP.actions.channelMappingsFetchSucceeded({channelMappings:t,lineupChannels:e}))}catch(e){yield(0,Bg.gz)(Dg.ZP.actions.channelMappingsFetchFailed({error:ql.Z.toPlainErrorObject(e)}));let r=(0,_.Z)("There was a problem fetching channel mappings. Please try again later.");(null==(i=null==(n=null==(t=e.response)?void 0:t.data)?void 0:n.MediaContainer)?void 0:i.message)&&(r=e.response.data.MediaContainer.message),yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:r}))}}function*lv({payload:e}){const{server:t,device:n,lineupGroup:i}=e;try{yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageRemoved());const e=yield(0,Bg.RE)(ql.Z.get,Gi.Z.join("/livetv/epg/lineup",{device:n.uuid,lineupGroup:i.uuid}),{server:t});yield(0,Bg.gz)(Dg.ZP.actions.bestEPGLineupSearchSucceeded({lineupGroup:i,data:e.headers["x-plex-activity"]}))}catch(e){yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:(0,_.Z)("There was a problem mapping channels")}))}}function*cv({payload:e}){var t,n;const{server:i}=e;try{const e=yield(0,Bg.RE)(ql.Z.get,"/livetv/epg/countries",{server:i});yield(0,Bg.gz)(Dg.ZP.actions.epgCountriesFetchSucceeded({server:i,data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Country)?n:[]}))}catch(e){yield(0,Bg.gz)(Dg.ZP.actions.epgCountriesFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*dv({payload:e}){var t,n;const{server:i,country:r}=e;try{const e=yield(0,Bg.RE)(ql.Z.get,Gi.Z.join(["/livetv/epg/countries",r.key,"regions"]),{server:i});yield(0,Bg.gz)(Dg.ZP.actions.epgCountryRegionsFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Region)?n:[]}))}catch(e){yield(0,Bg.gz)(Dg.ZP.actions.epgCountryRegionsFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*uv({payload:e}){var t,n;const{server:i}=e;try{const e=yield(0,Bg.RE)(ql.Z.get,"/livetv/epg/languages",{server:i});yield(0,Bg.gz)(Dg.ZP.actions.epgLanguagesFetchSucceeded({data:null!=(n=null==(t=e.data.MediaContainer)?void 0:t.Language)?n:[]}))}catch(e){yield(0,Bg.gz)(Dg.ZP.actions.epgLanguagesFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*hv({payload:e}){var t,n;const{server:i,country:r,region:s,postalCode:o}=e,a=["/livetv/epg/countries",r.key],l={};r.flavor===ef.Y_.Regions&&s?a.push(s.key):l.postalCode=o;const c=Gi.Z.join(a,l);try{const e=yield(0,Bg.RE)(ql.Z.get,c,{server:i}),{MediaContainer:r}=e.data;yield(0,Bg.gz)(Dg.ZP.actions.epgLineupGroupFetchSucceeded({data:{uuid:null!=(t=null==r?void 0:r.uuid)?t:"",epgLineups:null!=(n=null==r?void 0:r.Lineup)?n:[]}}))}catch(e){yield(0,Bg.gz)(Dg.ZP.actions.epgLineupGroupFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*pv({payload:e}){(yield(0,Bg.Ys)(Jm.Z)).selectedLineupGroups.find((t=>t.uuid===e.lineupGroup.uuid))?yield(0,Bg.gz)(Rg.ZP.actions.setupErrorMessageAdded({message:(0,_.Z)("It looks like you have already set up a lineup for this location.")})):yield(0,Bg.gz)(Dg.ZP.actions.selectedEPGLineupGroupAddSucceeded({lineupGroup:e.lineupGroup}))}function*gv({payload:e}){var t;const{server:n}=e;try{const{selectedDVR:e}=yield(0,Bg.Ys)(Qm.Z);if(!(null==(t=null==e?void 0:e.dvr)?void 0:t.Lineup))throw new Error("No available DVR lineups to fetch");const i=e.dvr.Lineup.map((e=>e.id)),r=yield(0,Bg.RE)(mv,n,i);yield(0,Bg.gz)(Dg.ZP.actions.selectedDVRLineupChannelsFetchSucceeded({lineupChannels:r}))}catch(e){yield(0,Bg.gz)(Dg.ZP.actions.selectedDVRLineupChannelsFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*mv(e,t){return function({data:e}){var t;const n=null!=(t=e.Lineup)?t:[];return n.forEach((e=>{var t;e.Channel=null==(t=e.Channel)?void 0:t.map((t=>ov(ov({},t),{lineupUUID:e.uuid})))})),n}({server:e,data:(yield(0,Bg.RE)(ql.Z.get,"/livetv/epg/lineupchannels",{server:e,params:{lineup:t}})).data.MediaContainer})}function*fv(){for(;;){const e=yield(0,Bg.A7)(Dg.ZP.actions.channelMappingsFetchRequested,av);yield(0,Bg.qn)(Dg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*vv(){for(;;){const e=yield(0,Bg.A7)(Dg.ZP.actions.bestEPGLineupSearchRequested,lv);yield(0,Bg.qn)(Dg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*yv(){for(;;){const e=yield(0,Bg.A7)(Dg.ZP.actions.epgCountriesFetchRequested,cv);yield(0,Bg.qn)(Dg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*bv(){for(;;){const e=yield(0,Bg.A7)(Dg.ZP.actions.epgCountryRegionsFetchRequested,dv);yield(0,Bg.qn)(Dg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Zv(){for(;;){const e=yield(0,Bg.A7)(Dg.ZP.actions.epgLanguagesFetchRequested,uv);yield(0,Bg.qn)(Dg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Sv(){for(;;){const e=yield(0,Bg.A7)(Dg.ZP.actions.epgLineupGroupFetchRequested,hv);yield(0,Bg.qn)(Dg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*wv(){for(;;){const e=yield(0,Bg.A7)(Dg.ZP.actions.selectedEPGLineupGroupAddRequested,pv);yield(0,Bg.qn)(Dg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Pv(){for(;;){const e=yield(0,Bg.A7)(Dg.ZP.actions.selectedDVRLineupChannelsFetchRequested,gv);yield(0,Bg.qn)(Dg.ZP.actions.reset),yield(0,Bg.al)(e)}}function*Cv(){yield(0,Bg.$6)([(0,Bg.rM)(fv),(0,Bg.rM)(vv),(0,Bg.rM)(yv),(0,Bg.rM)(bv),(0,Bg.rM)(Zv),(0,Bg.rM)(Sv),(0,Bg.rM)(wv),(0,Bg.rM)(Pv)])}function*xv(){yield(0,Bg.$6)([(0,Bg.rM)(ev),(0,Bg.rM)(Cv)])}var Av=n(34738),Ev=n(38744),Iv=n(65754),kv=Object.defineProperty,Tv=Object.prototype.hasOwnProperty,Ov=Object.getOwnPropertySymbols,Mv=Object.prototype.propertyIsEnumerable,Rv=(e,t,n)=>t in e?kv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dv=(e,t)=>{for(var n in t||(t={}))Tv.call(t,n)&&Rv(e,n,t[n]);if(Ov)for(var n of Ov(t))Mv.call(t,n)&&Rv(e,n,t[n]);return e};const _v="MergedRecentlyAdded";function*Vv({payload:e}){var t,n;const{server:i}=e;try{const e=null==(n=null==(t=(yield(0,Bg.RE)(ql.Z.get,":/prefs/get",{server:i,params:{id:_v}})).data.MediaContainer.Setting)?void 0:t[0])?void 0:n.value;yield(0,Bg.gz)(Vg.Z.actions.settingsFetchSucceeded({server:i,isMergeRecentlyAddedEnabled:e}))}catch(e){yield(0,Bg.gz)(Vg.Z.actions.settingsFetchFailed({server:i,error:ql.Z.toPlainErrorObject(e)}))}}function*Lv({payload:e}){const{server:t,isMergeRecentlyAddedEnabled:n}=e;try{yield(0,Bg.RE)(ql.Z.put,":/prefs",{server:t,params:{[_v]:n}}),yield(0,Bg.gz)(Vg.Z.actions.settingsUpdateSucceeded({server:t,isMergeRecentlyAddedEnabled:n})),yield(0,Bg.gz)(Vg.Z.actions.resetHubs())}catch(e){yield(0,Bg.gz)(Vg.Z.actions.settingsUpdateFailed({server:t,error:ql.Z.toPlainErrorObject(e)}))}}function*jv({payload:e}){const{server:t,sourceURI:n}=e;try{const e=yield(0,Bg.RE)(qv,t,n);yield(0,Bg.gz)(Vg.Z.actions.hubsFetchSucceeded({sourceURI:n,options:e}))}catch(e){yield(0,Bg.gz)(Vg.Z.actions.hubsFetchFailed({sourceURI:n,error:ql.Z.toPlainErrorObject(e)}))}}function*Nv({payload:e}){var t;const{server:n,sourceURI:i,options:r,fromIndex:s,toIndex:o}=e;try{const e=r[o].identifier,s=null==(t=r.find(((e,t)=>t===o-1)))?void 0:t.identifier,{key:a}=(0,Av.Z)(i);yield(0,Bg.RE)(ql.Z.put,Gi.Z.join([a,e,"move"]),{server:n,params:{after:s}}),yield(0,Bg.gz)(Vg.Z.actions.reorderSucceeded({sourceURI:i})),yield(0,Bg.gz)(Vg.Z.actions.resetHubs())}catch(e){const t=Array.from(r),[n]=t.splice(o,1);t.splice(s,0,n),yield(0,Bg.gz)(Vg.Z.actions.reorderFailed({sourceURI:i,options:t,error:ql.Z.toPlainErrorObject(e)}))}}function*Uv({payload:e}){const{server:t,sourceURI:n,options:i,removed:r,index:s}=e;try{const e=r.identifier,{key:i}=(0,Av.Z)(n);yield(0,Bg.RE)(ql.Z.del,Gi.Z.join([i,e]),{server:t}),yield(0,Bg.gz)(Vg.Z.actions.removeSucceeded({sourceURI:n})),yield(0,Bg.gz)(Vg.Z.actions.resetHubs())}catch(e){const t=Array.from(i);t.splice(s,0,r),yield(0,Bg.gz)(Vg.Z.actions.removeFailed({sourceURI:n,options:t,error:ql.Z.toPlainErrorObject(e)}))}}function*Fv({payload:e}){const{server:t,sourceURI:n}=e;try{const{key:e}=(0,Av.Z)(n);yield(0,Bg.RE)(ql.Z.del,e,{server:t});const i=yield(0,Bg.RE)(qv,t,n);yield(0,Bg.gz)(Vg.Z.actions.resetSucceeded({sourceURI:n,options:i})),yield(0,Bg.gz)(Vg.Z.actions.resetHubs())}catch(e){yield(0,Bg.gz)(Vg.Z.actions.resetFailed({sourceURI:n,error:ql.Z.toPlainErrorObject(e)}))}}function*Bv({payload:e}){const{server:t,sourceURI:n,options:i,promoted:r}=e;try{const e=Dv(Dv({},i),r);yield(0,Bg.gz)(Vg.Z.actions.promoteChanged({sourceURI:n,options:e}));const{key:s}=(0,Av.Z)(n);yield(0,Bg.RE)(ql.Z.put,Gi.Z.join([s,e.identifier]),{server:t,params:{promotedToRecommended:(0,Ev.Z)(e.promotedToRecommended),promotedToOwnHome:(0,Ev.Z)(e.promotedToOwnHome),promotedToSharedHome:(0,Ev.Z)(e.promotedToSharedHome)}}),yield(0,Bg.gz)(Vg.Z.actions.resetHubs())}catch(e){yield(0,Bg.gz)(Vg.Z.actions.promoteChanged({sourceURI:n,options:i}))}}function*zv({payload:e}){var t;const{server:n,sourceURI:i,contentDirectoryID:r}=e;try{const{ratingKey:e}=(0,Av.Z)(i),s=yield(0,Bg.RE)(ql.Z.get,(0,Iv.Z)(r),{server:n,params:{metadataItemId:e}});yield(0,Bg.gz)(Vg.Z.actions.publishedFetchSucceeded({sourceURI:i,hub:null==(t=s.data.MediaContainer.Hub)?void 0:t[0]}))}catch(e){yield(0,Bg.gz)(Vg.Z.actions.publishedFetchFailed({sourceURI:i,error:ql.Z.toPlainErrorObject(e)}))}}function*Hv({payload:e}){var t;const{server:n,sourceURI:i,contentDirectoryID:r,hub:s}=e;try{const{ratingKey:e}=(0,Av.Z)(i),o=yield(0,Bg.RE)(ql.Z.post,(0,Iv.Z)(r),{server:n,params:{metadataItemId:e,promotedToRecommended:(0,Ev.Z)(s.promotedToRecommended),promotedToOwnHome:(0,Ev.Z)(s.promotedToOwnHome),promotedToSharedHome:(0,Ev.Z)(s.promotedToSharedHome)}});yield(0,Bg.gz)(Vg.Z.actions.publishedUpdateSucceeded({sourceURI:i,hub:null==(t=o.data.MediaContainer.Hub)?void 0:t[0]})),yield(0,Bg.gz)(Vg.Z.actions.resetHubs())}catch(e){yield(0,Bg.gz)(Vg.Z.actions.publishedUpdateFailed({sourceURI:i,error:ql.Z.toPlainErrorObject(e)}))}}function*qv(e,t){const{key:n}=(0,Av.Z)(t);return(yield(0,Bg.RE)(ql.Z.get,n,{server:e})).data.MediaContainer.Hub}function*Wv(){yield(0,Bg.Fm)(Vg.Z.actions.settingsFetchRequested,Vv)}function*$v(){yield(0,Bg.Fm)(Vg.Z.actions.settingsUpdateRequested,Lv)}function*Gv(){yield(0,Bg.Fm)(Vg.Z.actions.hubsFetchRequested,jv)}function*Kv(){yield(0,Bg.ib)(Vg.Z.actions.reorderRequested,Nv)}function*Xv(){yield(0,Bg.ib)(Vg.Z.actions.removeRequested,Uv)}function*Qv(){yield(0,Bg.Fm)(Vg.Z.actions.resetRequested,Fv)}function*Jv(){yield(0,Bg.ib)(Vg.Z.actions.promoteRequested,Bv)}function*Yv(){yield(0,Bg.Fm)(Vg.Z.actions.publishedFetchRequested,zv)}function*ey(){yield(0,Bg.ib)(Vg.Z.actions.publishedUpdateRequested,Hv)}function*ty(){yield(0,Bg.$6)([(0,Bg.rM)(Wv),(0,Bg.rM)($v),(0,Bg.rM)(Gv),(0,Bg.rM)(Kv),(0,Bg.rM)(Xv),(0,Bg.rM)(Qv),(0,Bg.rM)(Jv),(0,Bg.rM)(Yv),(0,Bg.rM)(ey)])}var ny=n(30712),iy=Object.defineProperty,ry=Object.prototype.hasOwnProperty,sy=Object.getOwnPropertySymbols,oy=Object.prototype.propertyIsEnumerable,ay=(e,t,n)=>t in e?iy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ly({server:e,provider:t,data:n}){const i=(0,ny.Z)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier});return(n||[]).map((e=>((e,t)=>{for(var n in t||(t={}))ry.call(t,n)&&ay(e,n,t[n]);if(sy)for(var n of sy(t))oy.call(t,n)&&ay(e,n,t[n]);return e})({source:i},e)))}function*cy({payload:e}){var t;const{server:n,provider:i}=e;try{const e=n.isCloud?"/lineups/plex/channels":Gi.Z.join([i.identifier,"/lineups/dvr/channels"]),r=yield(0,Bg.RE)(ql.Z.get,e,{server:n,provider:i,providerVersionOverride:"3.3"});yield(0,Bg.gz)(Lg.Z.actions.guideChannelsFetchSucceeded({data:ly({server:n,provider:i,data:null==(t=r.data)?void 0:t.MediaContainer.Channel})}))}catch(e){yield(0,Bg.gz)(Lg.Z.actions.guideChannelsFetchFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*dy(){for(;;){const e=yield(0,Bg.A7)(Lg.Z.actions.guideChannelsFetchRequested,cy);yield(0,Bg.qn)(Lg.Z.actions.reset),yield(0,Bg.al)(e)}}function*uy(){yield(0,Bg.$6)([(0,Bg.rM)(dy)])}var hy=n(8931),py=Object.defineProperty,gy=Object.prototype.hasOwnProperty,my=Object.getOwnPropertySymbols,fy=Object.prototype.propertyIsEnumerable,vy=(e,t,n)=>t in e?py(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yy=(e,t)=>{for(var n in t||(t={}))gy.call(t,n)&&vy(e,n,t[n]);if(my)for(var n of my(t))fy.call(t,n)&&vy(e,n,t[n]);return e};function by(e=[]){return e.reduce(((e,t)=>(t.key===hy.F.ViewedAt?e["viewedAt>"]=t.value:e[t.key]=t.value,e)),{})}function*Zy({payload:e}){try{const{server:t,provider:n,sort:i,filters:r,startIndex:s,size:o,isPrepend:a}=e,l=yield(0,Bg.RE)(jg.g.fetchRange,"/status/sessions/history/all",{server:t,provider:n,params:yy({sort:i},by(r)),startIndex:s,size:o,isPrepend:a});yield(0,Bg.gz)(jg.Z.actions.fetchRangeSucceeded({data:l}))}catch(e){yield(0,Bg.gz)(jg.Z.actions.fetchRangeFailed({error:ql.Z.toPlainErrorObject(e)}))}}function*Sy(){for(;;){const e=yield(0,Bg.Fm)(jg.Z.actions.fetchRangeRequested,Zy);yield(0,Bg.qn)(jg.Z.actions.reset),yield(0,Bg.al)(e)}}function*wy(){yield(0,Bg.$6)([(0,Bg.rM)(Sy)])}function*Py(){yield(0,Bg.$6)([(0,Bg.rM)(Gm),(0,Bg.rM)(xv),(0,Bg.rM)(ty),(0,Bg.rM)(uy),(0,Bg.rM)(wy)])}const Cy=(0,pg.ZP)(),xy=(0,gg.xC)({reducer:(e,t)=>(t.type===Fg.type&&(e=void 0),Ug(e,t)),middleware:[Cy]});Cy.run((function*(){yield(0,Bg.$6)([(0,Bg.rM)(Mm),(0,Bg.rM)(Py)])}));const Ay=xy,Ey=ta.Z.extend({name:"StoreModel",initialize(){this._currentState=Ay.getState(),Ay.subscribe((()=>{const e=Ay.getState();this.trigger("statechange",this,e,this._currentState),this._currentState=e}))},getState:()=>Ay.getState(),toJSON:()=>Ay.getState(),dispatch(e){Ay.dispatch(e)}}),Iy=Oh.extend({name:"DesktopAppModel",sessionAttrs:{clientID:ea.Z.string,anonymousClientID:ea.Z.string,authorized:ea.Z.boolean.isRequired,skipSignIn:ea.Z.boolean.isRequired,isWaitingForServers:ea.Z.boolean.isRequired,isWaitingForPrimaryServer:ea.Z.boolean.isRequired,history:ea.Z.array.isRequired,isFullscreen:ea.Z.boolean.isRequired,isUpdateAvailable:ea.Z.boolean.isRequired,settings:ea.Z.instanceOf(Mh)},sessionRelations:{entities:{relationClass:function(e){const t={};for(const n in e)t[e[n]]={relationClass:hg};return ta.Z.extend({name:"EntitiesModel",sessionRelations:t})}(Cn)},servers:{relationClass:Hh},cloudServer:{relationClass:Fh,deferred:!0},primaryServer:{relationClass:Ko.ZP,deferred:!0},companionServer:{relationClass:Ko.ZP,deferred:!0},user:{relationClass:sg,deferred:!0},deviceSettings:{relationClass:Qh},ui:{relationClass:cp},v4:{relationClass:Ey}},defaults(){const e=new Fh({machineIdentifier:Zn.X},{parent:this});return{authorized:!1,skipSignIn:!1,isWaitingForServers:!1,isWaitingForPrimaryServer:!1,isUpdateAvailable:!1,history:[],cloudServer:e,user:new sg({},{server:e,parent:this}),isFullscreen:!1,settings:new Mh}},dispatch(e){this.get("v4").dispatch(e)}}),ky=ia.extend({name:"SessionStatsModel",storageKey:"managerSessionStats",syncedAttrs:{heartbeatTime:ea.Z.integer,lastPlayingHeartbeatTime:ea.Z.integer,playbackCount:ea.Z.integer,playbackTime:ea.Z.integer,sessionId:ea.Z.string,anonymousSessionId:ea.Z.string,startTime:ea.Z.integer,lastInteractionTime:ea.Z.integer},defaults:{playbackCount:0,playbackTime:0}}),Ty=ta.Z.extend({name:"OauthProviderUsageModel",syncedAttrs:{federatedAuth:ea.Z.boolean,other:ea.Z.boolean}}),Oy=ta.Z.extend({name:"OauthProviderModel",rootPropertyName:"provider",sessionAttrs:{isUnlinking:ea.Z.boolean.isRequired,unlinkError:ea.Z.object},syncedAttrs:{authName:ea.Z.string,image:ea.Z.string,label:ea.Z.string.isRequired,linked:ea.Z.boolean.isRequired,nickname:ea.Z.string,url:ea.Z.string.isRequired},syncedRelations:{usage:{relationClass:Ty}},defaults:{isUnlinking:!1}}),My=ra.Z.extend({name:"OauthProviderCollection",model:Oy,context:["server"],url:"/api/v2/authentications/providers",responseType:na.AV}),Ry=ta.Z.extend({name:"CloudServerFlexModel",context:["server"],sessionAttrs:{isOauthProvidersPending:ea.Z.boolean,isOauthProvidersPopulated:ea.Z.boolean,oauthProvidersError:ea.Z.object},sessionRelations:{oauthProviders:{relationClass:My}},defaults:{isOauthProvidersPending:!1,isOauthProvidersPopulated:!1,oauthProvidersError:null}}),Dy=ta.Z.extend({name:"BackgroundTranscodeJobModel",context:["server"],entityType:Cn.BACKGROUND_TRANSCODE_JOBS,entityID(e=this.state){return(0,Pn.Z)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"TranscodeJob",syncedAttrs:{queueItemID:ea.Z.integer,generatorID:ea.Z.integer,targetTagID:ea.Z.integer,syncItemId:ea.Z.integer,syncItemTitle:ea.Z.string,key:ea.Z.string,type:ea.Z.string,progress:ea.Z.float,speed:ea.Z.float,remaining:ea.Z.integer,size:ea.Z.integer,ratingKey:ea.Z.string,title:ea.Z.string,thumb:ea.Z.string}}),_y=ra.Z.extend({name:"BackgroundTranscodeJobCollection",model:Dy,context:["server"],url:"/status/sessions/background"}),Vy=ta.Z.extend({name:"ActivityModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Activity",responseType(){return(0,vd.Z)(this.server)},sessionAttrs:{synthetic:ea.Z.boolean},syncedAttrs:{uuid:ea.Z.string,userID:ea.Z.integer,title:ea.Z.string,subtitle:ea.Z.string,progress:ea.Z.integer,event:ea.Z.string,cancellable:ea.Z.boolean,type:ea.Z.string,Context:ea.Z.object,Response:ea.Z.object},defaults:()=>({Context:{},Response:{}})}),Ly=ra.Z.extend({name:"ActivityCollection",context:["server"],model:Vy,url:"/activities",responseType(){return(0,vd.Z)(this.server)}}),jy=ta.Z.extend({name:"NeighborhoodDeviceModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Device",syncedAttrs:{uuid:ea.Z.string.isRequired,address:ea.Z.string.isRequired,title:ea.Z.string,manufacturer:ea.Z.string,model:ea.Z.string,modelNumber:ea.Z.string,serialNumber:ea.Z.string}}),Ny=ra.Z.extend({name:"NeighborhoodDeviceCollection",context:["server"],model:jy,url:"neighborhood/devices"}),Uy=qp.Z.extend({pageSize:10,pages:function(){return Math.max(Math.ceil(this.length/this.pageSize),1)},page:function(e,t){t||(t={});let n,i=0;return n=t.reverse?this.length-e*this.pageSize:e*this.pageSize-this.pageSize,n<0&&(i=n,n=0),this.models.slice(n,n+this.pageSize+i)}});let Fy=0;const By=Wp.Z.extend({idAttribute:"id",parse:function(e){const t=e;return t.time=new Date,t.id="evt"+Fy++,"preference"===t._type&&(t.value=String(t.value)),t}}),zy=Uy.extend({model:By,url:"/servers",pageSize:20,limit:1e3,initialize:function(){this.startTime=new Date,this.listenTo(this.server,"socket:setting",this.onSettingChange),this.listenTo(this.server,"socket:timeline",this.onTimeline),this.listenTo(this.server,"socket:status",this.onStatus),this.listenTo(this.server,"socket:playing",this.onPlaying),this.listenTo(this.server,"socket:websocket",this.onWebSocket)},add:function(e){this.length+1>this.limit&&this.remove(this.at(0)),Uy.prototype.add.apply(this,arguments)},onSettingChange:function(e){e.label&&this.add(v().extend({_type:"setting"},e),{parse:!0})},onTimeline:function(e){1===e.state||e.sectionID<0||this.add(v().extend({_type:"timeline"},e),{parse:!0})},onStatus:function(e){"ProgressNotification"!==e._elementType&&this.add(v().extend({_type:"status"},e),{parse:!0})},onPlaying:function(e){this.add(v().extend({_type:"playing"},e),{parse:!0})},onWebSocket:function(e){this.add(v().extend({_type:"websocket"},e),{parse:!0})}});var Hy=n(2608);const qy=ta.Z.extend({name:"TranscodeJobModel",context:["server"],entityType:Cn.TRANSCODE_JOBS,entityID(e=this.state){return(0,Pn.Z)(this.entityType,e.syncItemId,this.server.entityID())},idAttribute:"syncItemId",rootPropertyName:"TranscodeJob",syncedAttrs:{syncItemId:ea.Z.integer,syncItemTitle:ea.Z.string,key:ea.Z.string,type:ea.Z.string,progress:ea.Z.float,speed:ea.Z.float,remaining:ea.Z.string,size:ea.Z.string,title:ea.Z.string,thumb:ea.Z.string},responseType(){return(0,vd.Z)(this.server)}});var Wy=n(76580);const $y=ra.Z.extend({name:"TranscodeJobCollection",context:["server"],model:qy,cache:new Wy.Z,url:"/sync/transcodeQueue"}),Gy=ta.Z.extend({name:"ServerFlexModel",context:["server"],sessionAttrs:{alerts:ea.Z.instanceOf(zy).isRequired,hasiTunes:ea.Z.boolean,isHasiTunesPopulated:ea.Z.boolean,isSettingsPending:ea.Z.boolean,isSettingsPopulated:ea.Z.boolean,settingsError:ea.Z.object,isLibrariesPending:ea.Z.boolean.isRequired,isLibrariesPopulated:ea.Z.boolean.isRequired,librariesError:ea.Z.object,cleanBundlesError:ea.Z.string,optimizeDatabaseError:ea.Z.string},sessionRelations:{settings:{relationClass:Hy.Z,rootPropertyName:"Setting"},cloudAccount:{relationClass:Wo.ZP},libraries:{relationClass:jt.Z},activities:{relationClass:Ly},transcodeJobs:{relationClass:$y},backgroundTranscodeJobs:{relationClass:_y},neighborhoodDevices:{relationClass:Ny},update:{relationClass:Ou}},defaults(){return{alerts:new zy([],{server:this.server}),hasiTunes:!1,isHasiTunesPopulated:!1,isSettingsPending:!0,isSettingsPopulated:!1,settingsError:null,isLibrariesPending:!0,isLibrariesPopulated:!1,librariesError:null,cleanBundlesError:null,optimizeDatabaseError:null}}});var Ky=n(44560),Xy=n(40688);const Qy=/(^[^-]+)-/;function Jy(e){for(let t=0,n=(e=e||[]).length;t<n;t++){const n=e[t];if("xx"===n||"xn"===n)continue;if(Xy.ZP[n])return n;const i=n.match(Qy),r=i&&Jy([i[1]]);if(r)return r}}function Yy(e){const t=window.navigator;let n;return e?n=[e]:t.languages?n=t.languages:t.language?n=[t.language]:t.userLanguage&&(n=[t.userLanguage]),Jy(n)||"en"}var eb=n(22706);const tb=ta.Z.extend({name:"ReminderModel",syncedAttrs:{data:ea.Z.object,id:ea.Z.string.isRequired,remindAfter:ea.Z.string.isRequired,times:ea.Z.integer.isRequired}}),nb=ra.Z.extend({name:"ReminderCollection",model:tb});var ib=Object.defineProperty,rb=Object.prototype.hasOwnProperty,sb=Object.getOwnPropertySymbols,ob=Object.prototype.propertyIsEnumerable,ab=(e,t,n)=>t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lb=(e,t)=>{for(var n in t||(t={}))rb.call(t,n)&&ab(e,n,t[n]);if(sb)for(var n of sb(t))ob.call(t,n)&&ab(e,n,t[n]);return e};const cb=ia.extend({name:"UserExperienceSettingsModel",sessionAttrs:lb(lb({},Qp.Z.sessionAttrs),{isRemoteSchemaVersionNewer:ea.Z.boolean}),syncedAttrs:lb(lb({},Qp.Z.syncedAttrs),{schemaVersion:ea.Z.integer,language:ea.Z.string,allowHttpFallback:ea.Z.string,timeFormat:ea.Z.string,localQuality:ea.Z.integer,remoteQuality:ea.Z.integer,dashboardNowPlayingShowDetails:ea.Z.boolean,hasDismissedServerDashboardUpsell:ea.Z.boolean,hasDismissedHubPromotionWarning:ea.Z.boolean,showAdvancedSettings:ea.Z.boolean}),syncedRelations:{reminders:{relationClass:nb}},defaults:()=>lb(lb({},Qp.Z.defaults),{isRemoteSchemaVersionNewer:!1,language:Yy(),allowHttpFallback:Ky.Z.NEVER,timeFormat:"h:mma",localQuality:eb.Z.ORIGINAL,remoteQuality:6,dashboardNowPlayingShowDetails:!1,hasDismissedServerDashboardUpsell:!1,showAdvancedSettings:!1}),initialize(){this.set({schemaVersion:cb.schemaVersion})},augmentResponse(e){if(e.schemaVersion>cb.schemaVersion)return ae.Z.warn(`[Settings] Received settings with schemaVersion of ${e.schemaVersion}; expected ${cb.schemaVersion} or less.  Settings sharing is now disabled.`),lb(lb({},this.toJSON()),{isRemoteSchemaVersionNewer:!0});const t=this.get("isDirty"),n=this.get("updatedAt"),i=(0,La.Z)(e.updatedAt),r=n&&i&&n<i;return t&&n===i||n&&i&&n>i?this.toJSON():(t&&r&&(e.isDirty=!1),e.isRemoteSchemaVersionNewer=!1,e)}},{schemaVersion:1}),db=cb;var ub=Object.defineProperty,hb=Object.prototype.hasOwnProperty,pb=Object.getOwnPropertySymbols,gb=Object.prototype.propertyIsEnumerable,mb=(e,t,n)=>t in e?ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fb=(e,t)=>{for(var n in t||(t={}))hb.call(t,n)&&mb(e,n,t[n]);if(pb)for(var n of pb(t))gb.call(t,n)&&mb(e,n,t[n]);return e};const vb=ia.extend({name:"StoredUserExperienceSettingsModel",syncedAttrs:fb(fb({},db.prototype.syncedAttrs),{isDirty:ea.Z.boolean}),syncedRelations:fb({},db.prototype.syncedRelations)}),yb=ta.Z.extend({name:"DeviceModel",context:["server"],rootPropertyName:"Device",url(){return"/devices/"+this.id+".xml"},syncedAttrs:{id:ea.Z.string,clientIdentifier:ea.Z.string,name:ea.Z.string,product:ea.Z.string,productVersion:ea.Z.string,platform:ea.Z.string,platformVersion:ea.Z.string,device:ea.Z.string,model:ea.Z.string,provides:ea.Z.list,screenResolution:ea.Z.string,screenDensity:ea.Z.string,lastSeenAt:ea.Z.integer},supports(e){return-1!==this.get("provides").indexOf(e)}}),bb=ra.Z.extend({name:"DeviceCollection",context:["server"],model:yb,url:"/devices.xml",filterByProducts(e){const t=this.filter((t=>v().contains(e,t.get("product"))));return this.clone(t)},filterByPlatforms(e){const t=this.filter((t=>v().contains(e,t.get("platform"))));return this.clone(t)},products(){const e=this.map((e=>e.get("product")));return v().uniq(e)}});var Zb=Object.defineProperty,Sb=Object.prototype.hasOwnProperty,wb=Object.getOwnPropertySymbols,Pb=Object.prototype.propertyIsEnumerable,Cb=(e,t,n)=>t in e?Zb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xb=ta.Z.extend({name:"HomeUserModel",context:["server"],rootPropertyName:"User",entityType:Cn.HOME_USER,entityID(e=this.state){return(0,Pn.Z)(this.entityType,e.id)},urlRoot(){return this.get("restricted")?"/api/v2/home/users":"/api/home/users"},saveUrl(){let e=v().result(this,"url");return this.get("restricted")&&(e=Gi.Z.join([e,"/restricted"])),e},pinUrl(){const e=this.get("restricted")?"/api/v2/home/users/restricted":"/api/home/users";return Gi.Z.join([e,this.get("id")])},sessionAttrs:{isRemoving:ea.Z.boolean},syncedAttrs:((e,t)=>{for(var n in t||(t={}))Sb.call(t,n)&&Cb(e,n,t[n]);if(wb)for(var n of wb(t))Pb.call(t,n)&&Cb(e,n,t[n]);return e})({id:ea.Z.integer,uuid:ea.Z.string,admin:ea.Z.boolean,protected:ea.Z.boolean,restricted:ea.Z.boolean,restrictionProfile:ea.Z.string,guest:ea.Z.boolean,title:ea.Z.string,username:ea.Z.string,email:ea.Z.string,thumb:ea.Z.string},Tp),defaults:{isRemoving:!1},getSaveParams(e){const t=ta.Z.prototype.getSaveParams.apply(this,arguments);return e&&0!==Object.keys(e).length||(this.get("restrictionProfile")&&(t.restrictionProfile=this.get("restrictionProfile")),t.sharingSettings={},Object.keys(Tp).forEach((e=>{t.hasOwnProperty(e)&&(t.sharingSettings[e]=t[e],delete t[e])})),this.get("restricted")?t.friendlyName=this.get("username"):this.isNew()&&(t.invitedEmail=this.get("username"))),t}}),Ab=ra.Z.extend({name:"HomeUserCollection2",context:["server"],model:xb,url:"/api/home/users",parse(e){return this.convert(e,"User")}});var Eb=n(50207),Ib=n.n(Eb);const kb=ta.Z.extend({name:"InviteModel",context:["server"],rootPropertyName:"Invite",sessionAttrs:{isAccepting:ea.Z.boolean,isRemoving:ea.Z.boolean},syncedAttrs:{id:{type:ea.Z.string,save:!0},friend:ea.Z.boolean,home:ea.Z.boolean,server:ea.Z.boolean,friendlyName:ea.Z.string,username:ea.Z.string,email:ea.Z.string,thumb:ea.Z.string,createdAt:ea.Z.integer,Server:ea.Z.array},urlRoot:"/api/invites/requests",url(){let e;if(this.isNew())e=v().result(this,"urlRoot");else{const t=this.pick("friend","server","home");v().each(v().keys(t),(function(e){t[e]=t[e]?"1":"0"})),e=this.collection?v().result(this.collection,"url"):v().result(this,"urlRoot"),e=e.replace(/([^/])$/,"$1/")+encodeURIComponent(this.get("id")),e=Gi.Z.join(e,t)}return e},augmentResponse:e=>e.Server?((Array.isArray(e.Server)?e.Server:[e.Server]).forEach((e=>{e.numLibraries=(0,La.Z)(e.numLibraries)})),e):e,defaults:{isAccepting:!1,isRemoving:!1}}),Tb=ra.Z.extend({name:"InviteCollection",context:["server","subset"],model:kb,url(){return"/api/invites/"+this.subset},initialize(e,t){t||(t={}),this.subset=t.subset||"requests"},filterByHome(){const e=new(Ib())(this);return e.filterBy((e=>e.get("home"))),e},filterByFriends(){const e=new(Ib())(this);return e.filterBy((e=>!e.get("home"))),e}}),Ob=Wp.Z.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],convert:function(e){const t=v().isObject(e)?e:Ls.Z.parseXML(e);return Ls.Z.parseBoolean(t,["linked","maxLength"]),t},parse:function(e){let t=this.convert(e);return t=v().pick(t,this.whitelistedAttrs),t}}),Mb=qp.Z.extend({model:Ob,url:"/pms/social/networks",parse:function(e){return this.convert(e,"Directory")}}),Rb=ta.Z.extend({name:"SubscriptionPlanModel",context:["server"],rootPropertyName:"plan",syncedAttrs:{id:ea.Z.string,name:ea.Z.string,price:ea.Z.float,formattedPrice:ea.Z.string,currency:ea.Z.string}}),Db=ra.Z.extend({name:"SubscriptionPlanCollection",context:["server"],model:Rb,url:"/api/subscriptions/plans"}),_b=ta.Z.extend({name:"WebhookModel",syncedAttrs:{url:ea.Z.string},defaults:{url:""}}),Vb=ra.Z.extend({name:"WebhookCollection",context:["server"],model:_b,url:"/api/v2/user/webhooks",responseType:na.AV}),Lb=ta.Z.extend({name:"UserFlexModel",context:["server"],sessionAttrs:{isHomeUsersPending:ea.Z.boolean.isRequired,isHomeUsersPopulated:ea.Z.boolean.isRequired,homeUsersError:ea.Z.object,socialNetworks:ea.Z.instanceOf(Mb).isRequired,isPlansPending:ea.Z.boolean.isRequired,isPlansPopulated:ea.Z.boolean.isRequired,plansError:ea.Z.object,isUpdatingUser:ea.Z.boolean.isRequired,updateUserError:ea.Z.object,isHomeDetailsPending:ea.Z.boolean,isHomeDetailsPopulated:ea.Z.boolean,homeDetailsError:ea.Z.object,isInvitesPending:ea.Z.boolean,isInvitesPopulated:ea.Z.boolean,invitesError:ea.Z.object,isSentInvitesPending:ea.Z.boolean,isSentInvitesPopulated:ea.Z.boolean,sentInvitesError:ea.Z.object,isWebhooksPending:ea.Z.boolean,isWebhooksPopulated:ea.Z.boolean,webhooksError:ea.Z.object,isUpdatingWebhooks:ea.Z.boolean,isRemovingWebhooks:ea.Z.boolean,updateWebhooksError:ea.Z.object},sessionRelations:{homeUsers:{relationClass:Ab},devices:{relationClass:bb},homeDetails:{relationClass:Hp},invites:{relationClass:Tb},sentInvites:{relationClass:Tb,options:{subset:"requested"}},plans:{relationClass:Db},webhooks:{relationClass:Vb}},defaults(){const e={server:this.server,parent:this};return{isHomeUsersPending:!1,isHomeUsersPopulated:!1,homeUsersError:null,socialNetworks:new Mb([],e),isPlansPending:!0,isPlansPopulated:!1,plansError:null,isUpdatingUser:!1,updateUserError:null,isHomeDetailsPending:!1,isHomeDetailsPopulated:!1,homeDetailsError:null,isInvitesPending:!1,isInvitesPopulated:!1,invitesError:null,isSentInvitesPending:!1,isSentInvitesPopulated:!1,sentInvitesError:null,isWebhooksPending:!1,isWebhooksPopulated:!1,webhooksError:null,isUpdatingWebhooks:!1,isRemovingWebhooks:!1,updateWebhooksError:null}}});var jb=n(96138);const Nb="provider/providerIntegrations/initProviderIntegrations",Ub="provider/providerIntegrations/fetchProviderIntegrations",Fb="provider/providerIntegrations/pollProviderIntegrations",Bb="provider/providerIntegrations/integrationsOnboardingComplete",zb="provider/providerIntegrations/createLocastAccount",Hb=((0,pe.Z)(Nb),(0,pe.Z)(Ub)),qb=(0,pe.Z)(Fb);function Wb(e){return e.get("ui").get("providerIntegrations")}(0,pe.Z)(Bb),(0,pe.Z)(zb);const $b={[Nb](e,t,n){Wb(e).set({isIntegrationsOnboarding:!1,isIntegrationsPending:!1,isIntegrationsPopulated:!1,integrationsError:null,integrations:new Yh([],{server:(0,le.SW)(e,t),provider:(0,le.js)(e,t)})}),n(Hb())},[Ub]:(0,jb.Z)({key:"integrations",getModel:Wb}),[Fb](e,t,n){Wb(e).set("isIntegrationsOnboarding",!0),window.setTimeout((()=>{(0,Ul.c9)((()=>{n(Hb())}))}),3e3)},[Bb](e){Wb(e).set("isIntegrationsOnboarding",!1)},[zb](e,t,n){Wb(e).set("isIntegrationsOnboarding",!0),function(){const e=s().Deferred();return window.setTimeout((()=>{e.resolve()}),3e3),e}().then((()=>{n(qb())}))}};var Gb=n(62005),Kb=n(69726),Xb=n(55232);const Qb="lineup",Jb="location",Yb="select",eZ="provider/providerSettings/fetchProviderSettings",tZ="provider/providerSettings/fetchProviderSettingSelectOptions",nZ="provider/provderSettings/clearProviderSettingFetchError",iZ="provider/providerSettings/fetchProviderSettingLocationOptions",rZ="provider/providerSettings/populateProviderSettingLocationOptions",sZ="provider/providerSettings/fetchProviderSettingLineupChannels",oZ="provider/providerSettings/populateProviderSettingLineupChannels",aZ="provider/providerSettings/fetchProviderSettingRecentChannelsInGrid",lZ="provider/providerSettings/populateProviderSettingRecentChannelsInGrid",cZ="provider/providerSettings/updateProviderSetting",dZ="provider/providerSettings/clearProviderSettingUpdateError",uZ="provider/providerSettings/populateProviderSettingOptions",hZ=((0,pe.Z)(eZ),(0,pe.Z)(tZ)),pZ=((0,pe.Z)(nZ),(0,pe.Z)(iZ)),gZ=(0,pe.Z)(rZ),mZ=(0,pe.Z)(sZ),fZ=(0,pe.Z)(oZ),vZ=(0,pe.Z)(aZ),yZ=(0,pe.Z)(lZ);function bZ(e,t){return(0,le.js)(e,t).get("features").get(Ao.Z.SETTINGS)}function ZZ(e,t){return bZ(e,t).get("settings").get(t.settingID)}function SZ(e,t){switch(e.get("type")){case Qb:{const n=e.get("lineup"),i=new Gb.Z(t.map((e=>{const t=n.findWhere({id:e.id});return t.set({hidden:e.hidden}),t})));e.set("lineup",i);break}case Jb:{const n=e.get("locations").get(t.country);e.set({country:t.country,countryLabel:n.get("title"),postalCode:t.postalCode});break}case Yb:v().each(t,((t,n)=>{e.get("options").get(n).set({selected:t})})),e.set("selectedCount",v().values(t).filter((e=>e)).length);break;default:e.set("value",t[e.id])}}function wZ(e,t,n){const i=v().mapObject(t,((e,t)=>!0===e?"1":!1===e?"0":e)),r=Gi.Z.join(v().result(e,"url"),{prefs:i}),o=n.getXHROptions(r,{type:"PUT"});return s().ajax(o).then((()=>{SZ(e,t)}))}(0,pe.Z)(cZ),(0,pe.Z)(dZ),(0,pe.Z)(uZ);const PZ={[eZ]:(0,jb.Z)({key:"settings",getModel:bZ}),[tZ]:(0,jb.Z)({key:"options",getModel:ZZ}),[iZ]:(0,jb.Z)({key:"locations",getModel:ZZ}),[rZ]:(0,Kb.Z)({key:"locations",fetchActionCreator:pZ,getModel:ZZ}),[sZ]:(0,jb.Z)({key:"lineup",getModel:ZZ}),[oZ]:(0,Kb.Z)({key:"lineup",fetchActionCreator:mZ,getModel:ZZ}),[aZ]:(0,jb.Z)({key:"recentChannelsInGrid",getModel:ZZ}),[lZ]:(0,Kb.Z)({key:"recentChannelsInGrid",fetchActionCreator:vZ,getModel:ZZ}),[cZ](e,t){const{settingID:n,values:i}=t,r=(0,le.js)(e,t),o=r.get("features").get(Ao.Z.SETTINGS),a=e.get("ui").get("providerSettingsPage"),l=o.get("settings").get(n);a.set({isUpdatePending:!0,updateError:null});const c=[];if("group"===l.get("type"))l.get("settings").forEach((e=>{const t={[e.id]:i[e.id]};c.push(wZ(e,t,r))}));else if(l.get("type")===Qb){const e=v().result(l,"url"),t=r.getXHROptions(e,{type:"PUT",contentType:"application/json",data:JSON.stringify(i)}),n=s().ajax(t).then((()=>{SZ(l,i)}));c.push(n)}else"int"===l.get("type")?(Object.keys(i).forEach((e=>{i[e]=parseInt(i[e],10)})),c.push(wZ(l,i,r))):c.push(wZ(l,i,r));s().when(...c).then((()=>{a.set({isUpdatePending:!1,updateError:null})}),(e=>{a.set({isUpdatePending:!1,updateError:(0,Mu.Z)(e)})}))},[dZ](e,t){e.get("ui").get("providerSettingsPage").set("updateError",null)},[nZ](e,t){ZZ(e,t).set({optionsError:null,locationsError:null})},[uZ](e,t,n){const i=ZZ(e,t),r=i.get("type");if(r===Yb)(0,Ul.c9)((()=>{n(hZ(t))}));else if(r===Jb)n(gZ(t));else if(r===Qb){const e=i.get("id");e===Xb.Pt?n(fZ(t)):e===Xb.x8&&n(yZ(t))}}};var CZ=n(33045);const xZ="oauth/fetchOauthProviders",AZ="oauth/unlinkOauthProvider",EZ=(0,pe.Z)(xZ),IZ=((0,pe.Z)(AZ),{[xZ]:(0,jb.Z)({key:"oauthProviders",getModel:e=>e.get("cloudServer").get("desktop")}),[AZ](e,t,n){const i=e.get("cloudServer"),r=i.get("desktop").get("oauthProviders").findWhere(t);r.set("isUnlinking",!0);(function(e,t){const n=s().Deferred(),i=(new Date).getTime()+t;let r;function o(){const e=(new Date).getTime(),t=Math.max(i-e,0);window.setTimeout(r,t)}return e.then(((...e)=>{r=()=>n.resolve(...e)}),((...e)=>{r=()=>n.reject(...e)})),e.then(o,o),n.promise()})(i.populate().then((()=>s().ajax(i.getXHROptions(t.url,{type:"DELETE"})))),1e3).done((()=>{r.set("unlinkError",null)})).fail((e=>{r.set("unlinkError",e)})).always((()=>{n((0,D.bc)()),n(EZ()),r.set("isUnlinking",!1)}))}});var kZ=n(97658),TZ=n(9492);const OZ="CHANGE_BACKGROUND",MZ="CHANGE_THEME_MUSIC",RZ="RESET_BACKGROUND";function DZ(e){return e.get("ui").get("background")}(0,pe.Z)(OZ),(0,pe.Z)(MZ),(0,pe.Z)(RZ);const _Z=(0,TZ.Z)({[OZ](e,t={}){const{imageUrl:n,allowBlur:i=!0}=t;DZ(e).set({server:(0,le.SW)(e,t),provider:(0,le.js)(e,t),imageUrl:n,allowBlur:i,isBackgroundPending:!1})},[MZ](e,t){const{theme:n}=t,i=DZ(e),r=(0,le.SW)(e,t),s=r&&n?r.resolveUrl(n,{appendHeaders:!0}):void 0;i.set("themeMusicUrl",s)},[RZ](e,t){DZ(e).restoreDefaults({isBackgroundPending:t.isBackgroundPending})}});var VZ=n(37131);const LZ=[ye,kZ.r8,de.gK,D.CC,Zc.Kq,an.Iy,au.KH,IZ,bc.wQ,$b,PZ,ao.J0,_Z,CZ.ZP,Km.N$,VZ.on];function jZ(){(0,h.Cq)({CloudServerFlexModel:Ry,ServerFlexModel:Gy,UserFlexModel:Lb}),(0,h.Cq)({UserExperienceSettingsModel:db,StoredUserExperienceSettingsModel:vb});const e=new Iy,t=function(e){return function(e,t){let n,i=[],r=i;function s(){r===i&&(r=i.slice())}function o(e){n=function(e){const t={};for(let n=0,i=e.length;n<i;n++){const i=e[n];for(const e in i){const n=t[e],r=i[e];n?Array.isArray(n)?n.push(r):t[e]=[n,r]:t[e]=r}}return t}(e)}return o(e),t.on("statechange",(function(){const e=i=r;for(let t=0,n=e.length;t<n;t++)e[t]()})),{dispatch:function e(i){const{payload:r,type:s}=i,o=s&&n[s];if(Array.isArray(o))for(let n=0,i=o.length;n<i;n++)o[n](t,r,e);else o?o(t,r,e):t.dispatch(i);return i},subscribe:function(e){let t=!0;return s(),r.push(e),function(){if(!t)return;t=!1,s();const n=r.indexOf(e);r.splice(n,1)}},getState:function(){return t.getState()},replaceActionHandlers:o}}(LZ,e)}(e);return(0,h.Cq)({appModel:e,appStore:t}),(0,h.Cq)({sessionStats:new ky}),function(){const e=(0,h.DB)("appModel");return(0,h.Cq)({settingFinder:hd(e),selectRemoteQuality:Su,selectRestorePlayQueue:wu,selectLocalVolume:bu}),(0,h.Cq)({metricsReporter:[ud(),gd],logs:new yu([],{parent:e}),testServerConnection:Id}),(0,h.Cq)({mediaServerEventConnection:Th,metrics:[new Hd,pd],primaryServerManager:new qd({appModel:e}),providerManager:new Wd({appModel:e}),serverConnectionManager:new Td({appModel:e}),serverConnectionTestManager:new Gd({appModel:e}),serverManager:new ou({appModel:e}),serverUpdateManager:new lu({appModel:e})}),s().Deferred().resolve().promise()}().then(cd.registerAll)}n(35922);const NZ=new y.Z.Application;NZ.addInitializer((()=>jZ().then(Mc)));const UZ=NZ;n(49407);var FZ=n(2618);n(3758),n(49810),n(99959),n(82107),n(36583),n(31110),document.body.className=FZ.o,UZ.start()},6963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={defaultSpeed:"0.2s",slowSpeed:"0.6s",fastSpeed:"0.1s",motionEasing:"cubic-bezier(0.6, 0.4, 0.2, 1.4)",modalSpeed:"0.2s",menuSpeed:"0.15s",tooltipSpeed:"0.15s"}},80772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const i="#e5a00d",r="rgba(0, 0, 0, 0.15)",s="rgba(0, 0, 0, 0.3)",o={defaultColor:"#fff",quietColor:"#a8a8a8",inverseColor:"#222",primaryColor:"#cc7b19",primaryAlternateColor:"#e5a00d",selectedColor:i,successColor:"#6b5",dangerColor:"#f53",warningColor:"#f0ad4e",focusColor:"#88AAFF",appBackgroundColor:"#444f56",darkOpaqueBackgroundColor:"#1f2326",blackDarkTranslucentBackgroundColor:r,blackDarkerTranslucentBackgroundColor:s,lightTranslucentBackgroundColor:"rgba(255, 255, 255, 0.15)",badgeBackgroundColor:r,defaultBadgeColor:"rgba(255, 255, 255, 0.7)",defaultLinkColor:"rgba(255, 255, 255, 0.7)",defaultLinkHoverColor:"#fff",defaultLinkDisabledLinkColor:"rgba(255, 255, 255, 0.3)",selectedLinkColor:i,selectedLinkHoverColor:"lighten(#e5a00d, 0.2)",defaultBackgroundColor:"rgba(255, 255, 255, 0.25)",defaultHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",defaultActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",defaultDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",primaryButtonColor:"#1f2326",primaryBackgroundColor:"#e5a00d",primaryHoverBackgroundColor:"lighten(#e5a00d, 0.2)",primaryActiveBackgroundColor:"darken(#e5a00d, 0.2)",primaryDisabledColor:"rgba(0, 0, 0, 0.4)",primaryDisabledBackgroundColor:"darken(#e5a00d, 0.5)",quietBackgroundColor:"rgba(255, 255, 255, 0.08)",quietHoverBackgroundColor:"rgba(255, 255, 255, 0.1)",quietActiveBackgroundColor:"rgba(255, 255, 255, 0.06)",successBackgroundColor:"#3d7832",successHoverBackgroundColor:"lighten(#3d7832, 0.1)",successActiveBackgroundColor:"darken(#3d7832, 0.1)",successDisabledBackgroundColor:"darken(#3d7832, 0.3)",dangerBackgroundColor:"#b32",dangerHoverBackgroundColor:"lighten(#b32, 0.1)",dangerActiveBackgroundColor:"darken(#b32, 0.1)",dangerDisabledBackgroundColor:"darken(#b32, 0.3)",darkBackgroundColor:s,darkHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",darkActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",darkDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",headerColor:"rgba(255, 255, 255, 0.3)",dimColor:"rgba(255, 255, 255, 0.45)",secondaryContentColor:"rgba(255, 255, 255, 0.75)",shadowColor:"rgba(0, 0, 0, 0.35)",dividerColor:s,scrollbarBackgroundColor:"rgba(255, 255, 255, 0.2)",scrollbarHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",scrollbarInactiveBackgroundColor:"rgba(255, 255, 255, 0.05)",errorBackgroundColor:"rgba(255, 85, 51, 0.3)",inputBackgroundColor:"rgba(255, 255, 255, 0.25)",inputFocusBackgroundColor:"#eee",inputColor:"#eee",inputFocusColor:"#555",inputPlaceholderColor:"#afb0b1",inputDisabledOpacity:"0.5",formSectionBackgroundColor:s,formSectionHoverBackgroundColor:r,modalBackdropBackgroundColor:"rgba(102, 102, 102, 0.6)",modalBackgroundColor:"#2d2d2d",modalBodyBackgroundColor:r,menuBackgroundColor:"#191a1c",menuDisabledBackgroundColor:"#2d2d2d",menuItemHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",menuItemActiveBackgroundColor:"rgba(255, 255, 255, 0.15)",menuSeparatorBackgroundColor:"rgba(200, 200, 200, 0.15)",tooltipBackgroundColor:"#191a1c",pageHeaderBackgroundColor:"rgba(0, 0, 0, 0.7)",pageHeaderLinkColor:"#999",pageHeaderLinkHoverColor:"#eee",pageHeaderColor:"rgba(255, 255, 255, 0.75)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.25)",searchFocusBackgroundColor:"#eee",searchInputColor:"#eee",searchInputFocusColor:"#555",searchImagePlaceholderBackgroundColor:"rgba(255, 255, 255, 0.1)",searchHoverResultBackgroundColor:"rgba(255, 255, 255, 0.05)",searchSelectedResultBackgroundColor:"rgba(255, 255, 255, 0.08)",searchResultTitleColor:"rgba(255, 255, 255, 0.75)",searchResultTitleSelectedColor:"rgba(255, 255, 255, 1)",searchResultSecondaryTitleColor:"rgba(255, 255, 255, 0.3)",sidebarBackgroundColor:r,sidebarMenuButtonBackgroundColor:s,sidebarMenuButtonHoverBackgroundColor:"rgba(0, 0, 0, 0.45)",sidebarMenuButtonActiveBackgroundColor:"rgba(0, 0, 0, 0.75)",stripeListAlternateBackgroundColor:"rgba(255, 255, 255, 0.02)",stripeListHoverBackgroundColor:"rgba(255, 255, 255, 0.06)",stripeListSelectedBackgroundColor:r,liveTVSettingsAddDeviceButtonBackground:"rgba(0, 0, 0, 0.2)",liveTVSettingsBackground:"rgba(0, 0, 0, 0.3)"}},20721:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={smallSize:"26px",mediumSize:"30px",largeSize:"36px",gapSmall:"15px",gapMedium:"30px",gapLarge:"60px",navigationHeaderHeight:"60px",navigationUserMenuImageSize:"34px",pageHeaderHeight:"60px",breadcrumbMargin:"25px",menuSmallWidth:"120px",menuMediumWidth:"180px",menuLargeWidth:"220px",menuPadding:"8px",menuItemTopPadding:"4px",menuItemSidePadding:"20px",toolbarButtonWidth:"50px",posterTitlePadding:"10px",posterTitleHeight:"20px",searchHubTitleHeight:"18px",searchResultWidth:"346px",searchResultHeight:"50px",searchResultActionsButtonWidth:"40px",universalSearchResultHeight:"68px",sidebarWidth:"240px",sidebarRightGutterWidth:"15px",sidebarLeftGutterWidth:"25px",tableCellPadding:"20px",tableHeaderHeight:"40px",tableRowHeight:"40px",tableTitleHeight:"60px",inputMaxWidth:"360px",inputBorderRadius:"4px",autosuggestSuggestionRadius:"4px",smallArrowWidth:"6px",mediumArrowWidth:"8px",largeArrowWidth:"10px",tooltipArrowSize:"6px",tooltipMarginTop:"-6px",breakpointMobileNarrow:"320px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1200px",modalBodyPadding:"30px",avatarFormEditSize:180,avatarFormSectionSize:80}},25710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={motionEasing:[.6,.4,.2,1.4]}},58726:e=>{function t(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n}function n(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function i(e){SHA256_buf="string"==typeof e?SHA256_buf.concat(t(e)):SHA256_buf.concat(e);for(var n=0;n+64<=SHA256_buf.length;n+=64)h(SHA256_H,SHA256_buf.slice(n,n+64));SHA256_buf=SHA256_buf.slice(n),SHA256_len+=e.length}function r(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;h(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,h(SHA256_H,SHA256_buf);var t=new Array(32);for(e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=255&SHA256_H[e];return SHA256_H=null,SHA256_buf=null,SHA256_len=null,t}var s=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),o=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);function a(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function c(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t^n&(e^t)}function h(e,t){for(var n=new Array(16),i=0;i<16;i++)n[i]=t[4*i+0]<<24|t[4*i+1]<<16|t[4*i+2]<<8|t[4*i+3];!function(e,t){for(var n=16;n<64;n++)t[n]=4294967295&(((i=t[n-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)+t[n-7]+a(t[n-15])+t[n-16];var i,r=(new Array).concat(e);for(n=0;n<64;n++){var s=r[7]+c(r[4])+d(r[4],r[5],r[6])+o[n]+t[n],h=l(r[0])+u(r[0],r[1],r[2]);r.pop(),r.unshift(s+h&4294967295),r[4]=r[4]+s&4294967295}for(n=0;n<8;n++)e[n]=e[n]+r[n]&4294967295}(e,n)}e.exports={SHA256_hash:function(e){return n(),i(e),function(e){for(var t="",n=0;n<e.length;n++)t+=s[e[n]>>4]+s[15&e[n]];return t}(r())},HMAC_SHA256_init:function(e){HMAC_SHA256_key="string"==typeof e?t(e):(new Array).concat(e),HMAC_SHA256_key.length>64&&(n(),i(HMAC_SHA256_key),HMAC_SHA256_key=r());for(var s=HMAC_SHA256_key.length;s<64;s++)HMAC_SHA256_key[s]=0;for(s=0;s<64;s++)HMAC_SHA256_key[s]^=54;n(),i(HMAC_SHA256_key)},HMAC_SHA256_write:function(e){i(e)},HMAC_SHA256_finalize:function(){for(var e=r(),t=0;t<64;t++)HMAC_SHA256_key[t]^=106;for(n(),i(HMAC_SHA256_key),i(e),t=0;t<64;t++)HMAC_SHA256_key[t]=0;return HMAC_SHA256_key=null,r()}}},95882:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<ul class="js-file-list-items list browse-directory-list"></ul> <div class="js-file-list-truncated-message css-file-list-truncated-message"></div> '}))},231:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return(o+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">')+((0,this.escapeExpression)((s=n.message)||"function"==typeof(s=t&&t.message)?s.call(t,{hash:{},data:r}):s)+"</span> ")}))},29847:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a,l="";return l+='<button class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <i class="alert-icon glyphicon ',((o=(a=n(96153),a&&(a.__esModule?a.default:a)).call(t,t&&t.type,"success",{hash:{},inverse:this.program(3,(function(e,t){return"circle-exclamation-mark"}),s),fn:this.program(1,(function(e,t){return"circle-ok"}),s),data:s}))||0===o)&&(l+=o),l+='"></i> <h4>',((o="function"==typeof(o=t&&t.message)?o.apply(t):o)||0===o)&&(l+=o),l+"</h4> "}))},86190:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+'<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(r(n(88920)).call(t,"A new TV tuner ({tunerMake} {tunerModel}) has been found! Plex DVR is the easiest way to record your favorite shows!",{hash:{tunerModel:t&&t.model,tunerMake:t&&t.make},data:o}))+'</span> <a class="setup-link link" href="'+c("function"==typeof(a=t&&t.dvrSettingsRoute)?a.apply(t):a)+'">'+c(r(n(88920)).call(t,"Learn more",{hash:{},data:o}))+"</a> "}))},87955:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(r(n(68325)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return((a=i.if.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var s,o="";return o+=' <div class="setup-agent-section"> <div class="setup-agent-title">'+c(r(n(88920)).call(e,"{1} Settings",e&&e.escapedAgentName,{hash:{},data:t}))+'</div> <p class="setup-agent-disclaimer">'+c(r(n(88920)).call(e,"Note: These settings will take effect for all libraries using the {1} agent.",e&&e.escapedAgentName,{hash:{},data:t}))+'</p> <div class="setup-agent-settings"> ',((s=i.each.call(e,e&&e.settings,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+" </div> </div> "}),o),data:o}))||0===a)&&(l+=a),l+" "}))},64038:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<form class="edit-section-type-form settings-container"> <p>'+l(r(n(88920)).call(t,"There was an error adding this library.",{hash:{},data:o}))+"</p> <p>"+l(r(n(88920)).call(t,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:o}))+"</p> </form> "}))},8710:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="",a="function",l=this.escapeExpression;return o+'<a class="striped-list-item" href="#" data-key="'+l(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.key)===a?s.apply(t):s)+'"> <i class="glyphicon file"></i> '+l(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===a?s.apply(t):s)+" </a> "}))},98651:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="",a=this,l="function",c=this.escapeExpression;function d(e,t){return"home"}function u(e,t){var i;return(i=n.if.call(e,null==(i=e&&e.filePath)||!1===i?i:i.network,{hash:{},inverse:a.program(9,p,t),fn:a.program(7,h,t),data:t}))||0===i?i:""}function h(e,t){return"globe"}function p(e,t){var i;return(i=n.if.call(e,e&&e.isRoot,{hash:{},inverse:a.program(12,m,t),fn:a.program(10,g,t),data:t}))||0===i?i:""}function g(e,t){return"hdd"}function m(e,t){return"folder-open"}return o+='<a class="striped-list-item" href="#" data-key="'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.key)===l?s.apply(t):s)+'" title="'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===l?s.apply(t):s)+'" aria-label="'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===l?s.apply(t):s)+'"> <i class="folder-icon glyphicon ',((s=n.if.call(t,null==(s=t&&t.filePath)||!1===s?s:s.isBackShortcut,{hash:{},inverse:a.program(3,(function(e,t){var i;return(i=n.if.call(e,null==(i=e&&e.filePath)||!1===i?i:i.home,{hash:{},inverse:a.program(6,u,t),fn:a.program(4,d,t),data:t}))||0===i?i:""}),r),fn:a.program(1,(function(e,t){return"left-arrow"}),r),data:r}))||0===s)&&(o+=s),o+'"></i>&nbsp;'+c(typeof(s=null==(s=t&&t.filePath)||!1===s?s:s.title)===l?s.apply(t):s)+' <div class="loading loading-sm loading-inline hidden"></div> </a> '}))},21887:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a="",l="function",c=this.escapeExpression,d=this;return a+='<div class="card card-section"> <div class="card-actions"> <button class="edit-section-btn card-action-btn"><i class="glyphicon pencil"></i></button> <button class="delete-section-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <i class="section-icon glyphicon '+c(typeof(o=t&&t.icon)===l?o.apply(t):o)+'"></i> <span class="section-title"></span> ',((o=i.if.call(t,t&&t.path,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n;return""+'<span class="section-path">'+c(typeof(n=e&&e.path)===l?n.apply(e):n)+"</span>"}),s),data:s}))||0===o)&&(a+=o),a+=" ",((o=i.if.call(t,t&&t.more,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var i;return""+'<span class="section-count">'+c((i=n(88920),i&&(i.__esModule?i.default:i)).call(e,"and {count} more",{hash:{count:e&&e.more},data:t}))+"</span>"}),s),data:s}))||0===o)&&(a+=o),a+" </div> "}))},26719:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<div class="modal-dialog"> <div class="modal-content"> <form name="add-folder-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon folder-plus"></i> '+l(r(n(88920)).call(t,"Add Folder",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="row"> <div class="col-md-12"> <input type="text" name="path" class="form-control" value=""> </div> </div> <div class="row directory-container-row"> <div class="home-directory-container col-md-5"></div> <div class="col-md-7"> <div class="path-container"></div> <div class="file-container"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+l(r(n(88920)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="submit" class="add-btn btn btn-primary">'+l(r(n(88920)).call(t,"Add",{hash:{},data:o}))+"</button> </div> </form> </div> </div> "}))},65975:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d="function",u=this;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(typeof(a=t&&t.title)===d?a.apply(t):a)+'</h4> </div> <div class="modal-body"> <p class="confirm-message">'+c(typeof(a=t&&t.message)===d?a.apply(t):a)+'</p> <p class="double-confirm-message text-warning">'+c(typeof(a=t&&t.warningMessage)===d?a.apply(t):a)+'</p> </div> <div class="modal-footer"> ',((a=i.unless.call(t,t&&t.hideCancel,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return""+' <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(r(n(88920)).call(e,e&&e.cancelLabel,{hash:{},data:t}))+"</button> "}),o),data:o}))||0===a)&&(l+=a),l+=' <button type="button" class="confirm-btn btn btn-lg ',((a=i.if.call(t,t&&t.hasDanger,{hash:{},inverse:u.program(5,(function(e,t){return"btn-primary"}),o),fn:u.program(3,(function(e,t){return"btn-danger"}),o),data:o}))||0===a)&&(l+=a),l+' btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(n(88920)).call(t,t&&t.confirmLabel,{hash:{},data:o}))+"</span> </button> </div> </div> </div> "}))},25455:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){var n;return""+'download="'+d(typeof(n=e&&e.downloadName)===c?n.apply(e):n)+'"'}function p(e,t){var n;return""+" "+d(typeof(n=e&&e.title)===c?n.apply(e):n)+' <span class="title-separator"></span> '}function g(e,t){var s,o="";return o+=" "+d(r(n(87601)).call(e,e&&e.videoResolution,{hash:{},data:t})),((s=i.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(7,m,t),data:t}))||0===s)&&(o+=s),o+" "}function m(e,t){return","}function f(e,t){return""+" "+d(r(n(21125)).call(e,e&&e.bitrate,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download-alt"></i> '+d(r(n(88920)).call(t,"Download a Version",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list download-list"> ',((a=i.each.call(t,t&&t.mediaItems,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,(function(e,t,s){var o,a="";return a+=' <li class="striped-list-item select-list-item download-list-item"> <a class="media" data-value="'+d(typeof(o=null==t||!1===t?t:t.index)===c?o.apply(e):o)+'" href="'+d(typeof(o=e&&e.downloadUrl)===c?o.apply(e):o)+'" target="'+d(typeof(o=s&&s.defaultLinkTarget)===c?o.apply(e):o)+'" ',((o=r(n(75921)).call(e,s&&s.defaultLinkTarget,"_blank",{hash:{},inverse:u.noop,fn:u.program(2,h,t),data:t}))||0===o)&&(a+=o),a+="> ",((o=i.if.call(e,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t}))||0===o)&&(a+=o),a+=" ",((o=i.if.call(e,e&&e.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,g,t),data:t}))||0===o)&&(a+=o),a+=" ",((o=i.if.call(e,e&&e.bitrate,{hash:{},inverse:u.noop,fn:u.program(9,f,t),data:t}))||0===o)&&(a+=o),a+" </a> </li> "}),o,t),data:o}))||0===a)&&(l+=a),l+" </ul> </div> </div> </div> "}))},3698:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return" selected"}function h(e,t){return""+" "+c(r(n(88920)).call(e,"Select type",{hash:{},data:t}))+" "}function p(e,t){return""+" "+c(r(n(88920)).call(e,"General",{hash:{},data:t}))+" "}function g(e,t){return"disabled"}function m(e,t){return"hidden"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((a=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(3,(function(e,t){var n;return""+' <i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(n=e&&e.paneTitle)?n.apply(e):n)+" "}),o),fn:d.program(1,(function(e,t){return""+' <i class="modal-icon glyphicon plus"></i> '+c(r(n(88920)).call(e,"Add {1} Library",'<span class="section-type-title"></span>',{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+=' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> ',((a=i.if.call(t,t&&t.isLoading,{hash:{},inverse:d.program(7,(function(e,t){var s,o="";return o+=' <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> <li> <a class="btn-gray change-pane-btn type-btn',((s=r(n(96153)).call(e,e&&e.selectedPane,"type",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(o+=s),o+='" data-pane="type" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> ',((s=i.if.call(e,e&&e.add,{hash:{},inverse:d.program(12,p,t),fn:d.program(10,h,t),data:t}))||0===s)&&(o+=s),o+=' </a> </li> <li> <a class="btn-gray change-pane-btn folders-btn',((s=r(n(96153)).call(e,e&&e.selectedPane,"folders",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.unless.call(e,e&&e.showFolders,{hash:{},inverse:d.noop,fn:d.program(16,m,t),data:t}))||0===s)&&(o+=s),o+='" data-pane="folders" href="#"> <i class="modal-nav-icon glyphicon folder-open"></i> '+c(r(n(88920)).call(e,"Add folders",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn options-btn',((s=r(n(96153)).call(e,e&&e.selectedPane,"options",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===s)&&(o+=s),o+=' hidden" data-pane="options" href="#"> <i class="modal-nav-icon glyphicon magic"></i> '+c(r(n(88920)).call(e,"Options",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn advanced-btn',((s=r(n(96153)).call(e,e&&e.selectedPane,"advanced",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===s)&&(o+=s),o+'" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(r(n(88920)).call(e,"Advanced",{hash:{},data:t}))+' </a> </li> </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> '}),o),fn:d.program(5,(function(e,t){return' <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> '}),o),data:o}))||0===a)&&(l+=a),l+=' </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(r(n(88920)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading ',((a=i.if.call(t,t&&t.add,{hash:{},inverse:d.noop,fn:d.program(14,g,o),data:o}))||0===a)&&(l+=a),l+='"> <div class="loading loading-sm"></div> <span class="btn-label"> <span class="save-btn-label-next">'+c(r(n(88920)).call(t,"Next",{hash:{},data:o}))+'</span> <span class="save-btn-label-save"> ',((a=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(20,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Save Changes",{hash:{},data:t}))+" "}),o),fn:d.program(18,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Add Library",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+" </span> </span> </button> </div> </div> </div> "}))},85115:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return""+" "+c(r(n(88920)).call(e,"Settings",{hash:{},data:t}))+" "}function h(e,t){return""+" "+c(r(n(88920)).call(e,"Sign In",{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> ',((a=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(3,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Plex Pass Required",{hash:{},data:t}))+" "}),o),fn:d.program(1,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Internet Required",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+=' </h4> </div> <div class="modal-body"> <p class="confirm-message"> ',((a=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(7,(function(e,t){return""+" "+c(r(n(88920)).call(e,"This library requires your server be signed in to a Plex Pass account.",{hash:{},data:t}))+" "}),o),fn:d.program(5,(function(e,t){return""+" "+c(r(n(88920)).call(e,"This server cannot reach the Internet. Please verify connectivity and try again.",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+=' </p> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(r(n(88920)).call(t,"Ignore",{hash:{},data:o}))+"</button> ",((a=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(11,(function(e,t){var n,r="";return r+=' <a class="confirm-btn btn btn-lg btn-primary" href="'+c("function"==typeof(n=e&&e.serverSettingsRoute)?n.apply(e):n)+'"> ',((n=i.if.call(e,e&&e.isSignedIn,{hash:{},inverse:d.program(14,h,t),fn:d.program(12,u,t),data:t}))||0===n)&&(r+=n),r+" </a> "}),o),fn:d.program(9,(function(e,t){return""+' <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(r(n(88920)).call(e,"OK",{hash:{},data:t}))+"</button> "}),o),data:o}))||0===a)&&(l+=a),l+" </div> </div> </div> "}))},71919:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d="function",u=this;function h(e,t,n){var r,s="";return s+=' <ul class="media-info-file-list well"> ',((r=i.if.call(e,n&&n.showDeleteFile,{hash:{},inverse:u.noop,fn:u.program(5,p,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=i.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,f,t,n),data:t}))||0===r)&&(s+=r),s+" </ul> "}function p(e,t){var i,s="";return s+=' <a href="#" data-media-item="'+c(typeof(i=null==t||!1===t?t:t.index)===d?i.apply(e):i)+'" class="delete-btn text-danger pull-right"> <i class="glyphicon bin"></i> ',((i=r(n(96153)).call(e,null==(i=e&&e.Part)||!1===i?i:i.length,"1",{hash:{},inverse:u.program(8,m,t),fn:u.program(6,g,t),data:t}))||0===i)&&(s+=i),s+" </a> "}function g(e,t){return""+" "+c(r(n(88920)).call(e,"Delete File",{hash:{},data:t}))+" "}function m(e,t){return""+" "+c(r(n(88920)).call(e,"Delete Files",{hash:{},data:t}))+" "}function f(e,t,n){var r,s="";return s+=" <li> ",((r=i.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.program(13,y,t),fn:u.program(11,v,t),data:t}))||0===r)&&(s+=r),s+=" ",((r=i.unless.call(e,e&&e.accessible,{hash:{},inverse:u.noop,fn:u.program(15,b,t),data:t}))||0===r)&&(s+=r),s+" </li> "}function v(e,t){var n;return""+" "+c(typeof(n=e&&e.file)===d?n.apply(e):n)+" "}function y(e,t){return""+" "+c(r(n(63033)).call(e,e&&e.file,{hash:{},data:t}))+" "}function b(e,t){var n,r="";return r+=" ",((n=i.if.call(e,e&&e.exists,{hash:{},inverse:u.program(18,S,t),fn:u.program(16,Z,t),data:t}))||0===n)&&(r+=n),r+" "}function Z(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(r(n(88920)).call(e,"Please check the permissions for this file.",{hash:{},data:t}))+'">'+c(r(n(88920)).call(e,"Inaccessible",{hash:{},data:t}))+"</span> "}function S(e,t){return""+' <span class="label label-danger" data-toggle="tooltip" title="'+c(r(n(88920)).call(e,"Please check that this file exists and the necessary drive is mounted.",{hash:{},data:t}))+'">'+c(r(n(88920)).call(e,"Unavailable",{hash:{},data:t}))+"</span> "}function w(e,t){var i;return""+' <li> <span class="detail-label">'+c(r(n(88920)).call(e,e&&e.name,{hash:{},data:t}))+'</span> <span class="detail">'+c(typeof(i=e&&e.value)===d?i.apply(e):i)+"</span> </li> "}function P(e,t,s){var o,a="";return a+=' <div class="part"> <div class="props"> <h4>'+c(r(n(88920)).call(e,"Part",{hash:{},data:t}))+"</h4> <ul> ",((o=i.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,w,t),data:t}))||0===o)&&(a+=o),a+=' </ul> </div> <div class="streams"> ',((o=i.each.call(e,e&&e.Stream,{hash:{},inverse:u.noop,fn:u.program(24,C,t),data:t}))||0===o)&&(a+=o),a+=" ",((o=i.if.call(e,s&&s.loading,{hash:{},inverse:u.noop,fn:u.program(33,T,t),data:t}))||0===o)&&(a+=o),a+" </div> </div> "}function C(e,t){var s,o="";return o+=' <div class="props"> ',((s=r(n(96153)).call(e,e&&e.streamType,"1",{hash:{},inverse:u.program(27,A,t),fn:u.program(25,x,t),data:t}))||0===s)&&(o+=s),o+=" <ul> ",((s=i.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,w,t),data:t}))||0===s)&&(o+=s),o+" </ul> </div> "}function x(e,t){return""+" <h4>"+c(r(n(88920)).call(e,"Video",{hash:{},data:t}))+"</h4> "}function A(e,t){var i;return(i=r(n(96153)).call(e,e&&e.streamType,"2",{hash:{},inverse:u.program(30,I,t),fn:u.program(28,E,t),data:t}))||0===i?i:""}function E(e,t){return""+" <h4>"+c(r(n(88920)).call(e,"Audio",{hash:{},data:t}))+"</h4> "}function I(e,t){var i;return(i=r(n(96153)).call(e,e&&e.streamType,"3",{hash:{},inverse:u.noop,fn:u.program(31,k,t),data:t}))||0===i?i:""}function k(e,t){return""+" <h4>"+c(r(n(88920)).call(e,"Subtitles",{hash:{},data:t}))+"</h4> "}function T(e,t){return""+' <div class="props"> <h4>'+c(r(n(88920)).call(e,"Loading",{hash:{},data:t}))+"...</h4> </div> "}function O(e,t){var i;return""+' <div class="modal-footer"> <div class="pull-left"> <a href="'+c(typeof(i=e&&e.url)===d?i.apply(e):i)+'" target="_blank">'+c(r(n(88920)).call(e,"View XML",{hash:{},data:t}))+"</a> </div> </div> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(r(n(88920)).call(t,"Media Info",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="position-ref ',((a=i.unless.call(t,t&&t.hasStreams,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"hide-streams-column"}),o),data:o}))||0===a)&&(l+=a),l+='"> ',((a=i.if.call(t,t&&t.hasFiles,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var s,o="";return o+=' <div class="files"> <h4>'+c(r(n(88920)).call(e,"Files",{hash:{},data:t}))+"</h4> ",((s=i.each.call(e,e&&e.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(4,h,t,e),data:t}))||0===s)&&(o+=s),o+" </div> "}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=i.each.call(t,t&&t.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(20,(function(e,t,s){var o,a="";return a+=' <div class="media"> <div class="props"> <h4>'+c(r(n(88920)).call(e,"Media",{hash:{},data:t}))+"</h4> <ul> ",((o=i.each.call(e,e&&e.properties,{hash:{},inverse:u.noop,fn:u.program(21,w,t),data:t}))||0===o)&&(a+=o),a+=" </ul> </div> ",((o=i.each.call(e,e&&e.Part,{hash:{},inverse:u.noop,fn:u.programWithDepth(23,P,t,s),data:t}))||0===o)&&(a+=o),a+" </div> "}),o,t),data:o}))||0===a)&&(l+=a),l+=" </div> </div> ",((a=i.if.call(t,t&&t.key,{hash:{},inverse:u.noop,fn:u.programWithDepth(35,(function(e,t,n){var r;return(r=i.if.call(e,n&&n.showFilepath,{hash:{},inverse:u.noop,fn:u.program(36,O,t),data:t}))||0===r?r:""}),o,t),data:o}))||0===a)&&(l+=a),l+" </div> </div> "}))},94983:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-arrow-right"></i> '+c(r(n(88920)).call(t,"Go Premium",{hash:{},data:o}))+' </h4> </div> <div class="modal-body"> <p class="text-center"><i class="plex-image plex-pass"></i></p> <h4 class="text-center">'+c(r(n(88920)).call(t,"This feature requires a Plex Pass subscription.",{hash:{},data:o}))+"</h4> ",((a=i.if.call(t,t&&t.isClaimed,{hash:{},inverse:this.program(3,(function(e,t){return""+' <p class="text-muted">'+c(r(n(88920)).call(e,'The server "{1}" has not been claimed. This server must be claimed by an account with a Plex Pass subscription.',e&&e.escapedFriendlyName,{hash:{},data:t}))+"</p> "}),o),fn:this.program(1,(function(e,t){return""+' <p class="text-muted">'+c(r(n(88920)).call(e,"Everything you need to experience the best of Plex. Your subscription gives you premium features and exclusive access to new ones.",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+' <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(a=t&&t.plexPassUrl)?a.apply(t):a)+'" target="_blank">'+c(r(n(88920)).call(t,"Learn More",{hash:{},data:o}))+"</a> </p> </div> </div> </div> "}))},9739:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(r(n(88920)).call(t,"Limited Connection",{hash:{},data:o}))+" - "+c("function"==typeof(a=t&&t.serverName)?a.apply(t):a)+' </h4> </div> <div class="modal-body"> <p> '+c(r(n(88920)).call(t,"You are not connected directly to {1} so streaming quality may be limited. You may be able to connect directly to this server by changing your home network settings. {2}Learn more{3}",t&&t.escapedServerName,'<a href="https://help.plex.tv/relay" target="_blank" class="learn-more">',"</a>",{hash:{},data:o}))+' </p> </div> <div class="modal-footer"> <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(r(n(88920)).call(t,"OK",{hash:{},data:o}))+"</button> </div> </div> </div> "}))},76380:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon file"></i> '+c(r(n(88920)).call(t,"Select a File",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((a=i.each.call(t,t&&t.medias,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,s="";return s+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(i=null==t||!1===t?t:t.index)?i.apply(e):i)+'" href="#"> ',((i=r(n(10424)).call(e,null==(i=null==(i=e&&e.Part)||!1===i?i:i[0])||!1===i?i:i.file,35,{hash:{},data:t}))||0===i)&&(s+=i),s+" </a> </li> "}),o),data:o}))||0===a)&&(l+=a),l+" </ul> </div> </div> </div> "}))},62196:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4> ',((a=i.if.call(t,t&&t.status,{hash:{},inverse:this.program(3,(function(e,t){return""+" "+c(r(n(88920)).call(e,"There was a problem preparing for optimization.",{hash:{},data:t}))+" "}),o),fn:this.program(1,(function(e,t){var n;return""+" "+c("function"==typeof(n=e&&e.status)?n.apply(e):n)+" "}),o),data:o}))||0===a)&&(l+=a),l+' </h4> <h4><a class="try-again-link" href="#">'+c(r(n(88920)).call(t,"Try again",{hash:{},data:o}))+"</a></h4> </div> </div> "}))},25213:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}return l+='<label class="control-label" for="convert-storage-location">'+c(r(n(88920)).call(t,"Version storage location",{hash:{},data:o}))+'</label> <select id="convert-storage-location" class="storage-location-select" name="storageLocation" ',((a=i.if.call(t,t&&t.disableLocation,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),o),data:o}))||0===a)&&(l+=a),l+='> <option value="-1" ',((a=r(n(96153)).call(t,t&&t.selectedLocationID,-1,{hash:{},inverse:d.noop,fn:d.program(3,u,o),data:o}))||0===a)&&(l+=a),l+=">"+c(r(n(88920)).call(t,"In folders with original items",{hash:{},data:o}))+"</option> ",((a=i.each.call(t,t&&t.locations,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,(function(e,t,i){var s,o="";return o+=' <option value="'+c("function"==typeof(s=e&&e.id)?s.apply(e):s)+'" ',((s=r(n(96153)).call(e,i&&i.selectedLocationID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,u,t),data:t}))||0===s)&&(o+=s),o+">"+c(r(n(96843)).call(e,e&&e.path,50,20,{hash:{},data:t}))+"</option> "}),o,t),data:o}))||0===a)&&(l+=a),l+' </select> <p class="help-block">'+c(r(n(88920)).call(t,'A "Plex Versions" folder will be created in your chosen location.',{hash:{},data:o}))+"</p> "}))},41933:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return"hidden"}function h(e,t){return"checked"}return l+='<div class="form-group ',((a=i.unless.call(t,t&&t.showUnwatched,{hash:{},inverse:d.noop,fn:d.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-unwatched" name="policyUnwatched" ',((a=i.if.call(t,null==(a=t&&t.policy)||!1===a?a:a.unwatched,{hash:{},inverse:d.noop,fn:d.program(3,h,o),data:o}))||0===a)&&(l+=a),l+="> "+c(r(n(88920)).call(t,"Unwatched only",{hash:{},data:o}))+' </label> </div> <div class="form-group ',((a=i.unless.call(t,t&&t.isDirectory,{hash:{},inverse:d.noop,fn:d.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-scope" name="policyScope" value="count" ',((a=r(n(96153)).call(t,null==(a=t&&t.policy)||!1===a?a:a.scope,"count",{hash:{},inverse:d.noop,fn:d.program(3,h,o),data:o}))||0===a)&&(l+=a),l+="> "+c(r(n(88920)).call(t,"Limit to",{hash:{},data:o}))+' <input type="number" id="convert-policy-value" name="policyValue" class="policy-value-control form-control" ',((a=i.if.call(t,null==(a=t&&t.policy)||!1===a?a:a.value,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){var n;return""+'value="'+c("function"==typeof(n=null==(n=e&&e.policy)||!1===n?n:n.value)?n.apply(e):n)+'"'}),o),data:o}))||0===a)&&(l+=a),l+="> "+c(r(n(88920)).call(t,"items",{hash:{},data:o}))+' </label> <p class="convert-warning help-block ',((a=i.unless.call(t,t&&t.showLimitWarning,{hash:{},inverse:d.noop,fn:d.program(1,u,o),data:o}))||0===a)&&(l+=a),l+='"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> ',((a=i.if.call(t,t&&t.isSync,{hash:{},inverse:d.program(9,(function(e,t){return""+" "+c(r(n(88920)).call(e,"A large number of items may be time-consuming to convert. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),o),fn:d.program(7,(function(e,t){return""+" "+c(r(n(88920)).call(e,"A large number of sync items may be time-consuming to convert and transfer to your device. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+" </span> </p> </div> "}))},88531:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d="function",u=this;function h(e,t){return"selected"}function p(e,t){return""+" - "+c(r(n(51956)).call(e,e&&e.mediaSettings,{hash:{},data:t}))}return l+='<select class="convert-target-select" name="target" ',((a=i.if.call(t,t&&t.disableTarget,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"disabled"}),o),data:o}))||0===a)&&(l+=a),l+="> ",((a=i.each.call(t,t&&t.targets,{hash:{},inverse:u.noop,fn:u.programWithDepth(3,(function(e,t,s){var o,a="";return a+=' <option value="'+c(typeof(o=e&&e.id)===d?o.apply(e):o)+'" ',((o=r(n(96153)).call(e,null==(o=s&&s.item)||!1===o?o:o.targetTagID,e&&e.id,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===o)&&(a+=o),a+="> "+c(typeof(o=e&&e.tag)===d?o.apply(e):o),((o=i.if.call(e,null==(o=e&&e.mediaSettings)||!1===o?o:o.videoResolution,{hash:{},inverse:u.noop,fn:u.program(6,p,t),data:t}))||0===o)&&(a+=o),a+" </option> "}),o,t),data:o}))||0===a)&&(l+=a),l+=' <option value="-1" ',((a=i.unless.call(t,null==(a=t&&t.item)||!1===a?a:a.targetTagID,{hash:{},inverse:u.noop,fn:u.program(4,h,o),data:o}))||0===a)&&(l+=a),l+=">"+c(r(n(88920)).call(t,"Custom",{hash:{},data:o}))+'</option> </select> <div class="convert-custom-target-container"> <input type="text" class="convert-target-title form-control" name="targetTitle" class="form-control" value="'+c(typeof(a=null==(a=t&&t.item)||!1===a?a:a.target)===d?a.apply(t):a)+'" placeholder="'+c(r(n(88920)).call(t,"Quality Name",{hash:{},data:o}))+'"> <select class="convert-target-profile-select" name="targetProfile"> ',((a=i.each.call(t,t&&t.profiles,{hash:{},inverse:u.noop,fn:u.programWithDepth(8,(function(e,t,i){var s,o="";return o+=' <option value="'+c(typeof(s=e&&e.title)===d?s.apply(e):s)+'" ',((s=r(n(96153)).call(e,null==(s=i&&i.selectedProfile)||!1===s?s:s.title,e&&e.title,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===s)&&(o+=s),o+"> "+c(typeof(s=e&&e.title)===d?s.apply(e):s)+" </option> "}),o,t),data:o}))||0===a)&&(l+=a),l+=' </select> <select class="convert-target-quality-select" name="targetQuality"> ',((a=i.each.call(t,t&&t.availableCustomQualities,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,(function(e,t,i){var s,o="";return o+=' <option value="'+c(typeof(s=e&&e.index)===d?s.apply(e):s)+'" ',((s=r(n(96153)).call(e,null==(s=i&&i.selectedCustomQuality)||!1===s?s:s.index,e&&e.index,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===s)&&(o+=s),o+"> "+c(r(n(51956)).call(e,e,{hash:{},data:t}))+" </option> "}),o,t),data:o}))||0===a)&&(l+=a),l+' </select> </div> <p class="help-block">'+c(r(n(88920)).call(t,"Plex will convert your media to this quality. Each version will be stored in a separate file.",{hash:{},data:o}))+"</p> "}))},94160:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this,u="function";return l+='<form id="convert-form" class="settings-container"> <div class="modal-body"> <div class="form-group ',((a=i.unless.call(t,t&&t.showRemuxOnlyWarning,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"hidden"}),o),data:o}))||0===a)&&(l+=a),l+='"> <p class="convert-warning help-block"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> '+c(r(n(88920)).call(t,"Video optimization may take a long time to complete on this server. You'll be able to use Plex normally while you wait.",{hash:{},data:o}))+' </span> </p> </div> <div class="form-group"> <label class="control-label" for="convert-title">'+c(r(n(88920)).call(t,"Title",{hash:{},data:o}))+'</label> <input type="text" id="convert-title" name="title" class="form-control" value="'+c(typeof(a=null==(a=t&&t.conversionItem)||!1===a?a:a.title)===u?a.apply(t):a)+'" placeholder="'+c(typeof(a=null==(a=t&&t.conversionItem)||!1===a?a:a.title)===u?a.apply(t):a)+'"> </div> <div class="policy-region"></div> <div class="targets-region"></div> <div class="location-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(r(n(88920)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((a=i.if.call(t,t&&t.isNew,{hash:{},inverse:d.program(5,(function(e,t){return c(r(n(88920)).call(e,"Save",{hash:{},data:t}))}),o),fn:d.program(3,(function(e,t){return c(r(n(88920)).call(e,"Optimize",{hash:{},data:t}))}),o),data:o}))||0===a)&&(l+=a),l+"</span> </button> </div> </form> "}))},82973:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="loading loading-inline"></div> '}))},60704:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){var o;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},""+'<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> '+(0,this.escapeExpression)((o=n(88920),o&&(o.__esModule?o.default:o)).call(t,"Optimize",{hash:{},data:s}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},14889:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(r(n(88920)).call(t,"This media is being converted.",{hash:{},data:o}))+"</h4> <h4>"+l(r(n(88920)).call(t,"Watch the status of the conversion {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:o}))+"</h4> </div> </div> "}))},59239:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a,l="",c="function",d=this.escapeExpression;return l+='<div class="form-group" data-attr="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'"> <label for="text-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="control-label">'+d((a=n(88920),a&&(a.__esModule?a.default:a)).call(t,t&&t.label,{hash:{},data:s}))+'<span class="control-error"></span></label> <div class="input-group selectize-group"> <input type="text" id="text-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="form-control text-field" name="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" placeholder="'+d(typeof(o=t&&t.placeholder)===c?o.apply(t):o)+'" data-rating-key="'+d(typeof(o=t&&t.ratingKey)===c?o.apply(t):o)+'" data-title="'+d(typeof(o=t&&t.title)===c?o.apply(t):o)+'" ',((o=i.if.call(t,t&&t.scopeToAttr,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}),s),data:s}))||0===o)&&(l+=o),l+"> </div> </div> "}))},19734:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){return""+' <h4 class="server-connect-error-header">'+c(r(n(88920)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(r(n(88920)).call(e,"Your server was unable to reach Plex. Please ensure that the computer or device running your server can access the internet.",{hash:{},data:t}))+"</p> "}function h(e,t){return""+' <h4 class="server-connect-error-header">'+c(r(n(88920)).call(e,"Signed in to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(r(n(88920)).call(e,"You have successfully signed your server in to Plex, but we were unable to reach it from outside your network.",{hash:{},data:t}))+"</p> "}return((a=r(n(96153)).call(t,t&&t.mappingError,"badauth",{hash:{},inverse:d.program(3,(function(e,t){var i,s="";return((i=r(n(96153)).call(e,e&&e.mappingError,"myplexgone",{hash:{},inverse:d.program(6,h,t),fn:d.program(4,u,t),data:t}))||0===i)&&(s+=i),s+" "}),o),fn:d.program(1,(function(e,t){return""+' <h4 class="server-connect-error-header">'+c(r(n(88920)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(r(n(88920)).call(e,"Plex was unable to authenticate your server. Please sign your server out and try again.",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=r(n(75921)).call(t,t&&t.context,"settings",{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){return""+' <p class="text-muted">'+c(r(n(88920)).call(e,"If you skip this step you will not be able to share or stream media outside your home. If you change your mind later, you can adjust this in Settings.",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+' <p class="text-muted">'+c(r(n(88920)).call(t,"If you would like to enable this now, you will need to configure your router or firewall to allow Plex to contact your server. Please refer to our {1}Connecting a Server{2} article for more information.",'<a href="http://support.plex.tv/hc/en-us/articles/200484543-Connecting-a-Server/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:o}))+"</p> "}))},28348:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){return"disabled"}return l+='<div class="form-group"> <label for="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d((a=n(88920),a&&(a.__esModule?a.default:a)).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="input-group-addon edit-lock-addon ',((o=i.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"locked"}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,h,s),data:s}))||0===o)&&(l+=o),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> <input type="number" id="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="form-control lockable-field" name="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" value="'+d(typeof(o=t&&t.value)===c?o.apply(t):o)+'" placeholder="'+d(typeof(o=t&&t.placeholder)===c?o.apply(t):o)+'" ',((o=i.if.call(t,t&&t.disabled,{hash:{},inverse:u.noop,fn:u.program(3,h,s),data:s}))||0===o)&&(l+=o),l+"> </div> </div> "}))},51030:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,a,l="",c="function",d=this.escapeExpression,u=this;return l+='<div class="form-group"> <label for="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+d((a=n(88920),a&&(a.__esModule?a.default:a)).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group selectize-group"> <a href="#" data-field="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="input-group-addon edit-lock-addon',((o=i.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),s),data:s}))||0===o)&&(l+=o),l+='"><i class="glyphicon lock"></i></a> <input type="text" id="lockable-'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="form-control lockable-field tag-input-hidden" data-name="'+d(typeof(o=t&&t.name)===c?o.apply(t):o)+'" data-attr="'+d(typeof(o=t&&t.attribute)===c?o.apply(t):o)+'" data-only-delete="'+d(typeof(o=t&&t.onlyDelete)===c?o.apply(t):o)+'" ',((o=i.if.call(t,t&&t.query,{hash:{},inverse:u.noop,fn:u.program(3,(function(e,t){var n;return""+'data-query="'+d(typeof(n=e&&e.query)===c?n.apply(e):n)+'"'}),s),data:s}))||0===o)&&(l+=o),l+"> </div> </div> "}))},71815:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function p(e,t){var n;return""+'data-scope-to-attr="'+d(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+d(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}function g(e,t){var n;return""+'data-rating-key="'+d(typeof(n=e&&e.ratingKey)===c?n.apply(e):n)+'"'}return l+='<div class="form-group selectize-group" data-attr="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'"> <label for="lockable-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'">'+d(r(n(88920)).call(t,t&&t.label,{hash:{},data:o}))+'</label> <div class="input-group"> <a href="#" data-field="'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'" class="input-group-addon edit-lock-addon',((a=i.if.call(t,t&&t.locked,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return" locked"}),o),data:o}))||0===a)&&(l+=a),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> ',((a=r(n(96153)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(6,(function(e,t){var n,r="";return r+=' <input type="text" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control lockable-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.scopeToAttr,{hash:{},inverse:u.noop,fn:u.program(7,p,t),data:t}))||0===n)&&(r+=n),r+=" ",((n=i.if.call(e,e&&e.ratingKey,{hash:{},inverse:u.noop,fn:u.program(9,g,t),data:t}))||0===n)&&(r+=n),r+"> "}),o),fn:u.program(3,(function(e,t){var n,r="";return r+=' <textarea class="form-control lockable-field" id="lockable-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=i.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===n)&&(r+=n),r+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),o),data:o}))||0===a)&&(l+=a),l+" </div> </div> "}))},44710:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){return"checked"}function p(e,t){var n;return""+' <p class="help-block">'+d(typeof(n=e&&e.summary)===c?n.apply(e):n)+"</p> "}function g(e,t){var n,r="";return r+=' <select id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'"> ',((n=i.each.call(e,e&&e.enumValues,{hash:{},inverse:u.noop,fn:u.programWithDepth(10,m,t,e),data:t}))||0===n)&&(r+=n),r+" </select> "}function m(e,t,i){var s,o="";return o+=' <option value="'+d(typeof(s=e&&e.value)===c?s.apply(e):s)+'" ',((s=r(n(96153)).call(e,e&&e.value,i&&i.value,{hash:{},inverse:u.noop,fn:u.program(11,f,t),data:t}))||0===s)&&(o+=s),o+">"+d(typeof(s=e&&e.label)===c?s.apply(e):s)+"</option> "}function f(e,t){return'selected="selected"'}function v(e,t){var s,o="";return o+=' <input type="',((s=r(n(96153)).call(e,e&&e.option,"hidden",{hash:{},inverse:u.program(16,b,t),fn:u.program(14,y,t),data:t}))||0===s)&&(o+=s),o+='" id="input_'+d(typeof(s=e&&e.id)===c?s.apply(e):s)+d(typeof(s=e&&e.idSuffix)===c?s.apply(e):s)+'" class="form-control" name="'+d(typeof(s=e&&e.id)===c?s.apply(e):s)+'" value="'+d(typeof(s=e&&e.value)===c?s.apply(e):s)+'" ',((s=i.if.call(e,e&&e.placeholder,{hash:{},inverse:u.noop,fn:u.program(18,Z,t),data:t}))||0===s)&&(o+=s),o+"> "}function y(e,t){return"password"}function b(e,t){return"text"}function Z(e,t){var n;return""+'placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'"'}return l+='<div class="form-group ',((a=i.if.call(t,t&&t.advanced,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){return"advanced-setting"}),o),data:o}))||0===a)&&(l+=a),l+='"> ',((a=r(n(96153)).call(t,t&&t.type,"bool",{hash:{},inverse:u.program(8,(function(e,t){var n,r="";return r+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.label)===c?n.apply(e):n)+"</label> ",((n=i.if.call(e,e&&e.enumValues,{hash:{},inverse:u.program(13,v,t),fn:u.program(9,g,t),data:t}))||0===n)&&(r+=n),r+=" ",((n=i.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,p,t),data:t}))||0===n)&&(r+=n),r+" "}),o),fn:u.program(3,(function(e,t){var n,r="";return r+=' <label class="control-label" for="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'"> <input type="checkbox" id="input_'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+d(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.id)===c?n.apply(e):n)+'" value="1" ',((n=i.if.call(e,e&&e.value,{hash:{},inverse:u.noop,fn:u.program(4,h,t),data:t}))||0===n)&&(r+=n),r+="> "+d(typeof(n=e&&e.label)===c?n.apply(e):n)+" </label> ",((n=i.if.call(e,e&&e.summary,{hash:{},inverse:u.noop,fn:u.program(6,p,t),data:t}))||0===n)&&(r+=n),r+" "}),o),data:o}))||0===a)&&(l+=a),l+" </div> "}))},57327:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){var n;return""+' rows="'+d(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function p(e,t){var n;return""+'data-exclude-param="'+d(typeof(n=e&&e.excludeParam)===c?n.apply(e):n)+'" data-exclude-value="'+d(typeof(n=e&&e.excludeValue)===c?n.apply(e):n)+'"'}return l+='<div class="form-group"> <label for="text-'+d(typeof(a=t&&t.name)===c?a.apply(t):a)+'">'+d(r(n(88920)).call(t,t&&t.label,{hash:{},data:o}))+"</label> ",((a=r(n(96153)).call(t,t&&t.type,"textarea",{hash:{},inverse:u.program(4,(function(e,t){var n,r="";return r+=' <input type="text" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control text-field" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.excludeParam,{hash:{},inverse:u.noop,fn:u.program(5,p,t),data:t}))||0===n)&&(r+=n),r+"> "}),o),fn:u.program(1,(function(e,t){var n,r="";return r+=' <textarea class="form-control text-field" id="text-'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+d(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=i.if.call(e,e&&e.rows,{hash:{},inverse:u.noop,fn:u.program(2,h,t),data:t}))||0===n)&&(r+=n),r+' placeholder="'+d(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+d(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "}),o),data:o}))||0===a)&&(l+=a),l+" </div> "}))},2200:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+'<form class="edit-section-advanced-form settings-container"> <div class="language-group"> <input type="hidden" name="language" value="'+c("function"==typeof(a=null==(a=t&&t.section)||!1===a?a:a.language)?a.apply(t):a)+'"> </div> <div class="row"> <div class="col-md-12"> <div class="form-group scanner-group hidden"> <label for="edit-section-scanner" class="control-label"> '+c(r(n(88920)).call(t,"Scanner",{hash:{},data:o}))+' <span class="control-error">'+c(r(n(88920)).call(t,"A scanner is required.",{hash:{},data:o}))+'</span> </label> <select id="edit-section-scanner" name="scanner"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group agent-group hidden"> <label for="edit-section-agent" class="control-label"> '+c(r(n(88920)).call(t,"Agent",{hash:{},data:o}))+' <span class="control-error">'+c(r(n(88920)).call(t,"An agent is required.",{hash:{},data:o}))+'</span> </label> <select id="edit-section-agent" name="agent"></select> </div> </div> </div> <div class="row"> <div class="col-md-12 section-agent-settings-region"></div> </div> <div class="row"> <div class="col-md-12 section-settings-region"></div> </div> </form> '}))},69106:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<form class="edit-section-folders-form settings-container"> <p>'+l(r(n(88920)).call(t,"Add folders to your library",{hash:{},data:o}))+'</p> <div class="form-group Location-group"> <div class="paths-region"></div> <p class="button-container"> <button type="button" class="add-folder-btn btn btn-icon-label btn-default"> <i class="glyphicon folder-plus"></i> '+l(r(n(88920)).call(t,"Browse for media folder",{hash:{},data:o}))+' </button> </p> <p class="control-error">'+l(r(n(88920)).call(t,"At least one folder is required.",{hash:{},data:o}))+'</p> </div> <p class="help-block">'+l(r(n(88920)).call(t,"Help us out by following {1}our guide{2} to naming and organizing your media.",'<a href="https://support.plex.tv/articles/naming-and-organizing-your-movie-media-files/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:o}))+"</p> </form> "}))},78e3:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o="";return(o+='<div class="col-md-12"> <div class="form-group path-group"> <input type="text" name="path" class="form-control" value="')+((0,this.escapeExpression)((s=n.path)||"function"==typeof(s=t&&t.path)?s.call(t,{hash:{},data:r}):s)+'"> <div class="path-actions"> <a href="#" class="remove-path-btn btn-link btn-gray"><i class="glyphicon remove-2"></i></a> </div> </div> </div> ')}))},45089:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;return l+='<div class="choose-library use-premium-library" data-agent="com.plexapp.agents.plexmusic" data-scanner="Plex Premium Music Scanner"> <div class="row"> <div class="col-xs-12"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> <span class="header-text"> '+c(r(n(88920)).call(t,"Create a premium Plex music library!",{hash:{},data:o}))+' </span> </div> </div> <div class="row use-premium-library-body"> <div class="col-xs-8"> <ul> <li>'+c(r(n(88920)).call(t,"Access to the best artwork, artist bios, album reviews, and more",{hash:{},data:o}))+"</li> <li>"+c(r(n(88920)).call(t,"Smart mixes based on track or mood",{hash:{},data:o}))+"</li> <li>"+c(r(n(88920)).call(t,"Improved music recognition and matching",{hash:{},data:o}))+"</li> </ul> ",((a=i.unless.call(t,t&&t.hasPremiumMusic,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return""+' <p class="help-block"> '+c(r(n(88920)).call(e,"Note: An active Plex Pass is required for this service. Don't have a Plex Pass? {1}Subscribe here{2}",'<a href="{3}" target="_blank">',"</a>",e&&e.plexPassUrl,{hash:{},data:t}))+" </p> "}),o),data:o}))||0===a)&&(l+=a),l+=' </div> <div class="col-xs-4 vendor-logos"> ',((a=i.if.call(t,t&&t.hasLyrics,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return'<div class="vendor-logo vendor-logo-lyricfind"></div>'}),o),data:o}))||0===a)&&(l+=a),l+' <div class="vendor-logo vendor-logo-gracenote"></div> <div class="vendor-logo vendor-logo-plex-pass"></div> </div> </div> </div> </div> </div> <div class="choose-library use-basic-library"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> '+c(r(n(88920)).call(t,"Create a basic music library",{hash:{},data:o}))+" </div> </div> </div> "}))},19597:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this;function u(e,t){var i,s="";return s+=" ",((i=r(n(96153)).call(e,e&&e.id,"enableBIFGeneration",{hash:{},inverse:d.noop,fn:d.program(3,h,t),data:t}))||0===i)&&(s+=i),s+" "}function h(e,t){return""+' <div class="form-group"> <button type="button" class="delete-thumbnails-btn btn btn-sm btn-danger">'+c(r(n(88920)).call(e,"Delete Preview Thumbnails",{hash:{},data:t}))+"</button> </div> "}return((a=i.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,s){var o,a="";return a+=" "+c(r(n(68325)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" ",((o=i.if.call(e,s&&s.edit,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===o)&&(a+=o),a+" "}),o,t),data:o}))||0===a)&&(l+=a),l+" "}))},85512:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d=this,u="function";function h(e,t){return"selectable"}function p(e,t){return"selected"}return l+='<form class="edit-section-type-form settings-container ',((a=i.if.call(t,null==(a=t&&t.section)||!1===a?a:a.type,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"section-type-chosen"}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=i.unless.call(t,t&&t.isInitialTypeSupported,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){return"is-type-unsupported"}),o),data:o}))||0===a)&&(l+=a),l+='"> ',((a=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(7,(function(e,t){return""+" <label>"+c(r(n(88920)).call(e,"Library type",{hash:{},data:t}))+"</label> "}),o),fn:d.program(5,(function(e,t){return""+' <p class="prompt">'+c(r(n(88920)).call(e,"Select your library type",{hash:{},data:t}))+"</p> "}),o),data:o}))||0===a)&&(l+=a),l+=' <div class="wizard-blocks-group form-group type-group"> ',((a=i.each.call(t,t&&t.sectionTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,(function(e,t,s){var o,a="";return a+=' <a class="wizard-block section-type ',((o=i.if.call(e,s&&s.canChangeType,{hash:{},inverse:d.noop,fn:d.program(10,h,t),data:t}))||0===o)&&(a+=o),a+=" ",((o=r(n(96153)).call(e,s&&s.currentSectionKey,e&&e.key,{hash:{},inverse:d.noop,fn:d.program(12,p,t),data:t}))||0===o)&&(a+=o),a+='" data-key="'+c(typeof(o=e&&e.key)===u?o.apply(e):o)+'" href="#"> <div class="wizard-block-icon">',((o=typeof(o=e&&e.typeIcon)===u?o.apply(e):o)||0===o)&&(a+=o),a+"</div> "+c(typeof(o=e&&e.title)===u?o.apply(e):o)+" </a> "}),o,t),data:o}))||0===a)&&(l+=a),l+=' <label class="control-label"> <span class="control-error">'+c(r(n(88920)).call(t,"You must select a media type.",{hash:{},data:o}))+'</span> </label> </div> <div class="visible-once-section-type-chosen"> ',((a=i.if.call(t,t&&t.hasType,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){return""+' <div class="row"> <div class="col-xs-12"> <p class="prompt">'+c(r(n(88920)).call(e,"Name your library and choose language.",{hash:{},data:t}))+"</p> </div> </div> "}),o),data:o}))||0===a)&&(l+=a),l+=' <div class="row section-type-unsupported"> <div class="col-md-7"> <label>'+c(r(n(88920)).call(t,"Sorry, this library type is unsupported by this server.",{hash:{},data:o}))+'</label> </div> </div> <div class="row section-type-supported"> <div class="col-md-7"> <div class="form-group title-group"> <div> <label for="edit-section-title" class="control-label"> '+c(r(n(88920)).call(t,"Name",{hash:{},data:o}))+' <span class="control-error">'+c(r(n(88920)).call(t,"A library name is required.",{hash:{},data:o}))+'</span> </label> </div> <input type="text" id="edit-section-title" name="title" class="form-control" value="'+c(typeof(a=null==(a=t&&t.section)||!1===a?a:a.title)===u?a.apply(t):a)+'"> </div> </div> <div class="col-md-5"> <div class="form-group language-group"> <div> <label for="edit-section-language" class="control-label"> '+c(r(n(88920)).call(t,"Language",{hash:{},data:o}))+' <span class="control-error">'+c(r(n(88920)).call(t,"A language is required.",{hash:{},data:o}))+'</span> </label> </div> <select id="edit-section-language" name="language"></select> </div> </div> </div> <div class="row section-type-supported"> <div class="col-md-12"> <span class="text-muted"> ',((a=i.if.call(t,t&&t.updatedAt,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){return""+" "+c(r(n(88920)).call(e,"Last updated {1}",e&&e.escapedUpdatedAt,{hash:{},data:t}))+" "}),o),data:o}))||0===a)&&(l+=a),l+" </span> </div> </div> </div> </form> "}))},39997:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){var n;return d(typeof(n=null==(n=e&&e.friendlyNameSetting)||!1===n?n:n.value)===c?n.apply(e):n)}function p(e,t){var n;return d(typeof(n=null==(n=e&&e.server)||!1===n?n:n.friendlyName)===c?n.apply(e):n)}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <form id="setup-basic-form" class="settings-container"> ',((a=i.if.call(t,t&&t.friendlyNameSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var s,o="";return o+=' <div class="setup-basic-form-group form-group"> <p class="text-muted"> '+d(r(n(88920)).call(e,"Give your server a friendly name to help identify it in Plex apps and on your network.",{hash:{},data:t}))+' </p> <input type="text" id="'+d(typeof(s=null==(s=e&&e.friendlyNameSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'" class="form-control" value="',((s=i.if.call(e,null==(s=e&&e.friendlyNameSetting)||!1===s?s:s.value,{hash:{},inverse:u.program(4,p,t),fn:u.program(2,h,t),data:t}))||0===s)&&(o+=s),o+'" placeholder="'+d(typeof(s=null==(s=e&&e.server)||!1===s?s:s.friendlyName)===c?s.apply(e):s)+'"> </div> '}),o),data:o}))||0===a)&&(l+=a),l+=" ",((a=i.if.call(t,t&&t.publishSetting,{hash:{},inverse:u.noop,fn:u.program(6,(function(e,t){var i;return""+' <div class="setup-basic-form-group form-group"> <div class="publish-checkbox checkbox"> <label for="'+d(typeof(i=null==(i=e&&e.publishSetting)||!1===i?i:i.id)===c?i.apply(e):i)+'"> <input type="checkbox" id="'+d(typeof(i=null==(i=e&&e.publishSetting)||!1===i?i:i.id)===c?i.apply(e):i)+'" checked> '+d(r(n(88920)).call(e,"Allow me to access my media outside my home",{hash:{},data:t}))+' </label> </div> <p class="text-muted"> '+d(r(n(88920)).call(e,"Plex will attempt to automatically configure your network to allow Plex apps outside your home to access Plex Media Server on this computer. Remember this computer will need to be turned on to access your media.",{hash:{},data:t}))+" </p> </div> "}),o),data:o}))||0===a)&&(l+=a),l+' <div class="setup-footer"> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(r(n(88920)).call(t,"Next",{hash:{},data:o}))+'</span> </button> <button class="next-btn hidden" data-subset="setupLibrary"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},42440:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c="function",d=this.escapeExpression,u=this;function h(e,t){return"checked"}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <div class="setup-apps-container"> <img class="setup-apps-image" src="'+d(typeof(a=t&&t.devicesImg)===c?a.apply(t):a)+'"> <a href="https://plex.tv/downloads" target="_blank" class="btn btn-default btn-lg">'+d(r(n(88920)).call(t,"Get Plex Apps",{hash:{},data:o}))+'</a> </div> <p class="text-muted">'+d(r(n(88920)).call(t,"All set! Your Plex Media Server is working hard to find your media and make it beautiful. Grab the Plex app for all your favorite devices to get the most out of Plex and start streaming everywhere!",{hash:{},data:o}))+'</p> <form id="setup-complete-form" class="settings-container"> ',((a=i.if.call(t,t&&t.collectUsageDataSetting,{hash:{},inverse:u.noop,fn:u.program(1,(function(e,t){var s,o="";return o+=' <div class="checkbox"> <label for="'+d(typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'"> <input type="checkbox" id="'+d(typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'" name="'+d(typeof(s=null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.id)===c?s.apply(e):s)+'" value="1" ',((s=i.if.call(e,null==(s=e&&e.collectUsageDataSetting)||!1===s?s:s.value,{hash:{},inverse:u.noop,fn:u.program(2,h,t),data:t}))||0===s)&&(o+=s),o+"> "+d(r(n(88920)).call(e,"Send anonymous usage data to Plex",{hash:{},data:t}))+' </label> </div> <p class="setup-complete-help text-muted"> '+d(r(n(88920)).call(e,"Help us improve everyone's Plex experience by sending anonymous usage data.",{hash:{},data:t}))+" </p> "}),o),data:o}))||0===a)&&(l+=a),l+' <div class="setup-footer setup-done-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupLibrary">'+d(r(n(88920)).call(t,"Back",{hash:{},data:o}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg active"> <div class="loading loading-sm"></div> <span class="btn-label">'+d(r(n(88920)).call(t,"Done",{hash:{},data:o}))+'</span> </button> <button class="done-btn btn btn-primary btn-lg hidden"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},79989:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression;return l+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> ',((a=i.if.call(t,t&&t.shared,{hash:{},inverse:this.program(3,(function(e,t){return""+" <h1>"+c(r(n(88920)).call(e,"A problem has been detected with a core component of Plex Media Server.",{hash:{},data:t}))+'</h1> <h2 class="text-muted">'+c(r(n(88920)).call(e,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</h2> "}),o),fn:this.program(1,(function(e,t){return""+" <h1>"+c(r(n(88920)).call(e,"Setup is not allowed for shared servers.",{hash:{},data:t}))+"</h1> "}),o),data:o}))||0===a)&&(l+=a),l+" </div> </div> "}))},51119:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a,l="",c=this.escapeExpression,d="function";return l+'<h2 class="setup-intro-header">'+c(r(n(88920)).call(t,"How Plex Works",{hash:{},data:o}))+"</h2> <h4>"+c(r(n(88920)).call(t,"Plex Media Server runs on the computer where you keep your media",{hash:{},data:o}))+'</h4> <img class="setup-intro-img setup-intro-computer-img" src="'+c(typeof(a=t&&t.computerImg)===d?a.apply(t):a)+'"> <h4>'+c(r(n(88920)).call(t,"Plex scans your media, automatically organizes it, and makes it beautiful",{hash:{},data:o}))+'</h4> <img class="setup-intro-img setup-intro-media-img" src="'+c(typeof(a=t&&t.mediaImg)===d?a.apply(t):a)+'"> <h4>'+c(r(n(88920)).call(t,"Play your media on any screen with your favorite Plex app",{hash:{},data:o}))+'</h4> <img class="setup-intro-img setup-intro-play-img" src="'+c(typeof(a=t&&t.playImg)===d?a.apply(t):a)+'"> <p> <button class="next-btn btn btn-primary btn-lg" data-subset="setupLoading">'+c(r(n(88920)).call(t,"Got it!",{hash:{},data:o}))+"</button> </p> "}))},41411:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+l(r(n(88920)).call(t,"Organize Your Media",{hash:{},data:o}))+'</h4> <p class="text-muted">'+l(r(n(88920)).call(t,"Plex organizes your media into libraries. You can add as many libraries as you want, and you can have multiple libraries with the same type.",{hash:{},data:o}))+'</p> <p class="setup-add-section-container"> <button class="add-section-btn btn btn-default">'+l(r(n(88920)).call(t,"Add Library",{hash:{},data:o}))+'</button> </p> <div class="setup-section-list-container"></div> <div class="setup-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupBasic">'+l(r(n(88920)).call(t,"Back",{hash:{},data:o}))+'</button> <button class="next-btn btn btn-primary btn-lg" data-subset="setupComplete">'+l(r(n(88920)).call(t,"Next",{hash:{},data:o}))+"</button> </div> </div> </div> "}))},32094:(e,t,n)=>{var i=n(40202);e.exports=(i.default||i).template((function(e,t,i,r,s){var o;return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},""+'<div class="loading loading-inline"></div> <p class="loading-title">'+(0,this.escapeExpression)((o=n(88920),o&&(o.__esModule?o.default:o)).call(t,"Please wait a moment while Plex starts.",{hash:{},data:s}))+"</p> "}))},49506:(e,t,n)=>{var i=n(40202);function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,s,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var a="",l=this.escapeExpression;return a+'<div class="setup-header row hidden"> <div class="col-sm-6 col-sm-offset-3"> <div class="sign-in-logo text-center"> <i class="plex-image plex-logo"></i> </div> <h2>'+l(r(n(88920)).call(t,"Server Setup",{hash:{},data:o}))+'</h2> <div class="setup-progress"> <div class="basic-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupBasic" href="#">'+l(r(n(88920)).call(t,"Name",{hash:{},data:o}))+'</a> </div> <div class="library-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupLibrary" href="#">'+l(r(n(88920)).call(t,"Media Library",{hash:{},data:o}))+'</a> </div> <div class="complete-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupComplete" href="#">'+l(r(n(88920)).call(t,"Finish",{hash:{},data:o}))+'</a> </div> </div> </div> </div> <div class="setup-container"></div> '}))},90030:()=>{},36863:()=>{},43994:()=>{},27273:()=>{},31813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={plexIcon:"y8bwX"}},74576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={modalFooter:"dNFZf",button:"UI5wX r2dcz x5jRQ",splitButton:"oA0q0 UI5wX r2dcz x5jRQ"}},81985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),r=n.n(i),s=n(67294),o=n(31813);function a(e){const t=e["aria-label"],n=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-560"};r["aria-hidden"]=!t,r.style=i,r.className=o.Z.plexIcon+(n?" "+n:"");const a=[s.createElement.apply(s,["path",{d:"m280 0l-280 520 560 0-280-520m0 400c22.077 0 40 17.923 40 40 0 22.077-17.923 40-40 40-22.077 0-40-17.923-40-40 0-22.077 17.923-40 40-40m-30-40l0-220 60 0 0 220-60 0"}].concat([]))];return t&&a.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",r].concat(a))}a.propTypes={"aria-label":r().string,className:r().string,style:r().object};const l=a},3694:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(45697),r=n.n(i),s=n(67294),o=n(31813);function a(e){const t=e["aria-label"],n=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-remove-560"};r["aria-hidden"]=!t,r.style=i,r.className=o.Z.plexIcon+(n?" "+n:"");const a=[s.createElement.apply(s,["path",{d:"m120 70l-50 50 160 160-160 160 50 50 160-160 160 160 50-50-160-160 160-160-50-50-160 160-160-160"}].concat([]))];return t&&a.unshift(s.createElement("title",null,t)),s.createElement.apply(s,["svg",r].concat(a))}a.propTypes={"aria-label":r().string,className:r().string,style:r().object};const l=a}},e=>{e.O(0,[179],(()=>{[155,357,559,274,154,675,952,960,322].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[384],(()=>(t(97754),t(86322)))),e.O()}]);