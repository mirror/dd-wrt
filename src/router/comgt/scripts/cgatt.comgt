opengt
    set senddelay 0.05
    waitquiet 1 0.2
  print "\nWait till carrier is attached\n"
  let c=1
 :loop
    inc c
    sleep 2
    send "AT+CGATT?^m"
    waitfor 5 "+CGATT: 1","+CGATT: 0"
    print "\n."
    if % = -1 goto error
    if c > 10 goto toolong
    if % = 0 goto out
    if % = 1 goto loop
  :toolong
  exit 1
  :error
  exit 0
  :out
  send "AT+CSQ^m"
 get 1 " ^m" $s
 get 1 " ^m" $s
 get 1 " ^m" $s
 #print $s,"\n" 
 exec "/etc/comgt/signal.sh "+$s
 exit 0
